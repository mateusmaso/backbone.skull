// hipbone
// ------------------
// v1.0.0
//
// Copyright (c) 2012-2015 Mateus Maso
// Distributed under MIT license
//
// http://github.com/mateusmaso/hipbone

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){window.Hipbone={VERSION:"1.0.0",I18n:a("./hipbone/i18n"),View:a("./hipbone/view"),Model:a("./hipbone/model"),Route:a("./hipbone/route"),Module:a("./hipbone/module"),Router:a("./hipbone/router"),History:a("./hipbone/history"),Storage:a("./hipbone/storage"),Collection:a("./hipbone/collection"),Application:a("./hipbone/application"),IdentityMap:a("./hipbone/identity_map")}}).call(this)},{"./hipbone/application":2,"./hipbone/collection":22,"./hipbone/history":31,"./hipbone/i18n":32,"./hipbone/identity_map":33,"./hipbone/model":34,"./hipbone/module":43,"./hipbone/route":44,"./hipbone/router":52,"./hipbone/storage":55,"./hipbone/view":57}],2:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./module"),b.exports=c=function(b){function c(a){null==a&&(a={}),Hipbone.app=this,this.identityMap=new Hipbone.IdentityMap,this.initializeState(a.state,_.extend({title:"App",assets:{}},a.stateDefaults)),this.initializeTemplates(a.templatePath,a.templates),this.initializeViews(a.views),this.initializeModels(a.models),this.initializeRoutes(a.routes),this.initializeCollections(a.collections),this.initializeLocales(a.locales,a.locale),this.initializeAjax(a.ajaxHost,a.ajaxHeaders),this.initializeInitializers(a.initializers),this.history=Backbone.history=new Hipbone.History,this.router=new Hipbone.Router,this.storage=new Hipbone.Storage,this.runInitializers(a),this.initialize(a)}return e(c,b),c.registerModule("Application"),c.include(Backbone.Events),c.include(a("./application/ajax")),c.include(a("./application/models")),c.include(a("./application/routes")),c.include(a("./application/views")),c.include(a("./application/templates")),c.include(a("./application/collections")),c.include(a("./application/state")),c.include(a("./application/locales")),c.include(a("./application/initializers")),c.prototype.initialize=function(a){null==a&&(a={})},c.prototype.run=function(){return this.trigger("run")},c}(d)}).call(this)},{"./application/ajax":3,"./application/collections":4,"./application/initializers":5,"./application/locales":16,"./application/models":17,"./application/routes":18,"./application/state":19,"./application/templates":20,"./application/views":21,"./module":43}],3:[function(a,b,c){(function(){var a=[].slice;b.exports={initializeAjax:function(a,b){return null==a&&(a=""),null==b&&(b={}),this.ajaxHost||(this.ajaxHost=a),this.ajaxHeaders||(this.ajaxHeaders=b)},ajax:function(a){return null==a&&(a={}),this.ajaxHandle(Backbone.ajax(this.ajaxSettings(a)))},ajaxHandle:function(b){return b.done(function(b){return function(){return b.trigger.apply(b,["ajaxSuccess"].concat(a.call(arguments)))}}(this)),b.fail(function(b){return function(){return b.trigger.apply(b,["ajaxError"].concat(a.call(arguments)))}}(this)),b},ajaxSettings:function(a){var b,c,d;null==a&&(a={}),a.url=this.ajaxHost+a.url,"POST"===a.type&&(a.dataType="json",a.contentType="application/json",a.data=JSON.stringify(a.data)),a.headers||(a.headers={}),c=this.ajaxHeaders;for(b in c)d=c[b],_.isFunction(d)&&(d=d.apply(this)),a.headers[b]=d;return a.beforeSend=_.catenate(function(a,b){return null==b&&(b={}),a.settings=b},a.beforeSend),a}}}).call(this)},{}],4:[function(a,b,c){(function(){b.exports={initializeCollections:function(a){var b,c,d,e;null==a&&(a={}),this.collections=_.extend({},this.collections,a),d=_.pick(this.constructor,_.functions(this.constructor)),e=[];for(c in d)b=d[c],b.prototype instanceof Hipbone.Collection?e.push(this.collections[c]=b):e.push(void 0);return e}}}).call(this)},{}],5:[function(a,b,c){(function(){b.exports={initializers:[a("./initializers/sync"),a("./initializers/register_modules"),a("./initializers/register_elements"),a("./initializers/register_helpers"),a("./initializers/parse_body"),a("./initializers/parse_model"),a("./initializers/link_bridge"),a("./initializers/prevent_form"),a("./initializers/start_history")],initializeInitializers:function(a){var b,c,d,e;for(null==a&&(a=[]),e=[],b=0,d=a.length;d>b;b++)c=a[b],e.push(this.initializers.push(c));return e},runInitializers:function(a){var b,c,d,e,f;for(e=this.initializers,f=[],b=0,d=e.length;d>b;b++)c=e[b],f.push(c.apply(this,[a]));return f}}}).call(this)},{"./initializers/link_bridge":7,"./initializers/parse_body":8,"./initializers/parse_model":9,"./initializers/prevent_form":10,"./initializers/register_elements":11,"./initializers/register_helpers":12,"./initializers/register_modules":13,"./initializers/start_history":14,"./initializers/sync":15}],6:[function(a,b,c){(function(){b.exports=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;l=function(a,b,c){return null==a.prototype[b]||_.isEqual(a.__super__[b],a.prototype[b])?a.prototype[b]=c:void 0},i=_.pick(this.constructor,_.functions(this.constructor)),k=[];for(h in i)if(g=i[h],g.prototype instanceof Hipbone.Model&&(b=this.models[h]=g,b.prototype.defaults=_.extend({},_.clone(b.prototype.defaults),{type:h}),l(b,"hashName",_.string.dasherize(h).substring(1))),g.prototype instanceof Hipbone.Route&&(c=this.routes[h]=g,l(c,"hashName",_.string.dasherize(h).substring(1))),g.prototype instanceof Hipbone.Collection&&(a=this.collections[h]=g,l(a,"hashName",_.string.dasherize(h).substring(1))),g.prototype instanceof Hipbone.View){d=this.views[h]=g,e=[],j=d.prototype.defaults;for(f in j)m=j[f],_.isBoolean(m)&&e.push(f);l(d,"hashName",_.string.dasherize(h).substring(1)),l(d,"booleans",e),k.push(l(d,"elementName",_.string.dasherize(h).substring(1).replace("-view","")))}else k.push(void 0);return k}}).call(this)},{}],7:[function(a,b,c){(function(){b.exports=function(){return $("body").on("click","a:not([bypass])",function(a){return function(b){var c;return b.ctrlKey||b.metaKey||a.history.location.hostname!==b.currentTarget.hostname||$(b.currentTarget).attr("target")||!(c=$(b.currentTarget).attr("href"))?void 0:(b.preventDefault(),a.router.navigate(c,{trigger:!0}))}}(this))}}).call(this)},{}],8:[function(a,b,c){(function(){b.exports=function(){return this.on("run",function(){var a,b,c,d;Handlebars.parseHTML(document.body.childNodes),b=this.identityMap.match(/view/),c=[];for(a in b)d=b[a],d instanceof this.views.ApplicationView&&c.push(this.appView=d);return c})}}).call(this)},{}],9:[function(a,b,c){(function(){b.exports=function(){var a;return a=Handlebars.parseValue,Handlebars.parseValue=function(b){return function(c,d){var e;return c=a.apply(b,[c,d]),c&&(e=b.identityMap.find(c.cid))&&(c=e),c}}(this)}}).call(this)},{}],10:[function(a,b,c){(function(){b.exports=function(){return $("body").on("submit","form:not([bypass])",function(a){return a.preventDefault()})}}).call(this)},{}],11:[function(a,b,c){(function(){b.exports=function(){var a,b,c,d;c=this.views,d=[];for(b in c)a=c[b],d.push(function(a,b){return Handlebars.registerElement(b.elementName(),function(a){return new b(a,$(this).contents()).el},{booleans:b.booleans()})}(b,a));return d}}).call(this)},{}],12:[function(require,module,exports){(function(){var slice=[].slice;module.exports=function(){var app,eachHelper,ifHelper;return app=this,Handlebars.registerHelper("asset",function(a,b){return null==b&&(b={}),app.get("assets")[a]}),Handlebars.registerHelper("t",function(a,b){return null==b&&(b={}),app.i18n.t(a,b.hash)}),Handlebars.registerHelper("url",function(a,b){return null==b&&(b={}),app.router.url(a,b.hash)}),Handlebars.registerHelper("fmt",function(){var a,b,c,d,e;return e=arguments[0],a=3<=arguments.length?slice.call(arguments,1,b=arguments.length-1):(b=1,[]),d=arguments[b++],null==d&&(d={}),c=0,e.replace(/%@/g,function(b){return a[c++]})}),Handlebars.registerHelper("eval",function(javascript,options){return null==options&&(options={}),eval(javascript)}),Handlebars.registerHelper("template",function(a,b){var c,d;return null==b&&(b={}),c=_.isEmpty(b.hash)?this:b.hash,d=app.getTemplate(a)(c),b.hash.unescape?d:new Handlebars.SafeString(d)}),eachHelper=Handlebars.helpers.each,Handlebars.registerHelper("each",function(a,b){return null==b&&(b={}),a&&(a=a.models||a),eachHelper.apply(this,[a,b])}),ifHelper=Handlebars.helpers["if"],Handlebars.registerHelper("if",function(a,b){var c;return null==b&&(b={}),b.hash.bind&&(null!=(c=_.path(this,a))?c.models:void 0)?a+=".models":a&&(a=a.models||a),ifHelper.apply(this,[a,b])})}}).call(this)},{}],13:[function(a,b,c){(function(){b.exports=function(){var a,b,c,d;c=_.extend({},this.views,this.models,this.routes,this.collections),d=[];for(b in c)a=c[b],d.push(a.registerModule(b));return d}}).call(this)},{}],14:[function(a,b,c){(function(){b.exports=function(){return this.on("run",function(){return this.trigger("start",this.history.start({pushState:!0}))})}}).call(this)},{}],15:[function(a,b,c){(function(){b.exports=function(){var a;return a=Backbone.sync,Backbone.sync=function(b){return function(c,d,e){return null==e&&(e={}),e.sync=!0,e.url||(e.url=d.url(e)),e=b.ajaxSettings(e),b.ajaxHandle(a.apply(b,[c,d,e]))}}(this)}}).call(this)},{}],16:[function(a,b,c){(function(){b.exports={locales:{},initializeLocales:function(a,b){return null==a&&(a="en"),null==b&&(b={}),this.locale||(this.locale=a),this.locales=_.extend(this.locales,b),this.i18n=new Hipbone.I18n(this.locale,this.locales)}}}).call(this)},{}],17:[function(a,b,c){(function(){b.exports={initializeModels:function(a){var b,c,d,e;null==a&&(a={}),this.models=_.extend({},this.models,a),d=_.pick(this.constructor,_.functions(this.constructor)),e=[];for(c in d)b=d[c],b.prototype instanceof Hipbone.Model?e.push(this.models[c]=b):e.push(void 0);return e}}}).call(this)},{}],18:[function(a,b,c){(function(){b.exports={initializeRoutes:function(a){var b,c,d,e;null==a&&(a={}),this.routes=_.extend({},this.routes,a),d=_.pick(this.constructor,_.functions(this.constructor)),e=[];for(c in d)b=d[c],b.prototype instanceof Hipbone.Route?e.push(this.routes[c]=b):e.push(void 0);return e}}}).call(this)},{}],19:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./../model"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.registerModule("State"),b}(c),b.exports={initializeState:function(a,b){return null==a&&(a={}),null==b&&(b={}),d.prototype.defaults=b,this.state=new d(a),this.listenTo(this.state,"all",function(a){return function(){return a.trigger.apply(a,arguments)}}(this))},get:function(){return this.state.get.apply(this.state,arguments)},set:function(){return this.state.set.apply(this.state,arguments)}}}).call(this)},{"./../model":34}],20:[function(a,b,c){(function(){b.exports={initializeTemplates:function(a,b){return null==a&&(a=""),null==b&&(b={}),this.templatePath||(this.templatePath=a),this.templates=_.extend({},this.templates,b)},getTemplate:function(a){return this.templates[""+this.templatePath+a]}}}).call(this)},{}],21:[function(a,b,c){(function(){b.exports={initializeViews:function(a){var b,c,d,e;null==a&&(a={}),this.views=_.extend({},this.views,a),d=_.pick(this.constructor,_.functions(this.constructor)),e=[];for(c in d)b=d[c],b.prototype instanceof Hipbone.View?e.push(this.views[c]=b):e.push(void 0);return e}}}).call(this)},{}],22:[function(a,b,c){(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;d=a("./model"),e=a("./module"),b.exports=c=function(b){function c(a,b){var d;return null==b&&(b={}),_.isArray(a)||(b=a||{},a=void 0),(d=this.initializeStore(b.hashName,a,b))?d:(this.cid=_.uniqueId("collection"),this.initializeMeta(b.meta,b.metaDefaults),this.initializeParent(b.parent),this.initializeFilters(b.filters),this.initializePagination(b.pagination),c.__super__.constructor.apply(this,arguments),this.on("add remove reset sort",function(a){return function(){return a.trigger("update",a)}}(this)),this.on("all",function(a){return function(){return a.store()}}(this)),void this.store())}return f(c,b),_.extend(c,e),c.registerModule("Collection"),c.include(a("./collection/sync")),c.include(a("./collection/meta")),c.include(a("./collection/store")),c.include(a("./collection/parent")),c.include(a("./collection/filters")),c.include(a("./collection/populate")),c.include(a("./collection/pagination")),c.include(a("./collection/dynamic_model")),c.prototype.model=d,c.prototype._prepareModel=function(a,b){return null==b&&(b={}),this.prepareDynamicModel(a,b),c.__super__._prepareModel.apply(this,arguments)},c.prototype.modelId=function(a){return this.dynamicModelId(a)||c.__super__.modelId.apply(this,arguments)},c.prototype.url=function(a){var b,c;return b=this.toJSONFilters(a),c=this.parentUrl(a),_.isEmpty(b)||(c=c+"?"+$.param(b)),c},c.prototype.toJSON=function(a){var b;return null==a&&(a={}),b=c.__super__.toJSON.apply(this,arguments),a.sync||(b=_.extend({cid:this.cid,length:this.length,meta:this.meta.toJSON(),models:b})),b},c.prototype.parse=function(a){return null==a&&(a={}),this.didSync(),this.meta.set(a.meta),a.models||a},c}(Backbone.Collection)}).call(this)},{"./collection/dynamic_model":23,"./collection/filters":24,"./collection/meta":25,"./collection/pagination":26,"./collection/parent":27,"./collection/populate":28,"./collection/store":29,"./collection/sync":30,"./model":34,"./module":43}],23:[function(a,b,c){(function(){b.exports={prepareDynamicModel:function(a,b){return null==b&&(b={}),this._isModel(a)?void 0:a=new(Hipbone.app.models[this.parseModelType(a)]||this.model)(a,b)},parseModelType:function(a){return null==a&&(a={}),a.type},dynamicModelId:function(a){var b;return null==a&&(a={}),b=this.model&&this._isModel(this.model.prototype)?this.model:Hipbone.app.models[this.parseModelType(a)],a[b.prototype.idAttribute]?a[b.prototype.typeAttribute]+"-"+a[b.prototype.idAttribute]:void 0}}}).call(this)},{}],24:[function(a,b,c){(function(){b.exports={initializeFilters:function(a){return null==a&&(a={}),this.filters=_.extend({},this.filters,a)},toJSONFilters:function(a){var b,c,d,e;null==a&&(a={}),c={},d=this.filters;for(b in d)e=d[b],_.isFunction(e)&&(e=e.apply(this,[a])),null!=e&&(c[b]=e);return c}}}).call(this)},{}],25:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty,g=[].slice;d=a("./../model"),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.registerModule("Meta"),b}(d),b.exports={initializeMeta:function(a,b){return null==a&&(a={}),null==b&&(b={}),c.prototype.defaults=b,this.meta=new c(a),this.listenTo(this.meta,"all",function(a){return function(){var b,c;return c=arguments[0],b=2<=arguments.length?g.call(arguments,1):[],a.trigger.apply(a,["meta:"+c].concat(g.call(b)))}}(this))}}}).call(this)},{"./../model":34}],26:[function(a,b,c){(function(){b.exports={initializePagination:function(a){return null==a&&(a={}),this.pagination=_.extend({},this.pagination,a),this.paginationOffset=this.pagination.offset,this.filters||(this.filters={}),this.filters.limit=function(a){return null==a&&(a={}),null!=this.paginationOffset?a.paginate?this.pagination.limit:this.pagination.limit+this.paginationOffset:void 0},this.filters.offset=function(a){return null==a&&(a={}),null!=this.paginationOffset?a.paginate?this.paginationOffset:0:void 0}},incrementPagination:function(){return this.paginationOffset=this.paginationOffset+this.pagination.limit},decrementPagination:function(){return this.paginationOffset=this.paginationOffset-this.pagination.limit},paginate:function(a){return null==a&&(a={}),this.incrementPagination(),this.fetch(_.extend({remove:!1,paginate:!0},a))},hasMore:function(){return this.length<this.getPaginationCount()},getPaginationCount:function(){return this.meta.get("count")}}}).call(this)},{}],27:[function(a,b,c){(function(){b.exports={initializeParent:function(a){return this.parent=a},setParent:function(a,b){return null==b&&(b={}),this.parent===a||(this.parent=a,b.silent)?void 0:this.trigger("change:parent",this.parent)},parentUrl:function(a){return null==a&&(a={}),this.parent?""+this.parent.url(a)+this.urlRoot:this.urlRoot}}}).call(this)},{}],28:[function(a,b,c){(function(){b.exports={populated:function(a){return this.synced},populate:function(a){return this.fetch()},prepare:function(a){return $.when(this.populated(a)||this.populate(a))}}}).call(this)},{}],29:[function(a,b,c){(function(){b.exports={initializeStore:function(a,b,c){var d,e;return this.hashName=a||_.string.dasherize(this.moduleName).substring(1),e=this.hashes(b,c),(d=Hipbone.app.identityMap.findAll(e)[0])?(b&&d.set(b,c),c.meta&&d.meta.set(c.meta),c.parent&&d.setParent(c.parent),d):(this.store(e),null)},hashes:function(a,b){var c,d;return null==b&&(b={}),c=[],this.cid&&c.push(this.cid),(null!=(d=b.parent)?d.cid:void 0)&&c.push(this.hashName+"-"+b.parent.cid),c},store:function(a){return a||(a=this.hashes(this.models,{parent:this.parent,meta:this.meta})),Hipbone.app.identityMap.storeAll(a,this)}}}).call(this)},{}],30:[function(a,b,c){(function(){b.exports={unsync:function(){return delete this.synced,this.trigger("unsync",this)},didSync:function(){return this.synced=Date.now(),this.trigger("synced",this)}}}).call(this)},{}],31:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./module"),b.exports=c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),_.extend(b,d),b.registerModule("History"),b.prototype.route=function(a,b){return this.handlers.push({route:a,callback:b})},b.prototype.reload=function(a){return a?this.location.assign(a):this.location.reload()},b.prototype.change=function(a){var b,c,d;for(c in a)d=a[c],null==d&&delete a[c];return b=this.location.pathname,_.isEmpty(a)||(b+="?"+$.param(a)),this.history.replaceState({},document.title,b)},b.prototype.parameters=function(){var a,b,c,d,e,f;for(d={},e=/([^&=]+)=?([^&]*)/g;b=e.exec(this.location.search.substring(1));)c=b[0],a=b[1],f=b[2],d[this.decode(a)]=_.parse(this.decode(f));return d},b.prototype.decode=function(a){return decodeURIComponent(a.replace(/\+/g," "))},b.prototype.checkUrl=function(a){return this.popstate=!0,b.__super__.checkUrl.apply(this,arguments),this.popstate=!1},b}(Backbone.History)}).call(this)},{"./module":43}],32:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./module"),b.exports=c=function(a){function b(a,b,c){null==b&&(b={}),this.locale=a,this.locales=b,this.splitter=c||/{{\w+}}/g}return e(b,a),b.registerModule("I18n"),b.prototype.interpolate=function(a,b){var c,d,e,f,g;for(null==b&&(b={}),f=a.match(this.splitter)||[],c=0,d=f.length;d>c;c++)e=f[c],g=b[e.replace(/\W/g,"")],a=a.replace(e,g);return a},b.prototype.pluralize=function(a,b){return a+=0===b?".zero":1===b?".one":".other",_.path(this.locales[this.locale],a)},b.prototype.inflector=function(a,b){return a+="m"===b?".male":"f"===b?".female":".neutral",_.path(this.locales[this.locale],a)},b.prototype.translate=function(a,b){var c;return null==b&&(b={}),c=_.has(b,"count")?this.pluralize(a,b.count):_.has(b,"gender")?this.inflector(a,b.gender):_.path(this.locales[this.locale],a),this.interpolate(c,b)},b.prototype.t=b.prototype.translate,b}(d)}).call(this)},{"./module":43}],33:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./module"),b.exports=c=function(a){function b(){this.instances={}}return e(b,a),b.registerModule("IdentityMap"),b.prototype.match=function(a){var b,c,d,e;d={},e=this.instances;for(c in e)b=e[c],a.test(c)&&(d[c]=b.value);return d},b.prototype.find=function(a){var b,c;return(c=null!=(b=this.instances[a])?b.value:void 0)&&this.store(a,c),c},b.prototype.findAll=function(a){var b,c,d,e,f;for(f=[],b=0,d=a.length;d>b;b++)c=a[b],(e=this.find(c))&&f.push(e);return f},b.prototype.store=function(a,b,c){var d;return null==c&&(c={}),d={value:b},this.instances[a]=_.extend(d,c)},b.prototype.storeAll=function(a,b,c){var d,e,f,g;for(null==c&&(c={}),g=[],d=0,f=a.length;f>d;d++)e=a[d],g.push(this.store(e,b,c));return g},b.prototype["delete"]=function(a){return delete this.instances[a]},b.prototype.deleteAll=function(a){var b,c,d,e;for(e=[],b=0,d=a.length;d>b;b++)c=a[b],e.push(this["delete"](c));return e},b.prototype.clear=function(){return this.deleteAll(_.keys(this.instances))},b}(d)}).call(this)},{"./module":43}],34:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./module"),b.exports=c=function(b){function c(a,b){var d;return null==a&&(a={}),null==b&&(b={}),(d=this.initializeStore(b.hashName,a,b))?d:(this.initializeType(b.type,b.typeAttribute),this.initializeMappings(b.mappings,b.polymorphics),this.initializeValidations(b.validations),this.initializeComputedAttributes(b.computedAttributes),c.__super__.constructor.apply(this,arguments),this.on("all",function(a){return function(){return a.store()}}(this)),void this.store())}return e(c,b),_.extend(c,d),c.registerModule("Model"),c.include(a("./model/type")),c.include(a("./model/sync")),c.include(a("./model/store")),c.include(a("./model/mappings")),c.include(a("./model/populate")),c.include(a("./model/validations")),c.include(a("./model/nested_attributes")),c.include(a("./model/computed_attributes")),c.prototype.cidPrefix="model",c.prototype.get=function(a){return this.mappings[a]||_.contains(this.polymorphics,a)?this.getMapping(a):this.computedAttributes[a]?this.getComputedAttribute(a):this.getNestedAttribute(a)},c.prototype.set=function(a,b,d){var e;return null==d&&(d={}),_.isObject(a)?(e=a,d=b||{}):(e={},e[a]=b),this.setType(e),this.setMappings(e,d),this.setNestedAttributes(e,d),c.__super__.set.call(this,e,d),this.nestedChangeTrigger(d)},c.prototype.toJSON=function(a){var b,d,e,f,g;null==a&&(a={}),g=a.mappings||{};for(e in g)f=g[e],f.sync=a.sync;return b=a.computedAttributes||_.keys(this.computedAttributes),d=_.deepClone(c.__super__.toJSON.apply(this,arguments)),a.sync||(d=_.extend(d,{cid:this.cid},this.toJSONComputedAttributes(b),this.toJSONMappings(g))),d},c.prototype.parse=function(a){return null==a&&(a={}),this.didSync(),a},c}(Backbone.Model)}).call(this)},{"./model/computed_attributes":35,"./model/mappings":36,"./model/nested_attributes":37,"./model/populate":38,"./model/store":39,"./model/sync":40,"./model/type":41,"./model/validations":42,"./module":43}],35:[function(a,b,c){(function(){b.exports={initializeComputedAttributes:function(a){return null==a&&(a={}),this.computedAttributes=_.extend({},this.computedAttributes,a)},getComputedAttribute:function(a){var b;return b=this.computedAttributes[a],_.isFunction(b)||(b=this[b]),b?b.apply(this):void 0},setComputedAttribute:function(a,b){var c;return c=this.computedAttributes[a],_.isFunction(c)||(c=this[c]),c?c.apply(this,[b]):void 0},toJSONComputedAttributes:function(a){var b,c,d,e;for(d={},c=0,e=a.length;e>c;c++)b=a[c],d[b]=this.getComputedAttribute(b);return d}}}).call(this)},{}],36:[function(a,b,c){(function(){b.exports={initializeMappings:function(a,b){return null==a&&(a={}),null==b&&(b=[]),this.transients={},this.mappings=_.extend({},this.mappings,a),this.polymorphics=_.union([],this.polymorphics,b)},mappingIdAttribute:function(a){return a+"_id"},mappingTypeAttribute:function(a){return a+"_type"},getMapping:function(a){var b,c,d,e,f;return f=this.mappings[a],Hipbone.app.models[f]||_.contains(this.polymorphics,a)?(d=this.get(this.mappingIdAttribute(a)),f=this.get(this.mappingTypeAttribute(a))||f,b={},b[Hipbone.app.models[f].prototype.idAttribute]=d,d&&(e=new Hipbone.app.models[f](b))):Hipbone.app.collections[f]&&(c=new Hipbone.app.collections[f]({parent:this})),e||c||this.transients[a]},setMapping:function(a,b,c){var d,e,f,g,h;return null==c&&(c={}),h=this.mappings[a],b instanceof Hipbone.Model?f=b:b instanceof Hipbone.Collection?(d=b,d.setParent(this)):Hipbone.app.models[h]||_.contains(this.polymorphics,a)?(h=this.parseMappingType(a,b)||h,b&&(f=new Hipbone.app.models[h](b,c))):Hipbone.app.collections[h]&&(_.isArray(b)?g=b:_.isObject(b)&&(e=b.meta,g=b.models),d=new Hipbone.app.collections[h](g,_.extend(c,{parent:this,meta:e}))),f?(this.set(this.mappingIdAttribute(a),f.id),_.contains(this.polymorphics,a)&&this.set(this.mappingTypeAttribute(a),f.type),f.isNew()&&(this.transients[a]=f)):d?this.transients[a]=d:(delete this.transients[a],this.unset(this.mappingIdAttribute(a)),this.unset(this.mappingTypeAttribute(a))),f||d},setMappings:function(a){var b,c,d,e;null==a&&(a={}),c=_.pick(a,_.keys(this.mappings),this.polymorphics),d=[];for(b in c)e=c[b],this.setMapping(b,e,{parse:!0}),d.push(delete a[b]);return d},parseMappingType:function(a,b){return null==b&&(b={}),b.type},toJSONMappings:function(a){var b,c,d,e;b={};for(c in a)d=a[c],b[c]=null!=(e=this.getMapping(c))?e.toJSON(d):void 0;return b}}}).call(this)},{}],37:[function(a,b,c){(function(){b.exports={getNestedAttribute:function(a){return _.path(this.attributes,a)},setNestedAttribute:function(a,b,c){var d,e,f,g,h,i,j;if(null==c&&(c={}),b=attributes[a],delete attributes[a],!_.isEqual(this.get(a),b)&&(f={},f[a]=b,h=this.get(a),this.attributes=_.pathExtend(this.attributes,f),!c.silent)){for(i=_.clone(paths).reverse(),j=[],d=0,e=i.length;e>d;d++)g=i[d],a=paths.join("."),paths.pop(),this.nestedChanged[a]=b,j.push(this.trigger("change:"+a,this,h,c));return j}},setNestedAttributes:function(a,b){var c,d,e;null==a&&(a={}),null==b&&(b={}),this.nestedChanged={},d=[];for(c in a)e=a[c],c.split(".").length>1&&(this.setNestedAttribute(c,e,b),d.push(delete a[c]));return d},nestedChangeTrigger:function(a){return 0===_.keys(this.changed).length&&0!==_.keys(this.nestedChanged).length?this.trigger("change",this,a):void 0}}}).call(this)},{}],38:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{dup:28}],39:[function(a,b,c){(function(){b.exports={initializeStore:function(a,b,c){var d,e;return null==b&&(b={}),null==c&&(c={}),this.hashName=a||_.string.dasherize(this.moduleName).substring(1),d=this.hashes(b),(e=Hipbone.app.identityMap.findAll(d)[0])?(e.set(b,c),e):(this.store(d),null)},hashes:function(a){var b;return b=[],this.cid&&b.push(this.cid),a[this.idAttribute]&&b.push(this.hashName+"-"+a[this.idAttribute]),b},store:function(a){return a||(a=this.hashes(this.attributes)),Hipbone.app.identityMap.storeAll(a,this)}}}).call(this)},{}],40:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{dup:30}],41:[function(a,b,c){(function(){b.exports={initializeType:function(a,b){return null==b&&(b="type"),this.type=a||this.moduleName,this.typeAttribute||(this.typeAttribute=b),this.defaults=_.extend({},_.clone(this.defaults),{type:this.type})},setType:function(a){return null==a&&(a={}),this.type=a[this.typeAttribute]||this.type}}}).call(this)},{}],42:[function(a,b,c){(function(){b.exports={initializeValidations:function(a){return null==a&&(a={}),this.errors=[],this.validations=_.extend({},this.validations,a)},hasErrors:function(a){return null==a&&(a=[]),_.isEmpty(a)?this.errors.length>0:_.intersection(this.errors,a).length>0},validate:function(a){var b,c,d;null==a&&(a={}),this.errors=[];for(b in a)d=a[b],c=this.validations[b],c&&!c.apply(this,[d,a])&&this.errors.push(b);return this.hasErrors()?this.errors:void 0}}}).call(this)},{}],43:[function(a,b,c){(function(){var a,c=[].slice,d=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};b.exports=a=function(){function a(){}var b,e;return e=[],b=["included","extended"],a.prototype.moduleName="Module",a.registerModule=function(a){return this.prototype.moduleName=a,e[a]=this},a.include=function(){var a,e,f,g,h,i,j;for(h=1<=arguments.length?c.call(arguments,0):[],j=[],a=0,e=h.length;e>a;a++){g=h[a];for(i in g)f=g[i],d.call(b,i)<0&&(this.prototype[i]=f);g.included?j.push(g.included.apply(this)):j.push(void 0)}return j},a.extend=function(){var a,e,f,g,h,i,j;for(h=1<=arguments.length?c.call(arguments,0):[],j=[],a=0,e=h.length;e>a;a++){g=h[a];for(i in g)f=g[i],d.call(b,i)<0&&(this[i]=f);g.extended?j.push(g.extended.apply(this)):j.push(void 0)}return j},a}()}).call(this)},{}],44:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./module"),b.exports=d=function(b){function c(a,b){var c;return null==a&&(a={}),null==b&&(b={}),(c=this.initializeStore(b.hashName,a))?c:(this.cid=_.uniqueId("route"),this.initializeView(b.templateName,b.contentTemplateName),this.initializeParameters(a,b.paramsDefaults),this.initialize(a),this.on("all",function(a){return function(){return a.store()}}(this)),this.prepare(),void this.store())}return e(c,b),c.registerModule("Route"),c.include(Backbone.Events),c.include(a("./route/url")),c.include(a("./route/view")),c.include(a("./route/title")),c.include(a("./route/store")),c.include(a("./route/active")),c.include(a("./route/populate")),c.include(a("./route/parameters")),c.prototype.initialize=function(a){null==a&&(a={})},c}(c)}).call(this)},{"./module":43,"./route/active":45,"./route/parameters":46,"./route/populate":47,"./route/store":48,"./route/title":49,"./route/url":50,"./route/view":51}],45:[function(a,b,c){(function(){b.exports={beforeActive:function(){return!0},active:function(){return this.beforeActive()!==!1?(this.updateTitle(),this.render()):void 0}}}).call(this)},{}],46:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./../model"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.registerModule("Parameters"),b}(c),b.exports={initializeParameters:function(a,b){return null==a&&(a={}),null==b&&(b={}),d.prototype.defaults=b,this.params=this.parameters=new d(this.parse(a)),this.listenTo(this.params,"all",function(a){return function(){return a.trigger.apply(a,arguments)}}(this))},get:function(){return this.params.get.apply(this.params,arguments)},set:function(){return this.params.set.apply(this.params,arguments)},parse:function(a){return null==a&&(a={}),a}}}).call(this)},{"./../model":34}],47:[function(a,b,c){(function(){b.exports={populated:function(a){return!1},populate:function(a){return $.when(!0)},prepare:function(a){return $.when(this.populated(a)||this.populate(a))}}}).call(this)},{}],48:[function(a,b,c){(function(){b.exports={initializeStore:function(a,b){var c,d,e;return null==b&&(b={}),this.hashName=a||_.string.dasherize(this.moduleName).substring(1),c=this.hashes(b),d=Hipbone.app.history.location.pathname,Hipbone.app.identityMap.find(d)&&!Hipbone.app.history.popstate&&(c=_.without(c,d)),(e=Hipbone.app.identityMap.findAll(c)[0])?(e.set(b),e):(this.store(c),
null)},hashes:function(a){var b;return null==a&&(a={}),b=[],this.cid&&b.push(this.cid),b.push(Hipbone.app.history.location.pathname),b},store:function(a){return a||(a=this.hashes(this.params.attributes)),Hipbone.app.identityMap.storeAll(a,this)}}}).call(this)},{}],49:[function(a,b,c){(function(){b.exports={title:function(){return Hipbone.app.get("title")},updateTitle:function(){return document.title=this.title()}}}).call(this)},{}],50:[function(a,b,c){(function(){b.exports={initializeUrl:function(a){return null==a&&(a=""),this.url||(this.url=a)},toURL:function(a){return null==a&&(a={}),""}}}).call(this)},{}],51:[function(a,b,c){(function(){b.exports={initializeView:function(a,b){return this.templateName||(this.templateName=a||view.prototype.templateName),this.contentTemplateName||(this.contentTemplateName=b),this._content=null},context:function(){return{}},content:function(){return Hipbone.app.appView.template(this.contentTemplateName,this.context())},render:function(){return this._content||(this._content=this.content()),Hipbone.app.appView.set(this.context()),Hipbone.app.appView.content!==this._content?(Hipbone.app.appView.content=this._content,Hipbone.app.appView.templateName=this.templateName,Hipbone.app.appView.$el.children().detach(),Hipbone.app.appView.render()):void 0}}}).call(this)},{}],52:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./module"),b.exports=d=function(b){function d(a){null==a&&(a={}),this.initializeMatches(a.matches),d.__super__.constructor.apply(this,arguments)}return e(d,b),_.extend(d,c),d.include(a("./router/url")),d.include(a("./router/matches")),d.prototype.navigate=function(a,b){return null==b&&(b={}),a=this.urlFragment(a,b.params),b.reload?Hipbone.app.history.reload(a):b.load?Hipbone.app.history.loadUrl(a):d.__super__.navigate.call(this,a,b)},d}(Backbone.Router)}).call(this)},{"./module":43,"./router/matches":53,"./router/url":54}],53:[function(a,b,c){(function(){b.exports={initializeMatches:function(a){return null==a&&(a={}),this.matches=_.extend({},this.matches,a)},match:function(a){var b;return this.matches[a]=_.string.capitalize(a)+"Route",b=Hipbone.app.routes[this.matches[a]].prototype.url,this.route(b,a,function(){var c,d,e,f,g,h,i;for(g=Hipbone.app.history.parameters(),h=b.match(/:\w+/g)||[],d=c=0,e=h.length;e>c;d=++c)f=h[d],arguments[d]&&(g[f.substring(1)]=_.parse(arguments[d]));return i=new Hipbone.app.routes[this.matches[a]](g),i.active()})}}}).call(this)},{}],54:[function(a,b,c){(function(){b.exports={url:function(a,b){return Hipbone.app.routes[this.matches[a]].prototype.toURL(b)},urlFragment:function(a,b){var c;return this.matches[a]&&(a=this.url(a,options.params)),c=$("<a>").attr("href",a).get(0),options.params&&(c.search=$.param(options.params)),a=c.pathname+c.search}}}).call(this)},{}],55:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./module"),b.exports=d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.registerModule("Storage"),b.prototype.match=function(a){var b,c,d;c={};for(b in localStorage)d=localStorage[b],a.test(b)&&(c[b]=JSON.parse(d));return c},b.prototype.get=function(a){var b;return(b=localStorage[a])?_.parse(b):void 0},b.prototype.set=function(a,b){return localStorage.setItem(a,JSON.stringify(b))},b.prototype.unset=function(a){return localStorage.removeItem(a)},b}(c)}).call(this)},{"./module":43}],56:[function(a,b,c){(function(){var a;a=Backbone.sync,b.exports=function(b,c,d){return null==d&&(d={}),d.sync=!0,d.url||(d.url=c.url(d)),d=Hipbone.app.ajaxSettings(d),Hipbone.app.ajaxHandle(a.apply(this,[b,c,d]))}}).call(this)},{}],57:[function(a,b,c){(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./module"),b.exports=d=function(b){function d(a,b,c){var e;return null==a&&(a={}),null==c&&(c={}),(e=this.initializeStore(c.hashName,a))?e:(this.initializeContext(),this.initializeContent(b,c.container),this.initializePopulate(c.background),this.initializeBooleans(c.booleans),this.initializeElements(c.elementName,c.elements),this.initializeTemplate(c.templateName),this.initializeProperties(a),this.initializeClassNameBindings(c.classNameBindings),d.__super__.constructor.apply(this,arguments),this.on("change",function(a){return function(){return a.update()}}(this)),this.on("all",function(a){return function(){return a.store()}}(this)),this.lifecycle(),this.prepare(),this.render(),void this.store())}return e(d,b),_.extend(d,c),d.registerModule("View"),d.include(Backbone.Events),d.include(a("./view/store")),d.include(a("./view/bubble")),d.include(a("./view/update")),d.include(a("./view/content")),d.include(a("./view/context")),d.include(a("./view/booleans")),d.include(a("./view/template")),d.include(a("./view/populate")),d.include(a("./view/elements")),d.include(a("./view/attribute")),d.include(a("./view/lifecycle")),d.include(a("./view/properties")),d.include(a("./view/view_selector")),d.include(a("./view/class_name_bindings")),d.prototype.destroy=function(){},d.prototype._ensureElement=function(){return d.__super__._ensureElement.apply(this,arguments),this.set({"class":this.el.className+" "+(this.get("class")||"")}),this._setAttributes(this.properties.attributes),this.assignViewFor(this.el)},d.prototype._setAttributes=function(a){var b,c,d;null==a&&(a={}),c=[];for(b in a)d=a[b],c.push(this.setAttribute(b,d));return c},d.prototype.$=function(a){return d.__super__.$.call(this,this.getSelector(a))},d.prototype.render=function(){return this.update({immediate:!0}),this.renderTemplate(),this.renderContent()},d.prototype.delegate=function(a,b,c){return d.__super__.delegate.call(this,a,this.getSelector(b),c)},d.prototype.remove=function(){return this.destroy(),d.__super__.remove.apply(this,arguments)},d}(Backbone.View)}).call(this)},{"./module":43,"./view/attribute":58,"./view/booleans":59,"./view/bubble":60,"./view/class_name_bindings":62,"./view/content":63,"./view/context":64,"./view/elements":65,"./view/lifecycle":66,"./view/populate":67,"./view/properties":68,"./view/store":69,"./view/template":70,"./view/update":71,"./view/view_selector":72}],58:[function(a,b,c){(function(){b.exports={setAttribute:function(a,b){if(a=_.string.dasherize(a),"class"===a)return this.$el.addClass(b);if(_.contains(this.booleans,a)){if(b)return this.$el.attr(a,"")}else if(!_.isObject(b))return this.$el.attr(a,b)}}}).call(this)},{}],59:[function(a,b,c){(function(){b.exports={included:function(){return this.booleans=function(){var a,b,c,d;a=[],c=this.prototype.defaults;for(b in c)d=c[b],_.isBoolean(d)&&a.push(b);return a}},initializeBooleans:function(a){return a?this.booleans=a:void 0}}}).call(this)},{}],60:[function(a,b,c){(function(){var a=[].slice;b.exports={bubble:function(){var b,c;return c=arguments[0],b=2<=arguments.length?a.call(arguments,1):[],this.trigger.apply(this,arguments),this.$el.trigger(c,b)}}}).call(this)},{}],61:[function(a,b,c){(function(){b.exports={initializeClassBindings:function(){return this.classNameBindings||(this.classNameBindings={})},updateClassBindings:function(){var a,b,c,d,e,f;this._classNameBindings||(this._classNameBindings={}),d=this.classNameBindings,e=[];for(b in d)a=d[b],c=this._classNameBindings[b],f=this._classNameBindings[b]=a.apply(this),_.isBoolean(f)?f?e.push(this.$el.addClass(b)):e.push(this.$el.removeClass(b)):f!==c?(this.$el.removeClass(c),e.push(this.$el.addClass(f))):e.push(void 0);return e}}}).call(this)},{}],62:[function(a,b,c){(function(){b.exports={initializeClassNameBindings:function(){return this.classNameBindings||(this.classNameBindings={})},updateClassNameBindings:function(){var a,b,c,d,e,f;this._classNameBindings||(this._classNameBindings={}),d=this.classNameBindings,e=[];for(b in d)a=d[b],c=this._classNameBindings[b],f=this._classNameBindings[b]=a.apply(this),_.isBoolean(f)?f?e.push(this.$el.addClass(b)):e.push(this.$el.removeClass(b)):f!==c?(this.$el.removeClass(c),e.push(this.$el.addClass(f))):e.push(void 0);return e}}}).call(this)},{}],63:[function(a,b,c){(function(){b.exports={initializeContent:function(a,b){return this.content=a,this.container=b},renderContent:function(){return this.content?this.container?this.$(this.container).append(this.content):this.$el.append(this.content):void 0}}}).call(this)},{}],64:[function(a,b,c){(function(){b.exports={initializeContext:function(){return this._context={}},context:function(){return{}},getContext:function(a){return null==a&&(a={}),_.isEmpty(a)?this._context:this.presentContext(a)},presentContext:function(a){var b,c,d;null==a&&(a={}),c=a=_.defaults(a,this.properties.attributes);for(b in c)d=c[b],(d instanceof Hipbone.Model||d instanceof Hipbone.Collection)&&(a[b]=d.toJSON());return a},mergeContext:function(a){return null==a&&(a={}),jsondiffpatch.config.objectHash=function(a){return(null!=a?a.cid:void 0)||a},jsondiffpatch.patch(this._context,jsondiffpatch.diff(this._context,a))},updateContext:function(){return this.mergeContext(this.presentContext(this.context()))},updateContextBindings:function(){return Platform.performMicrotaskCheckpoint()}}}).call(this)},{}],65:[function(a,b,c){(function(){b.exports={included:function(){return this.elementName=function(){return _.string.dasherize(this.prototype.moduleName).substring(1).replace("-view","")}},initializeElements:function(a,b){return null==b&&(b={}),this.elements||(this.elements={}),a?this.elementName=a:void 0},getSelector:function(a){return this.elements[a]||a}}}).call(this)},{}],66:[function(a,b,c){(function(){b.exports={insert:function(){},detach:function(){},change:function(a,b){},lifecycle:function(){return this.$el.lifecycle({insert:function(a){return function(){return a.insert(),a.trigger("insert")}}(this),remove:function(a){return function(){return a.detach(),a.trigger("detach")}}(this),change:function(a){return function(b,c){return a.change(b,c),b=_.string.camelize(b),a.set(b,Handlebars.parseValue(c,_.contains(a.booleans,b)))}}(this)})}}}).call(this)},{}],67:[function(a,b,c){(function(){b.exports={initializePopulate:function(a){var b,c;return this.background=!1,c=this.populated,this.populated=function(a){return this.background||c.apply(this,arguments)},b=this.populate,this.populate=function(a){return this.background?b.apply(this,arguments):(this.set({loading:!0}),b.apply(this,arguments).done(function(a){return function(){return a.set({loading:!1})}}(this)))}},populated:function(a){return!1},populate:function(a){return $.when(!0)},prepare:function(a){return $.when(this.populated(a)||this.populate(a))}}}).call(this)},{}],68:[function(a,b,c){(function(){b.exports={initializeProperties:function(a){return null==a&&(a={}),this.props=this.properties=new Hipbone.Model(a),this.listenTo(this.props,"change",function(a){return function(){return a.trigger("change")}}(this))},get:function(){return this.props.get.apply(this.props,arguments)},set:function(){return this.props.set.apply(this.props,arguments)}}}).call(this)},{}],69:[function(a,b,c){(function(){b.exports={initializeStore:function(a,b){var c,d;return null==b&&(b={}),this.hashName=a||_.string.dasherize(this.moduleName).substring(1),c=this.hashes(b),(d=Hipbone.app.identityMap.findAll(c)[0])?(d.setContent(content),d.set(b),d):(this.store(c),null)},hashes:function(a){var b;return null==a&&(a={}),b=[],this.cid&&b.push(this.cid),b},store:function(a){return a||(a=this.hashes()),Hipbone.app.identityMap.storeAll(a,this)}}}).call(this)},{}],70:[function(a,b,c){(function(){b.exports={initializeTemplate:function(a){return this.templateName||(this.templateName=a)},template:function(a,b){return $(Handlebars.parseHTML(this.getTemplate(a)(this.getContext(b))))},getTemplate:function(a){return Hipbone.app.getTemplate(a)},renderTemplate:function(){return this.templateName?this.$el.html(this.template(this.templateName)):void 0}}}).call(this)},{}],71:[function(a,b,c){(function(){b.exports={update:function(a){return null==a&&(a={}),a.immediate?(this.updateContext(),this.updateContextBindings(),this.updateClassNameBindings()):_.defer(function(a){return function(){return a.updateContext(),a.updateContextBindings(),a.updateClassNameBindings()}}(this))}}}).call(this)},{}],72:[function(a,b,c){(function(){b.exports={assignViewFor:function(a){return a.hipboneView=this},$view:function(a){return this.$(a)[0]?this.$(a)[0].hipboneView:void 0}}}).call(this)},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72]);