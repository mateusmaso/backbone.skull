// hipbone
// ------------------
// v2.0.1
//
// Copyright (c) 2012-2016 Mateus Maso
// Distributed under MIT license
//
// http://github.com/mateusmaso/hipbone

require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var c,d,e=[].slice;c=a("backbone"),d=a("underscore"),b.exports={initializeAjax:function(){return this.host||(this.host=""),this.headers||(this.headers={})},ajax:function(a){return null==a&&(a={}),this.ajaxHandle(c.ajax(this.ajaxSettings(a)))},ajaxHandle:function(a){return a.done(function(a){return function(){return a.trigger.apply(a,["ajaxSuccess"].concat(e.call(arguments)))}}(this)),a.fail(function(a){return function(){return a.trigger.apply(a,["ajaxError"].concat(e.call(arguments)))}}(this)),a},ajaxUrl:function(a){return""+this.host+a},ajaxHeaders:function(){var a,b,c,e;b={},c=this.headers;for(a in c)e=c[a],d.isFunction(e)&&(e=e.apply(this)),b[a]=e;return b},ajaxSettings:function(a){return null==a&&(a={}),a.url=this.ajaxUrl(a.url),a.headers=d.extend({},a.headers,this.ajaxHeaders()),"POST"===a.type&&(a.dataType="json",a.contentType="application/json",a.data&&(a.data=JSON.stringify(a.data))),a.beforeSend=d.catenate(function(a,b){return null==b&&(b={}),a.settings=b},a.beforeSend),a}}}).call(this)},{backbone:58,underscore:"underscore"}],2:[function(a,b,c){(function(){var c,d,e,f,g,h=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i={}.hasOwnProperty;e=a("./../module"),f=a("./../router"),g=a("./../storage"),d=a("backbone"),b.exports=c=function(b){function c(a,b){null==a&&(a={}),null==b&&(b={}),this.initializeAjax(),this.initializeState(a),this.initializeLocale(b.locale),this.initializeInitializers(),this.router=new f({title:this.title}),this.storage=new g(this.prefix),this.runInitializers(b),this.initialize(b)}return h(c,b),c.include(d.Events),c.include(a("./ajax")),c.include(a("./state")),c.include(a("./locale")),c.include(a("./initializers")),c.prototype.initialize=function(a){null==a&&(a={})},c.prototype.run=function(){return this.trigger("run"),this.router.start()},c.register("Application"),c}(e)}).call(this)},{"./../module":35,"./../router":43,"./../storage":47,"./ajax":1,"./initializers":3,"./locale":10,"./state":11,backbone:58}],3:[function(a,b,c){(function(){b.exports={initializeInitializers:function(){return this.initializers||(this.initializers=[]),this.initializers.unshift(a("./parse_body")),this.initializers.unshift(a("./parse_model")),this.initializers.unshift(a("./link_bridge")),this.initializers.unshift(a("./prevent_form")),this.initializers.unshift(a("./prepare_sync")),this.initializers.unshift(a("./register_helpers"))},runInitializers:function(a){var b,c,d,e,f;for(e=this.initializers,f=[],b=0,d=e.length;d>b;b++)c=e[b],f.push(c.apply(this,[a]));return f}}}).call(this)},{"./link_bridge":4,"./parse_body":5,"./parse_model":6,"./prepare_sync":7,"./prevent_form":8,"./register_helpers":9}],4:[function(a,b,c){(function(){var c;c=a("jquery"),b.exports=function(){return c("body").on("click","a:not([bypass])",function(a){return function(b){var d;return b.ctrlKey||b.metaKey||a.router.history.location.hostname!==b.currentTarget.hostname||c(b.currentTarget).attr("target")||!(d=c(b.currentTarget).attr("href"))?void 0:(b.preventDefault(),a.router.navigate(d,{trigger:!0}))}}(this))}}).call(this)},{jquery:"jquery"}],5:[function(a,b,c){(function(){var c;c=a("handlebars"),b.exports=function(){return this.on("run",function(){return c.parseHTML(document.body.childNodes)})}}).call(this)},{handlebars:"handlebars"}],6:[function(a,b,c){(function(){var c,d,e;d=a("handlebars"),e=a("./../../model"),c=a("./../../collection"),b.exports=function(){var a;return a=d.parseValue,d.parseValue=function(b,d){var f;return b=a.apply(this,[b,d]),b&&(f=e.identityMap.find(b.cid)||c.identityMap.find(b.cid))&&(b=f),b}}}).call(this)},{"./../../collection":13,"./../../model":27,handlebars:"handlebars"}],7:[function(a,b,c){(function(){var c;c=a("backbone"),b.exports=function(){var a;return a=c.sync,c.sync=function(b){return function(d,e,f){return null==f&&(f={}),f.sync=!0,f.url||(f.url=e.url(f)),f=b.ajaxSettings(f),b.ajaxHandle(a.apply(c,[d,e,f]))}}(this)}}).call(this)},{backbone:58}],8:[function(a,b,c){(function(){var c;c=a("jquery"),b.exports=function(){return c("body").on("submit","form:not([bypass])",function(a){return a.preventDefault()})}}).call(this)},{jquery:"jquery"}],9:[function(require,module,exports){(function(){var Handlebars,View,_,slice=[].slice;_=require("underscore"),Handlebars=require("handlebars"),View=require("./../../view"),module.exports=function(){var eachHelper,ifHelper;return Handlebars.registerHelper("asset",function(a){return function(b,c){return null==c&&(c={}),a.get("assets")[b]}}(this)),Handlebars.registerHelper("t",function(a){return function(b,c){return null==c&&(c={}),a.i18n.t(b,c.hash)}}(this)),Handlebars.registerHelper("url",function(a){return function(b,c){return null==c&&(c={}),a.router.matchUrl(b,c.hash)}}(this)),Handlebars.registerHelper("fmt",function(){var a,b,c,d,e;return e=arguments[0],a=3<=arguments.length?slice.call(arguments,1,b=arguments.length-1):(b=1,[]),d=arguments[b++],null==d&&(d={}),c=0,e.replace(/%@/g,function(b){return a[c++]})}),Handlebars.registerHelper("eval",function(javascript,options){return null==options&&(options={}),eval(javascript)}),Handlebars.registerHelper("template",function(a,b,c){var d;return null==b&&(b={}),null==c&&(c={}),null!=b.hash&&(c=b,b={}),b=_.extend({},b,c.hash),d=this.view.getTemplate(a)(this.view.getContext(b,this)),c.hash.unescape?d:new Handlebars.SafeString(d)}),eachHelper=Handlebars.helpers.each,Handlebars.registerHelper("each",function(a,b){return null==b&&(b={}),a&&(a=a.models||a),eachHelper.apply(this,[a,b])}),ifHelper=Handlebars.helpers["if"],Handlebars.registerHelper("if",function(a,b){var c;return null==b&&(b={}),b.hash.bind&&(null!=(c=_.path(this,a))?c.models:void 0)?a+=".models":a&&(a=a.models||a),ifHelper.apply(this,[a,b])})}}).call(this)},{"./../../view":53,handlebars:"handlebars",underscore:"underscore"}],10:[function(a,b,c){(function(){var c;c=a("./../i18n"),b.exports={initializeLocale:function(a){return null==a&&(a="en"),this.locale||(this.locale=a),this.locales||(this.locales={}),this.i18n=new c(this.locale,this.locales)}}}).call(this)},{"./../i18n":23}],11:[function(a,b,c){(function(){var c;c=a("./../model"),b.exports={initializeState:function(a){return null==a&&(a={}),this.state=new(c.define({defaults:this.defaults,urlRoot:this.urlRoot,parse:this.parse}))(a),this.listenTo(this.state,"all",function(a){return function(){return a.trigger.apply(a,arguments)}}(this))},fetch:function(){return this.state.fetch.apply(this.state,arguments)},parse:function(a){return a},get:function(){return this.state.get.apply(this.state,arguments)},set:function(){return this.state.set.apply(this.state,arguments)}}}).call(this)},{"./../model":27}],12:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={initializeFilters:function(){return this.filters||(this.filters={})},getFilters:function(a){var b,d,e,f;null==a&&(a={}),d={},e=this.filters;for(b in e)f=e[b],c.isFunction(f)&&(f=f.apply(this,[a])),null!=f&&(d[b]=f);return d}}}).call(this)},{underscore:"underscore"}],13:[function(a,b,c){(function(){var c,d,e,f,g,h,i=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j={}.hasOwnProperty;c=a("jquery"),h=a("underscore"),d=a("backbone"),f=a("./../model"),g=a("./../module"),b.exports=e=function(b){function d(a,b){var c;return null==b&&(b={}),h.isArray(a)||(b=a||{},a=void 0),(c=this.initializeStore(a,b))?c:(this.cid=h.uniqueId("collection"),this.initializeMeta(b.meta),this.initializeParent(b.parent),this.initializeFilters(),this.initializePopulate(),this.initializePagination(),d.__super__.constructor.apply(this,arguments),void this.storeChanges())}return i(d,b),h.extend(d,g),d.include(a("./sync")),d.include(a("./meta")),d.include(a("./store")),d.include(a("./parent")),d.include(a("./filters")),d.include(a("./populate")),d.include(a("./pagination")),d.include(a("./polymorphic")),d.prototype.model=f,d.prototype._prepareModel=function(a,b){var c;return null==b&&(b={}),(c=this.preparePolymorphic(a,b))&&(a=c),d.__super__._prepareModel.call(this,a,b)},d.prototype.modelId=function(a){return h.isArray(this.model)?this.polymorphicUniqueId(a):d.__super__.modelId.apply(this,arguments)},d.prototype.url=function(a){var b;return b=this.parentUrl(a),h.isEmpty(this.getFilters(a))||(b=b+"?"+c.param(this.getFilters(a))),b},d.prototype.toJSON=function(a){var b;return null==a&&(a={}),b=d.__super__.toJSON.apply(this,arguments),a.sync||(b=h.extend({cid:this.cid,length:this.length,meta:this.meta.toJSON(),models:b})),b},d.prototype.parse=function(a){return null==a&&(a={}),this.didSync(),a.meta&&this.meta.set(a.meta),a.models||a},d.register("Collection"),d}(d.Collection)}).call(this)},{"./../model":27,"./../module":35,"./filters":12,"./meta":14,"./pagination":15,"./parent":16,"./polymorphic":17,"./populate":18,"./store":19,"./sync":20,backbone:58,jquery:"jquery",underscore:"underscore"}],14:[function(a,b,c){(function(){var c,d=[].slice;c=a("./../model"),b.exports={countAttribute:"count",initializeMeta:function(a){return null==a&&(a={}),this.meta=new(c.define({defaults:this.defaults,url:this.metaUrl,parse:this.metaParse}))(a),this.listenTo(this.meta,"all",function(a){return function(){var b,c;return c=arguments[0],b=2<=arguments.length?d.call(arguments,1):[],a.trigger.apply(a,["meta:"+c].concat(d.call(b)))}}(this)),this.on("add",this.incrementCounter),this.on("remove",this.decrementCounter)},metaUrl:function(a){return function(){return a.url()}}(this),metaParse:function(a){return a.meta},incrementCounter:function(a,b,c){return null==c&&(c={}),this.meta.has(this.countAttribute)&&!c.parse?this.meta.set(this.countAttribute,this.meta.get(this.countAttribute)+1):void 0},decrementCounter:function(a,b,c){return null==c&&(c={}),this.meta.has(this.countAttribute)&&!c.parse?this.meta.set(this.countAttribute,this.meta.get(this.countAttribute)-1):void 0}}}).call(this)},{"./../model":27}],15:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={initializePagination:function(){return this.pagination||(this.pagination={}),this.limit=this.pagination.limit||0,this.offset=this.pagination.offset||0,this.filters||(this.filters={}),this.filters.limit=function(a){return null==a&&(a={}),this.limit>0?a.paginate?this.limit:this.limit+this.offset:void 0},this.filters.offset=function(a){return null==a&&(a={}),this.limit>0?a.paginate?this.offset:0:void 0}},incrementPagination:function(){return this.offset=this.offset+this.limit},decrementPagination:function(){return this.offset=this.offset-this.limit},paginate:function(a){return null==a&&(a={}),this.incrementPagination(),this.fetch(c.extend({remove:!1,paginate:!0},a))},hasMore:function(){return this.length<(this.meta.get(this.countAttribute)||0)}}}).call(this)},{underscore:"underscore"}],16:[function(a,b,c){(function(){b.exports={initializeParent:function(a){return this.parent=a},setParent:function(a,b){return null==b&&(b={}),this.parent===a||(this.parent=a,b.silent)?void 0:this.trigger("change:parent",this.parent)},parentUrl:function(a){return null==a&&(a={}),this.parent?""+this.parent.url(a)+this.urlRoot:this.urlRoot}}}).call(this)},{}],17:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={preparePolymorphic:function(a,b){var d,e,f,g;if(null==b&&(b={}),!this._isModel(a)&&c.isArray(this.model))for(g=this.model,e=0,f=g.length;f>e;e++)if(d=g[e],d.prototype.moduleName===this.polymorphicType(a))return new d(a,b)},polymorphicId:function(a){return null==a&&(a={}),a[this.polymorphicIdAttribute(a)]},polymorphicType:function(a){return null==a&&(a={}),a[this.polymorphicTypeAttribute(a)]},polymorphicIdAttribute:function(a){return null==a&&(a={}),"id"},polymorphicTypeAttribute:function(a){return null==a&&(a={}),"type"},polymorphicUniqueId:function(a){return null==a&&(a={}),this.polymorphicId(a)+"-"+this.polymorphicType(a)}}}).call(this)},{underscore:"underscore"}],18:[function(a,b,c){(function(){var c;c=a("jquery"),b.exports={initializePopulate:function(){return this.deferreds={}},populated:function(a){return this.synced},populate:function(a){return this.fetch()},prepare:function(a){var b;return b=this.deferreds[a],b&&"resolved"!==b.state()?b:this.deferreds[a]=c.when(this.populated(a)||this.populate(a))}}}).call(this)},{jquery:"jquery"}],19:[function(a,b,c){(function(){var c,d;d=a("string-dasherize"),c=a("./../identity_map"),b.exports={included:function(){var a;return this.identityMap=(a=this.prototype).identityMap||(a.identityMap=new c)},registered:function(){return this.prototype.hashName=d(this.prototype.moduleName||"").substring(1)},initializeStore:function(a,b){var c,d;return d=this.hashes(a,b),(c=this.identityMap.findAll(d)[0])?(a&&c.set(a,b),b.meta&&c.meta.set(b.meta),b.parent&&c.setParent(b.parent),c):(this.store(d),null)},storeChanges:function(){return this.on("change change:parent meta:change",function(a){return function(){return a.store()}}(this)),this.store()},hashes:function(a,b){var c,d;return null==b&&(b={}),c=[],this.cid&&c.push(this.cid),(null!=(d=b.parent)?d.cid:void 0)&&c.push(this.hashName+"-"+b.parent.cid),c},store:function(a){return a||(a=this.hashes(this.models,{parent:this.parent,meta:this.meta})),this.identityMap.storeAll(a,this)}}}).call(this)},{"./../identity_map":24,"string-dasherize":91}],20:[function(a,b,c){(function(){b.exports={unsync:function(){return delete this.synced,this.trigger("unsync",this)},didSync:function(){return this.synced=Date.now(),this.trigger("synced",name,this)}}}).call(this)},{}],21:[function(a,b,c){(function(){var c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;f=a("underscore"),c=a("backbone"),e=a("./../module"),b.exports=d=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return g(c,b),f.extend(c,e),c.include(a("./query")),c.prototype.route=function(a,b){return this.handlers.push({route:a,callback:b})},c.prototype.reload=function(a){return a?this.location.assign(a):this.location.reload()},c.prototype.getPathname=function(){return"/"+this.getPath().replace(this.getSearch(),"")},c.prototype.navigate=function(a,b){return this.popstate=!1,c.__super__.navigate.apply(this,arguments)},c.prototype.checkUrl=function(a){return this.popstate=!0,c.__super__.checkUrl.apply(this,arguments)},c.register("History"),c}(c.History)}).call(this)},{"./../module":35,"./query":22,backbone:58,underscore:"underscore"}],22:[function(a,b,c){(function(){var c,d;c=a("jquery"),d=a("underscore"),b.exports={change:function(a){var b,e,f;null==a&&(a={});for(e in a)f=a[e],null==f&&delete a[e];return b=this.getPathname(),d.isEmpty(a)||(b+="?"+c.param(a)),this.history.replaceState({},document.title,b)},getQuery:function(){var a,b,c,e,f,g;for(e={},f=/([^&=]+)=?([^&]*)/g;b=f.exec(this.getSearch().substring(1));)c=b[0],a=b[1],g=b[2],e[this.decode(a)]=d.parse(this.decode(g));return e},decode:function(a){return decodeURIComponent(a.replace(/\+/g," "))}}}).call(this)},{jquery:"jquery",underscore:"underscore"}],23:[function(a,b,c){(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("underscore"),d=a("./../module"),b.exports=c=function(a){function b(a,b,c){null==b&&(b={}),this.locale=a,this.locales=b,this.splitter=c||/{{\w+}}/g}return f(b,a),b.prototype.interpolate=function(a,b){var c,d,e,f,g;for(null==b&&(b={}),f=a.match(this.splitter)||[],c=0,d=f.length;d>c;c++)e=f[c],g=b[e.replace(/\W/g,"")],a=a.replace(e,g);return a},b.prototype.pluralize=function(a,b){return a+=0===b?".zero":1===b?".one":".other",e.path(this.locales[this.locale],a)},b.prototype.inflector=function(a,b){return a+="m"===b?".male":"f"===b?".female":".neutral",e.path(this.locales[this.locale],a)},b.prototype.translate=function(a,b){var c;return null==b&&(b={}),c=e.has(b,"count")?this.pluralize(a,b.count):e.has(b,"gender")?this.inflector(a,b.gender):e.path(this.locales[this.locale],a),this.interpolate(c,b)},b.prototype.t=b.prototype.translate,b.register("I18n"),b}(d)}).call(this)},{"./../module":35,underscore:"underscore"}],24:[function(a,b,c){(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("underscore"),d=a("./../module"),b.exports=c=function(a){function b(){this.instances={}}return f(b,a),b.prototype.match=function(a){var b,c,d,e;d={},e=this.instances;for(c in e)b=e[c],a.test(c)&&(d[c]=b);return d},b.prototype.find=function(a){var b;return(b=this.instances[a])&&this.store(a,b),b},b.prototype.findAll=function(a){var b,c,d,e,f;for(f=[],b=0,d=a.length;d>b;b++)c=a[b],(e=this.find(c))&&f.push(e);return f},b.prototype.store=function(a,b,c){return null==c&&(c={}),this.instances[a]=b},b.prototype.storeAll=function(a,b){var c,d,e,f;for(f=[],c=0,e=a.length;e>c;c++)d=a[c],f.push(this.store(d,b));return f},b.prototype["delete"]=function(a){return delete this.instances[a]},b.prototype.deleteAll=function(a){var b,c,d,e;for(e=[],b=0,d=a.length;d>b;b++)c=a[b],e.push(this["delete"](c));return e},b.prototype.clear=function(){return this.deleteAll(e.keys(this.instances))},b.register("IdentityMap"),b}(d)}).call(this)},{"./../module":35,underscore:"underscore"}],25:[function(a,b,c){(function(){a("jquery.lifecycle"),a("handlebars.binding"),_.mixin(a("underscore.path")),_.mixin(a("underscore.pathextend")),_.mixin(a("underscore.parse")),_.mixin(a("underscore.prefilter")),_.mixin(a("underscore.catenate")),_.mixin(a("underscore.deepclone")),window.Hipbone={VERSION:"2.0.1",I18n:a("./i18n"),View:a("./view"),Model:a("./model"),Route:a("./route"),Module:a("./module"),Router:a("./router"),History:a("./history"),Storage:a("./storage"),Collection:a("./collection"),Application:a("./application"),IdentityMap:a("./identity_map")}}).call(this)},{"./application":2,"./collection":13,"./history":21,"./i18n":23,"./identity_map":24,"./model":27,"./module":35,"./route":38,"./router":43,"./storage":47,"./view":53,"handlebars.binding":66,"jquery.lifecycle":73,"underscore.catenate":92,"underscore.deepclone":93,"underscore.parse":94,"underscore.path":95,"underscore.pathextend":96,"underscore.prefilter":97}],26:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={initializeComputedAttributes:function(){return this.computedAttributes||(this.computedAttributes={})},getComputedAttribute:function(a){var b;return b=this.computedAttributes[a],c.isFunction(b)||(b=this[b]),b?b.apply(this):void 0},setComputedAttribute:function(a,b){var d;return d=this.computedAttributes[a],c.isFunction(d)||(d=this[d]),d?d.apply(this,[b]):void 0},toJSONComputedAttributes:function(a){var b,c,d,e;for(null==a&&(a=[]),d={},c=0,e=a.length;e>c;c++)b=a[c],d[b]=this.getComputedAttribute(b);return d}}}).call(this)},{underscore:"underscore"}],27:[function(a,b,c){(function(){var c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;f=a("underscore"),c=a("backbone"),e=a("./../module"),b.exports=d=function(b){function c(a,b){var d;return null==a&&(a={}),null==b&&(b={}),(d=this.initializeStore(a,b))?d:(this.initializeSyncs(),this.initializeSchemes(),this.initializePopulate(),this.initializeMappings(),this.initializeValidations(),this.initializeComputedAttributes(),c.__super__.constructor.apply(this,arguments),void this.storeChanges())}return g(c,b),f.extend(c,e),c.include(a("./syncs")),c.include(a("./store")),c.include(a("./schemes")),c.include(a("./mappings")),c.include(a("./populate")),c.include(a("./validations")),c.include(a("./nested_attributes")),c.include(a("./computed_attributes")),c.prototype.cidPrefix="model",c.prototype.get=function(a){return this.mappings[a]?this.getMapping(a):this.computedAttributes[a]?this.getComputedAttribute(a):this.getNestedAttribute(a)},c.prototype.set=function(a,b,d){var e;return null==d&&(d={}),f.isObject(a)?(e=a,d=b||{}):(e={},e[a]=b),this.setMappings(e,d),this.setNestedAttributes(e,d),c.__super__.set.call(this,e,d),this.triggerNestedChange(d),this},c.prototype.toJSON=function(a){var b,d,e,g,h;null==a&&(a={}),h=a.mappings||{};for(e in h)g=h[e],g.sync=a.sync;return b=a.computedAttributes||f.keys(this.computedAttributes),d=f.deepClone(c.__super__.toJSON.apply(this,arguments)),a.sync||(d=f.extend({cid:this.cid},d,this.toJSONComputedAttributes(b),this.toJSONMappings(h))),d},c.prototype.parse=function(a){var b,c,d,e;for(null==a&&(a={}),this.didSync(),d=this.validateSchemes(a),b=0,c=d.length;c>b;b++)e=d[b],this.didSync(e);return a},c.register("Model"),c}(c.Model)}).call(this)},{"./../module":35,"./computed_attributes":26,"./mappings":28,"./nested_attributes":29,"./populate":30,"./schemes":31,"./store":32,"./syncs":33,"./validations":34,backbone:58,underscore:"underscore"}],28:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={initializeMappings:function(){return this.transients={},this.mappings||(this.mappings={})},mappingIdAttribute:function(a){return a+"_"+this.parseMappingIdAttribute(a)},mappingTypeAttribute:function(a){return a+"_"+this.parseMappingTypeAttribute(a)},mappingId:function(a,b){return null==b&&(b={}),b[this.mappingIdAttribute(a)]},mappingType:function(a,b){return null==b&&(b={}),b[this.mappingTypeAttribute(a)]},parseMappingIdAttribute:function(a){return"id"},parseMappingTypeAttribute:function(a){return"type"},parseMappingId:function(a,b){return null==b&&(b={}),b[this.parseMappingIdAttribute(a)]},parseMappingType:function(a,b){return null==b&&(b={}),b[this.parseMappingTypeAttribute(a)]},getMapping:function(b){var d,e,f,g,h,i,j,k,l,m;if(f=this.mappings[b].apply(this),m=c.isArray(f))for(e=f,i=0,k=e.length;k>i;i++)d=e[i],d.prototype.moduleName===this.mappingType(b,this.attributes)&&(f=d);return f.prototype instanceof a("./../model")?(g={},(j=this.mappingId(b,this.attributes))&&(g[this.parseMappingIdAttribute(b)]=j),c.isEmpty(g)||(l=new f(g))):f.prototype instanceof a("./../collection")&&(h=new f({parent:this})),l||h||this.transients[b]},setMapping:function(b,d,e){var f,g,h,i,j,k,l,m,n,o;if(null==e&&(e={}),h=this.mappings[b].apply(this),o=c.isArray(h)&&d)for(g=h,j=0,k=g.length;k>j;j++)f=g[j],f.prototype.moduleName===this.parseMappingType(b,d)&&(h=f);return d instanceof a("./../model")?m=d:d instanceof a("./../collection")&&(i=d,i.setParent(this)),m||i||(h.prototype instanceof a("./../model")&&d?(delete d[this.parseMappingTypeAttribute(b)],m=new h(d,e)):h.prototype instanceof a("./../collection")&&(c.isArray(d)?n=d:c.isObject(d)&&(l=d.meta,n=d.models),i=new h(n,c.extend(e,{parent:this,meta:l})))),m?(this.set(this.mappingIdAttribute(b),this.parseMappingId(b,m.attributes)),o&&this.set(this.mappingTypeAttribute(b),m.moduleName),m.isNew()&&(this.transients[b]=m)):i?this.transients[b]=i:(delete this.transients[b],this.unset(this.mappingIdAttribute(b)),this.unset(this.mappingTypeAttribute(b))),m||i},setMappings:function(a){var b,d,e,f;null==a&&(a={}),d=c.pick(a,c.keys(this.mappings)),e=[];for(b in d)f=d[b],this.setMapping(b,f,{parse:!0}),e.push(delete a[b]);return e},toJSONMappings:function(a){var b,c,d,e;null==a&&(a={}),b={};for(c in a)d=a[c],b[c]=null!=(e=this.getMapping(c))?e.toJSON(d):void 0;return b}}}).call(this)},{"./../collection":13,"./../model":27,underscore:"underscore"}],29:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={getNestedAttribute:function(a){return c.path(this.attributes,a)},setNestedAttribute:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==d&&(d={}),i=a.split("."),!c.isEqual(this.get(a),b)&&(g={},g[a]=b,j=this.get(a),this.attributes=c.pathExtend(this.attributes,g),!d.silent)){for(k=c.clone(i).reverse(),l=[],e=0,f=k.length;f>e;e++)h=k[e],a=i.join("."),i.pop(),this.nestedChanged[a]=b,l.push(this.trigger("change:"+a,this,j,d));return l}},setNestedAttributes:function(a,b){var c,d,e;null==a&&(a={}),null==b&&(b={}),this.nestedChanged={},d=[];for(c in a)e=a[c],c.split(".").length>1&&(this.setNestedAttribute(c,e,b),d.push(delete a[c]));return d},triggerNestedChange:function(a){return 0===c.keys(this.changed).length&&0!==c.keys(this.nestedChanged).length?this.trigger("change",this,a):void 0}}}).call(this)},{underscore:"underscore"}],30:[function(a,b,c){(function(){var c;c=a("jquery"),b.exports={initializePopulate:function(){return this.deferreds={}},populated:function(a){return a?this.syncs[a]:this.synced},populate:function(a){return this.fetch()},prepare:function(a){var b;return b=this.deferreds[a],b&&"resolved"!==!b.state()?b:this.deferreds[a]=c.when(this.populated(a)||this.populate(a))}}}).call(this)},{jquery:"jquery"}],31:[function(a,b,c){(function(){b.exports={initializeSchemes:function(){return this.schemes||(this.schemes={})},validateSchemes:function(a){var b,c,d,e;null==a&&(a={}),e=[],c=this.schemes;for(b in c)d=c[b],d.apply(this,[a])&&e.push(b);return e}}}).call(this)},{}],32:[function(a,b,c){(function(){var c,d;d=a("string-dasherize"),c=a("./../identity_map"),b.exports={included:function(){var a;return this.identityMap=(a=this.prototype).identityMap||(a.identityMap=new c)},registered:function(){return this.prototype.hashName=d(this.prototype.moduleName||"").substring(1)},initializeStore:function(a,b){var c,d;return null==a&&(a={}),null==b&&(b={}),c=this.hashes(a),(d=this.identityMap.findAll(c)[0])?(d.set(a,b),d):(this.store(c),null)},storeChanges:function(){return this.on("change",function(a){return function(){return a.store()}}(this)),this.store()},hashes:function(a){var b;return b=[],this.cid&&b.push(this.cid),a[this.idAttribute]&&b.push(this.hashName+"-"+a[this.idAttribute]),b},store:function(a){return a||(a=this.hashes(this.attributes)),this.identityMap.storeAll(a,this)}}}).call(this)},{"./../identity_map":24,"string-dasherize":91}],33:[function(a,b,c){(function(){b.exports={initializeSyncs:function(){return this.syncs||(this.syncs={})},unsync:function(a){return a?(delete this.syncs[a],this.trigger("unsync:"+a,this)):(delete this.synced,this.trigger("unsync",this))},didSync:function(a){return a?(this.syncs[a]=this.synced,this.trigger("synced:"+a,this)):(this.synced=Date.now(),this.trigger("synced",a,this))}}}).call(this)},{}],34:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={initializeValidations:function(){return this.errors=[],this.validations||(this.validations={})},hasErrors:function(a){return null==a&&(a=[]),c.isEmpty(a)?this.errors.length>0:c.intersection(this.errors,a).length>0},validate:function(a){var b,c,d;null==a&&(a={}),this.errors=[];for(b in a)d=a[b],c=this.validations[b],c&&!c.apply(this,[d,a])&&this.errors.push(b);return this.hasErrors()?this.errors:void 0}}}).call(this)},{underscore:"underscore"}],35:[function(a,b,c){(function(){var c,d,e,f,g,h,i=[].slice,j=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};e=a("underscore"),c=a("backbone"),h={},f=["included","extended"],g=function(a){var b,c;return c=a.__super__.constructor,b=e.uniqueId("module"),h[b]=a,a.cid=b,a.subclasses=[],a.includedModules=e.clone(c.includedModules||[]),a.extendedModules=e.clone(c.extendedModules||[]),c.subclasses?c.subclasses.push(a):void 0},b.exports=d=function(){function a(){}return a.prototype.moduleName="Module",a.register=function(a){var b,c,d,e,f,i,j,k;for(h[this.cid]!==this&&g(this),this.prototype.moduleName=a,i=this.includedModules,b=0,d=i.length;d>b;b++)f=i[b],f.registered&&f.registered.apply(this);for(j=this.extendedModules,k=[],c=0,e=j.length;e>c;c++)f=j[c],f.registered&&k.push(f.registered.apply(this));return k},a.include=function(){var a,b,c,d,e,k,l;for(e=1<=arguments.length?i.call(arguments,0):[],h[this.cid]!==this&&g(this),l=[],a=0,b=e.length;b>a;a++){d=e[a],this.includedModules.push(d);for(k in d)c=d[k],j.call(f,k)<0&&(this.prototype[k]=c);d.included&&d.included.apply(this),d.registered?l.push(d.registered.apply(this)):l.push(void 0)}return l},a.extend=function(){var a,b,c,d,e,k,l;for(e=1<=arguments.length?i.call(arguments,0):[],h[this.cid]!==this&&g(this),l=[],a=0,b=e.length;b>a;a++){d=e[a],this.extendedModules.push(d);for(k in d)c=d[k],j.call(f,k)<0&&(this[k]=c);d.extended&&d.extended.apply(this),d.registered?l.push(d.registered.apply(this)):l.push(void 0)}return l},a.define=c.Model.extend,a}()}).call(this)},{backbone:58,underscore:"underscore"}],36:[function(a,b,c){(function(){b.exports={active:function(){},beforeActivate:function(){return!0},activate:function(){return this.beforeActivate()!==!1?this.prepare().done(function(a){return function(){return a.active(),a.trigger("active"),a.renderTitle(),a.renderElement()}}(this)):void 0}}}).call(this)},{}],37:[function(a,b,c){(function(){var c,d;c=a("jquery"),d=void 0,b.exports={initializeElement:function(a){return this.elementRoot||(this.elementRoot=a||document.body)},element:function(){},renderElement:function(){return this._element||(this._element=this.element()),d!==this._element?(c(d).detach(),this.elementRoot.hipboneView?this.elementRoot.hipboneView.setContent(this._element):c(this.elementRoot).append(this._element),d=this._element):void 0}}}).call(this)},{jquery:"jquery"}],38:[function(a,b,c){(function(){var c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;f=a("underscore"),c=a("backbone"),d=a("./../module"),b.exports=e=function(b){function d(a,b){var c;return null==a&&(a={}),null==b&&(b={}),(c=this.initializeStore(a,b))?c:(this.cid=f.uniqueId("route"),this.initializeTitle(b.titleRoot),this.initializeElement(b.elementRoot),this.initializePopulate(),this.initializeParameters(a),this.initialize(a),void this.storeChanges())}return g(d,b),d.include(c.Events),d.include(a("./store")),d.include(a("./title")),d.include(a("./element")),d.include(a("./populate")),d.include(a("./activate")),d.include(a("./parameters")),d.prototype.initialize=function(a){null==a&&(a={})},d.register("Route"),d}(d)}).call(this)},{"./../module":35,"./activate":36,"./element":37,"./parameters":39,"./populate":40,"./store":41,"./title":42,backbone:58,underscore:"underscore"}],39:[function(a,b,c){(function(){var c,d;d=a("underscore"),c=a("./../model/index"),b.exports={initializeParameters:function(a){return null==a&&(a={}),this.parse=d.bind(this.parse,this),this.params=this.parameters=new(c.define({defaults:this.defaults,parse:this.parse}))(a,{parse:!0}),this.listenTo(this.params,"all",function(a){return function(){return a.trigger.apply(a,arguments)}}(this))},get:function(){return this.params.get.apply(this.params,arguments)},set:function(){return this.params.set.apply(this.params,arguments)},parse:function(a){return null==a&&(a={}),a}}}).call(this)},{"./../model/index":27,underscore:"underscore"}],40:[function(a,b,c){(function(){var c;c=a("jquery"),b.exports={initializePopulate:function(){return this.deferreds={}},populated:function(a){return!1},populate:function(a){return c.when(!0)},prepare:function(a){var b;return b=this.deferreds[a],b&&"resolved"!==b.state()?b:this.deferreds[a]=c.when(this.populated(a)||this.populate(a))}}}).call(this)},{jquery:"jquery"}],41:[function(a,b,c){(function(){var c,d,e;d=a("underscore"),e=a("string-dasherize"),c=a("./../identity_map"),b.exports={included:function(){var a;
return this.identityMap=(a=this.prototype).identityMap||(a.identityMap=new c)},registered:function(){return this.prototype.hashName=e(this.prototype.moduleName||"").substring(1)},initializeStore:function(a,b){var c,e;return null==a&&(a={}),null==b&&(b={}),c=this.hashes(a,b),this.identityMap.find(b.pathname)&&!b.popstate&&(c=d.without(c,b.pathname)),(e=this.identityMap.findAll(c)[0])?(e.set(e.parse(a)),e):(this.store(c),null)},storeChanges:function(){return this.on("change",function(a){return function(){return a.store()}}(this)),this.store()},hashes:function(a,b){var c;return null==a&&(a={}),null==b&&(b={}),c=[],this.cid&&c.push(this.cid),c.push(b.pathname),c},store:function(a){return a||(a=this.hashes(this.params.attributes)),this.identityMap.storeAll(a,this)}}}).call(this)},{"./../identity_map":24,"string-dasherize":91,underscore:"underscore"}],42:[function(a,b,c){(function(){b.exports={initializeTitle:function(a){return null==a&&(a=""),this.titleRoot||(this.titleRoot=a)},subtitle:function(){return""},title:function(){var a;return a=this.subtitle(),""===a.trim()?this.titleRoot:a+" - "+this.titleRoot},renderTitle:function(){return document.title=this.title()}}}).call(this)},{}],43:[function(a,b,c){(function(){var c,d,e,f,g,h=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i={}.hasOwnProperty;g=a("underscore"),c=a("backbone"),e=a("./../module"),d=a("./../history"),b.exports=f=function(b){function f(a){null==a&&(a={}),this.initializeParams(),this.initializeMatches(),f.__super__.constructor.apply(this,arguments)}return h(f,b),g.extend(f,e),f.include(a("./url")),f.include(a("./params")),f.include(a("./matches")),f.prototype.history=c.history=new d,f.prototype.execute=function(a,b,c){return this.updateParams(this.matchUrlParams(c,b)),f.__super__.execute.apply(this,arguments)},f.prototype.navigate=function(a,b){return null==b&&(b={}),a=this.matchUrl(a,b.params)||this.url(a,b.params),b.reload?this.history.reload(a):b.load?this.history.loadUrl(a):f.__super__.navigate.call(this,a,b)},f.prototype.restart=function(){return this.history.stop(),this.history.start({pushState:!0}),this.trigger("restart")},f.prototype.start=function(){return c.History.started?void 0:(this.history.start({pushState:!0}),this.trigger("start"))},f.register("Router"),f}(c.Router)}).call(this)},{"./../history":21,"./../module":35,"./matches":44,"./params":45,"./url":46,backbone:58,underscore:"underscore"}],44:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={initializeMatches:function(){return this.matches||(this.matches={})},match:function(a,b){return null==b&&(b={}),this.matches[b.name]=b,this.route(a,b.name,function(){var a;return a=b.route,this._route=new a(this.params,{pathname:this.history.getPathname(),popstate:this.history.popstate}),this._route.activate()})},matchUrl:function(a,b){var d,e;return null==b&&(b={}),(e=this.matches[a])?(d=this.matchFragment(a,b),this.url(d,c.omit(b,this.matchUrlParamKeys(a)))):void 0},matchUrlParams:function(a,b){var d,e,f,g,h,i;for(h={},i=this.matchUrlParamKeys(a),e=d=0,f=i.length;f>d;e=++d)g=i[e],b[e]&&(h[g]=c.parse(b[e]));return h},matchUrlParamKeys:function(a){var b,c,d,e,f;for(e=this.matches[a].url.match(/:\w+/g)||[],f=[],b=0,c=e.length;c>b;b++)d=e[b],f.push(d.substring(1));return f},matchFragment:function(a,b){var c,d,e,f,g;for(null==b&&(b={}),g=this.matches[a].url,f=this.matchUrlParamKeys(a),c=0,d=f.length;d>c;c++)e=f[c],g=g.replace(":"+e,b[e]);return g}}}).call(this)},{underscore:"underscore"}],45:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={initializeParams:function(){return this.params||(this.params={})},updateParams:function(a){return null==a&&(a={}),this.params=c.extend(this.history.getQuery(),a)}}}).call(this)},{underscore:"underscore"}],46:[function(a,b,c){(function(){var c;c=a("jquery"),b.exports={url:function(a,b){var d;return null==b&&(b={}),d=c("<a>").attr("href",a).get(0),b&&(""===d.search.trim()?d.search+=c.param(b):d.search+="&"+c.param(b)),a=d.pathname+d.search}}}).call(this)},{jquery:"jquery"}],47:[function(a,b,c){(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("underscore"),c=a("./../module"),b.exports=d=function(a){function b(a){null==a&&(a="hipbone_"),this.prefix=a}return f(b,a),b.prototype.match=function(a){var b,c,d;c={};for(b in localStorage)d=localStorage[b],a.test(b)&&b.indexOf(this.prefix)>=0&&(c[b.replace(this.prefix,"")]=e.parse(d).data);return c},b.prototype.get=function(a){var b;return(b=localStorage[""+this.prefix+a])?e.parse(b).data:void 0},b.prototype.set=function(a,b){return localStorage.setItem(""+this.prefix+a,JSON.stringify({data:b,timestamp:e.now()}))},b.prototype.unset=function(a){return localStorage.removeItem(""+this.prefix+a)},b.prototype.clear=function(){var a,b,c,d,e;c=new RegExp(this.prefix),b=this.match(c),d=[];for(a in b)e=b[a],d.push(this.unset(a));return d},b.register("Storage"),b}(c)}).call(this)},{"./../module":35,underscore:"underscore"}],48:[function(a,b,c){(function(){var a=[].slice;b.exports={bubble:function(){var b,c;return c=arguments[0],b=2<=arguments.length?a.call(arguments,1):[],this.trigger.apply(this,arguments),this.$el.trigger(c,b)}}}).call(this)},{}],49:[function(a,b,c){(function(){var c;c=a("underscore"),b.exports={initializeClassNameBindings:function(){return this.classNameBindings||(this.classNameBindings={})},updateClassNameBindings:function(){var a,b,d,e,f,g;this._classNameBindings||(this._classNameBindings={}),e=this.classNameBindings,f=[];for(b in e)a=e[b],d=this._classNameBindings[b],g=this._classNameBindings[b]=a.apply(this),c.isBoolean(g)?g?f.push(this.$el.addClass(b)):f.push(this.$el.removeClass(b)):g!==d?(this.$el.removeClass(d),f.push(this.$el.addClass(g))):f.push(void 0);return f}}}).call(this)},{underscore:"underscore"}],50:[function(a,b,c){(function(){var c;c=a("jquery"),b.exports={initializeContent:function(a){return this.content=a,this.container||(this.container=void 0)},setContent:function(a){return this.content!==a?(c(this.content).detach(),this.content=a,this.renderContent()):void 0},renderContent:function(){return this.content?this.container?this.$(this.container).append(this.content):this.$el.append(this.content):void 0}}}).call(this)},{jquery:"jquery"}],51:[function(a,b,c){(function(){var c,d,e,f,g,h;f=a("underscore"),d=a("handlebars"),h=a("jsondiffpatch"),e=a("./../model"),c=a("./../collection"),g=h.create({objectHash:function(a){return(null!=a?a.cid:void 0)||a}}),b.exports={initializeContext:function(){return this._context={}},context:function(){return{}},getContext:function(a,b){return null==a&&(a={}),b||(b=this._context),a=f.isEmpty(a)?b:a,a.view=this,a},presentContext:function(a){var b,d,g;null==a&&(a={}),a.view=this,d=a=f.defaults(a,this.properties.attributes);for(b in d)g=d[b],(g instanceof e||g instanceof c)&&(a[b]=g.toJSON());return a},mergeContext:function(a){return null==a&&(a={}),g.patch(this._context,g.diff(this._context,a))},updateContextBindings:function(){return this.mergeContext(this.presentContext(this.context())),d.update()}}}).call(this)},{"./../collection":13,"./../model":27,handlebars:"handlebars",jsondiffpatch:87,underscore:"underscore"}],52:[function(a,b,c){(function(){var c,d,e,f,g;c=a("jquery"),e=a("underscore"),d=a("handlebars"),f=a("string-dasherize"),g=function(a,b){var c,d,f;null==a&&(a={}),null==b&&(b=[]),c=[];for(d in a)f=a[d],e.isBoolean(f)&&!e.contains(b,d)&&c.push(d);return c},b.exports={registered:function(){var a;return this.prototype.elementName=f(this.prototype.moduleName||"").substring(1).replace("-view",""),this.prototype.booleans=g(this.prototype.defaults,this.prototype.internals),a=this,d.registerElement(this.prototype.elementName,function(b){return new a(b,{content:c(this).contents()}).el},{booleans:this.prototype.booleans})},initializeElements:function(){return this.elementName||(this.elementName=""),this.elements||(this.elements={}),this.booleans||(this.booleans=[])},getSelector:function(a){return this.elements[a]||a},defineElement:function(){return this.el.hipboneView=this,this.el},$view:function(a){return this.$(a)[0]?this.$(a)[0].hipboneView:void 0}}}).call(this)},{handlebars:"handlebars",jquery:"jquery","string-dasherize":91,underscore:"underscore"}],53:[function(a,b,c){(function(){var c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;f=a("underscore"),c=a("backbone"),d=a("./../module"),b.exports=e=function(b){function e(a,b){null==a&&(a={}),null==b&&(b={}),this.initializeContext(),this.initializeContent(b.content),this.initializePopulate(),this.initializeTemplate(),this.initializeElements(),this.initializeProperties(a),this.initializeClassNameBindings(),e.__super__.constructor.call(this,b),this.lifecycle(),this.prepare(),this.render(),this.on("change",this.update)}return g(e,b),f.extend(e,d),e.include(c.Events),e.include(a("./bubble")),e.include(a("./content")),e.include(a("./context")),e.include(a("./populate")),e.include(a("./elements")),e.include(a("./template")),e.include(a("./lifecycle")),e.include(a("./properties")),e.include(a("./class_name_bindings")),e.prototype.destroy=function(){},e.prototype._setElement=function(){return this.defineElement(e.__super__._setElement.apply(this,arguments))},e.prototype._setAttributes=function(a){return null==a&&(a={}),e.__super__._setAttributes.call(this,this.mergeAttributes(a))},e.prototype.$=function(a){return e.__super__.$.call(this,this.getSelector(a))},e.prototype.update=function(){return this.updateContextBindings(),this.updateClassNameBindings()},e.prototype.render=function(){return this.update(),this.renderTemplate(),this.renderContent()},e.prototype.delegate=function(a,b,c){return e.__super__.delegate.call(this,a,this.getSelector(b),c)},e.prototype.remove=function(){return this.destroy(),e.__super__.remove.apply(this,arguments)},e.register("View"),e}(c.View)}).call(this)},{"./../module":35,"./bubble":48,"./class_name_bindings":49,"./content":50,"./context":51,"./elements":52,"./lifecycle":54,"./populate":55,"./properties":56,"./template":57,backbone:58,underscore:"underscore"}],54:[function(a,b,c){(function(){var c,d,e;d=a("underscore"),c=a("handlebars"),e=a("camelize"),b.exports={insert:function(){},detach:function(){},change:function(a,b){},lifecycle:function(){return this.$el.lifecycle({insert:function(a){return function(){return a.insert(),a.trigger("insert")}}(this),remove:function(a){return function(){return a.detach(),a.trigger("detach")}}(this),change:function(a){return function(b,f){var g;return a.change(b,f),g=e(b),d.contains(a.internals,g)?void 0:a.set(g,c.parseValue(f,d.contains(a.booleans,g)))}}(this)})}}}).call(this)},{camelize:59,handlebars:"handlebars",underscore:"underscore"}],55:[function(a,b,c){(function(){var c;c=a("jquery"),b.exports={initializePopulate:function(){return this.deferreds={},this.background||(this.background=!1),this.defaults||(this.defaults={}),this.defaults.loading=!1,this.internals||(this.internals=[]),this.internals.push("loading")},populated:function(a){return!1},populate:function(a){return c.when(!0)},prepare:function(a){var b,d;return b=this.deferreds[a],b&&"resolved"!==b.state()?b:(d=this.populated(a),d||this.set({loading:!0}),this.background&&(d=!1),this.deferreds[a]=c.when(d||this.populate(a)).done(function(a){return function(){return a.set({loading:!1})}}(this)))}}}).call(this)},{jquery:"jquery"}],56:[function(a,b,c){(function(){var c,d,e;d=a("underscore"),e=a("string-dasherize"),c=a("./../model"),b.exports={initializeProperties:function(a){return null==a&&(a={}),this.internals||(this.internals=[]),this.props=this.properties=new(c.define({defaults:this.defaults}))(d.omit(a,this.internals)),this.listenTo(this.props,"all",function(a){return function(){return a.trigger.apply(a,arguments)}}(this))},get:function(){return this.props.get.apply(this.props,arguments)},set:function(){return this.props.set.apply(this.props,arguments)},mergeAttributes:function(a){var b,c,f;null==a&&(a={}),c=this.properties.attributes;for(b in c)f=c[b],d.contains(this.internals,b)||(b=e(b||""),"class"===b?a[b]=(a[b]+" "+f).trim():d.contains(this.booleans,b)?f&&(a[b]=""):d.isObject(f)||(a[b]=f));return a}}}).call(this)},{"./../model":27,"string-dasherize":91,underscore:"underscore"}],57:[function(a,b,c){(function(){var c,d;c=a("jquery"),d=a("handlebars"),b.exports={initializeTemplate:function(){return this.templates||(this.templates={}),this.templatePath||(this.templatePath=""),this.templateName||(this.templateName="")},template:function(a,b){return c(d.parseHTML(this.getTemplate(a)(this.getContext(b))))},getTemplate:function(a){return this.templates[""+this.templatePath+a]},renderTemplate:function(){return d.unbind(this.el),this.templateName?this.$el.html(this.template(this.templateName)):void 0}}}).call(this)},{handlebars:"handlebars",jquery:"jquery"}],58:[function(a,b,c){(function(b){!function(d){var e="object"==typeof self&&self.self===self&&self||"object"==typeof b&&b.global===b&&b;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(a,b,c){e.Backbone=d(e,c,a,b)});else if("undefined"!=typeof c){var f,g=a("underscore");try{f=a("jquery")}catch(h){}d(e,c,g,f)}else e.Backbone=d(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(a,b,c,d){var e=a.Backbone,f=Array.prototype.slice;b.VERSION="1.3.3",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var g=function(a,b,d){switch(a){case 1:return function(){return c[b](this[d])};case 2:return function(a){return c[b](this[d],a)};case 3:return function(a,e){return c[b](this[d],i(a,this),e)};case 4:return function(a,e,f){return c[b](this[d],i(a,this),e,f)};default:return function(){var a=f.call(arguments);return a.unshift(this[d]),c[b].apply(c,a)}}},h=function(a,b,d){c.each(b,function(b,e){c[e]&&(a.prototype[e]=g(b,e,d))})},i=function(a,b){return c.isFunction(a)?a:c.isObject(a)&&!b._isModel(a)?j(a):c.isString(a)?function(b){return b.get(a)}:a},j=function(a){var b=c.matches(a);return function(a){return b(a.attributes)}},k=b.Events={},l=/\s+/,m=function(a,b,d,e,f){var g,h=0;if(d&&"object"==typeof d){void 0!==e&&"context"in f&&void 0===f.context&&(f.context=e);for(g=c.keys(d);h<g.length;h++)b=m(a,b,g[h],d[g[h]],f)}else if(d&&l.test(d))for(g=d.split(l);h<g.length;h++)b=a(b,g[h],e,f);else b=a(b,d,e,f);return b};k.on=function(a,b,c){return n(this,a,b,c)};var n=function(a,b,c,d,e){if(a._events=m(o,a._events||{},b,c,{context:d,ctx:a,listening:e}),e){var f=a._listeners||(a._listeners={});f[e.id]=e}return a};k.listenTo=function(a,b,d){if(!a)return this;var e=a._listenId||(a._listenId=c.uniqueId("l")),f=this._listeningTo||(this._listeningTo={}),g=f[e];if(!g){var h=this._listenId||(this._listenId=c.uniqueId("l"));g=f[e]={obj:a,objId:e,id:h,listeningTo:f,count:0}}return n(a,b,d,this,g),this};var o=function(a,b,c,d){if(c){var e=a[b]||(a[b]=[]),f=d.context,g=d.ctx,h=d.listening;h&&h.count++,e.push({callback:c,context:f,ctx:f||g,listening:h})}return a};k.off=function(a,b,c){return this._events?(this._events=m(p,this._events,a,b,{context:c,listeners:this._listeners}),this):this},k.stopListening=function(a,b,d){var e=this._listeningTo;if(!e)return this;for(var f=a?[a._listenId]:c.keys(e),g=0;g<f.length;g++){var h=e[f[g]];if(!h)break;h.obj.off(b,d,this)}return this};var p=function(a,b,d,e){if(a){var f,g=0,h=e.context,i=e.listeners;if(b||d||h){for(var j=b?[b]:c.keys(a);g<j.length;g++){b=j[g];var k=a[b];if(!k)break;for(var l=[],m=0;m<k.length;m++){var n=k[m];d&&d!==n.callback&&d!==n.callback._callback||h&&h!==n.context?l.push(n):(f=n.listening,f&&0===--f.count&&(delete i[f.id],delete f.listeningTo[f.objId]))}l.length?a[b]=l:delete a[b]}return a}for(var o=c.keys(i);g<o.length;g++)f=i[o[g]],delete i[f.id],delete f.listeningTo[f.objId]}};k.once=function(a,b,d){var e=m(q,{},a,b,c.bind(this.off,this));return"string"==typeof a&&null==d&&(b=void 0),this.on(e,b,d)},k.listenToOnce=function(a,b,d){var e=m(q,{},b,d,c.bind(this.stopListening,this,a));return this.listenTo(a,e)};var q=function(a,b,d,e){if(d){var f=a[b]=c.once(function(){e(b,f),d.apply(this,arguments)});f._callback=d}return a};k.trigger=function(a){if(!this._events)return this;for(var b=Math.max(0,arguments.length-1),c=Array(b),d=0;b>d;d++)c[d]=arguments[d+1];return m(r,this._events,a,void 0,c),this};var r=function(a,b,c,d){if(a){var e=a[b],f=a.all;e&&f&&(f=f.slice()),e&&s(e,d),f&&s(f,[b].concat(d))}return a},s=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}};k.bind=k.on,k.unbind=k.off,c.extend(b,k);var t=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId(this.cidPrefix),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{});var e=c.result(this,"defaults");d=c.defaults(c.extend({},e,d),e),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(t.prototype,k,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!c.iteratee(a,this)(this.attributes)},set:function(a,b,d){if(null==a)return this;var e;if("object"==typeof a?(e=a,d=b):(e={})[a]=b,d||(d={}),!this._validate(e,d))return!1;var f=d.unset,g=d.silent,h=[],i=this._changing;this._changing=!0,i||(this._previousAttributes=c.clone(this.attributes),this.changed={});var j=this.attributes,k=this.changed,l=this._previousAttributes;for(var m in e)b=e[m],c.isEqual(j[m],b)||h.push(m),c.isEqual(l[m],b)?delete k[m]:k[m]=b,f?delete j[m]:j[m]=b;if(this.idAttribute in e&&(this.id=this.get(this.idAttribute)),!g){h.length&&(this._pending=d);for(var n=0;n<h.length;n++)this.trigger("change:"+h[n],this,j[h[n]],d)}if(i)return this;if(!g)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b=this._changing?this._previousAttributes:this.attributes,d={};for(var e in a){var f=a[e];c.isEqual(b[e],f)||(d[e]=f)}return c.size(d)?d:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=c.extend({parse:!0},a);var b=this,d=a.success;return a.success=function(c){var e=a.parse?b.parse(c,a):c;return b.set(e,a)?(d&&d.call(a.context,b,c,a),void b.trigger("sync",b,c,a)):!1},P(this,a),this.sync("read",this,a)},save:function(a,b,d){var e;null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0,parse:!0},d);var f=d.wait;if(e&&!f){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;var g=this,h=d.success,i=this.attributes;d.success=function(a){g.attributes=i;var b=d.parse?g.parse(a,d):a;return f&&(b=c.extend({},e,b)),b&&!g.set(b,d)?!1:(h&&h.call(d.context,g,a,d),void g.trigger("sync",g,a,d))},P(this,d),e&&f&&(this.attributes=c.extend({},i,e));var j=this.isNew()?"create":d.patch?"patch":"update";"patch"!==j||d.attrs||(d.attrs=e);var k=this.sync(j,this,d);return this.attributes=i,k},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=a.wait,f=function(){b.stopListening(),b.trigger("destroy",b,b.collection,a)};a.success=function(c){e&&f(),d&&d.call(a.context,b,c,a),b.isNew()||b.trigger("sync",b,c,a)};var g=!1;return this.isNew()?c.defer(a.success):(P(this,a),g=this.sync("delete",this,a)),e||f(),g},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||O();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend({},a,{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var u={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};h(t,u,"attributes");var v=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},y=function(a,b,c){c=Math.min(Math.max(c,0),a.length);var d,e=Array(a.length-c),f=b.length;for(d=0;d<e.length;d++)e[d]=a[d+c];for(d=0;f>d;d++)a[d+c]=b[d];for(d=0;d<e.length;d++)a[d+f+c]=e[d]};c.extend(v.prototype,k,{model:t,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,x))},remove:function(a,b){b=c.extend({},b);var d=!c.isArray(a);a=d?[a]:a.slice();var e=this._removeModels(a,b);return!b.silent&&e.length&&(b.changes={added:[],merged:[],removed:e},this.trigger("update",this,b)),d?e[0]:e},set:function(a,b){if(null!=a){b=c.extend({},w,b),b.parse&&!this._isModel(a)&&(a=this.parse(a,b)||[]);var d=!c.isArray(a);a=d?[a]:a.slice();var e=b.at;null!=e&&(e=+e),e>this.length&&(e=this.length),0>e&&(e+=this.length+1);var f,g,h=[],i=[],j=[],k=[],l={},m=b.add,n=b.merge,o=b.remove,p=!1,q=this.comparator&&null==e&&b.sort!==!1,r=c.isString(this.comparator)?this.comparator:null;for(g=0;g<a.length;g++){f=a[g];var s=this.get(f);if(s){if(n&&f!==s){var t=this._isModel(f)?f.attributes:f;b.parse&&(t=s.parse(t,b)),s.set(t,b),j.push(s),q&&!p&&(p=s.hasChanged(r))}l[s.cid]||(l[s.cid]=!0,h.push(s)),a[g]=s}else m&&(f=a[g]=this._prepareModel(f,b),f&&(i.push(f),this._addReference(f,b),l[f.cid]=!0,h.push(f)))}if(o){for(g=0;g<this.length;g++)f=this.models[g],l[f.cid]||k.push(f);k.length&&this._removeModels(k,b)}var u=!1,v=!q&&m&&o;if(h.length&&v?(u=this.length!==h.length||c.some(this.models,function(a,b){return a!==h[b]}),this.models.length=0,y(this.models,h,0),this.length=this.models.length):i.length&&(q&&(p=!0),y(this.models,i,null==e?this.length:e),this.length=this.models.length),p&&this.sort({silent:!0}),!b.silent){for(g=0;g<i.length;g++)null!=e&&(b.index=e+g),f=i[g],f.trigger("add",f,this,b);(p||u)&&this.trigger("sort",this,b),(i.length||k.length||j.length)&&(b.changes={added:i,removed:k,merged:j},this.trigger("update",this,b))}return d?a[0]:a}},reset:function(a,b){b=b?c.clone(b):{};for(var d=0;d<this.models.length;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return f.apply(this.models,arguments)},get:function(a){return null!=a?this._byId[a]||this._byId[this.modelId(a.attributes||a)]||a.cid&&this._byId[a.cid]:void 0},has:function(a){return null!=this.get(a)},at:function(a){return 0>a&&(a+=this.length),this.models[a]},where:function(a,b){return this[b?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var b=this.comparator;if(!b)throw new Error("Cannot sort a set without a comparator");a||(a={});var d=b.length;return c.isFunction(b)&&(b=c.bind(b,this)),1===d||c.isString(b)?this.models=this.sortBy(b):this.models.sort(b),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return this.map(a+"")},fetch:function(a){a=c.extend({parse:!0},a);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b.call(a.context,d,c,a),d.trigger("sync",d,c,a)},P(this,a),this.sync("read",this,a)},create:function(a,b){b=b?c.clone(b):{};var d=b.wait;if(a=this._prepareModel(a,b),!a)return!1;d||this.add(a,b);var e=this,f=b.success;return b.success=function(a,b,c){d&&e.add(a,c),f&&f.call(c.context,a,b,c)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_removeModels:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.get(a[d]);if(e){var f=this.indexOf(e);this.models.splice(f,1),this.length--,delete this._byId[e.cid];var g=this.modelId(e.attributes);null!=g&&delete this._byId[g],b.silent||(b.index=f,e.trigger("remove",e,this,b)),c.push(e),this._removeReference(e,b)}}return c},_isModel:function(a){return a instanceof t},_addReference:function(a,b){this._byId[a.cid]=a;var c=this.modelId(a.attributes);null!=c&&(this._byId[c]=a),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];var c=this.modelId(a.attributes);null!=c&&delete this._byId[c],this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(b){if(("add"===a||"remove"===a)&&c!==this)return;if("destroy"===a&&this.remove(b,d),"change"===a){var e=this.modelId(b.previousAttributes()),f=this.modelId(b.attributes);e!==f&&(null!=e&&delete this._byId[e],null!=f&&(this._byId[f]=b))}}this.trigger.apply(this,arguments)}});var z={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};h(v,z,"models");var A=b.View=function(a){this.cid=c.uniqueId("view"),c.extend(this,c.pick(a,C)),this._ensureElement(),this.initialize.apply(this,arguments)},B=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];c.extend(A.prototype,k,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(a){return this.undelegateEvents(),this._setElement(a),this.delegateEvents(),this},_setElement:function(a){this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0]},delegateEvents:function(a){if(a||(a=c.result(this,"events")),!a)return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[d]),d){var e=b.match(B);this.delegate(e[1],e[2],c.bind(d,this))}}return this},delegate:function(a,b,c){return this.$el.on(a+".delegateEvents"+this.cid,b,c),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(a,b,c){return this.$el.off(a+".delegateEvents"+this.cid,b,c),this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className")),this.setElement(this._createElement(c.result(this,"tagName"))),this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}}),b.sync=function(a,d,e){var f=D[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||O()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1);var i=e.error;e.error=function(a,b,c){e.textStatus=b,e.errorThrown=c,i&&i.call(e.context,a,b,c)};var j=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,j,e),j};var D={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var E=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},F=/\((.*?)\)/g,G=/(\(\?)?:\w+/g,H=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(E.prototype,k,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g,d)!==!1&&(f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g))}),this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(I,"\\$&").replace(F,"(?:$1)?").replace(G,function(a,b){return b?a:"([^/?]+)"}).replace(H,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var J=b.History=function(){this.handlers=[],this.checkUrl=c.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},K=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,M=/#.*$/;J.started=!1,c.extend(J.prototype,k,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.getSearch()},matchRoot:function(){var a=this.decodeFragment(this.location.pathname),b=a.slice(0,this.root.length-1)+"/";return b===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){return null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),a.replace(K,"")},start:function(a){if(J.started)throw new Error("Backbone.history has already been started");
if(J.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var b=this.root.slice(0,-1)||"/";return this.location.replace(b+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var d=document.body,e=d.insertBefore(this.iframe,d.firstChild).contentWindow;e.document.open(),e.document.close(),e.location.hash="#"+this.fragment}var f=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};return this._usePushState?f("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?f("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),J.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getHash(this.iframe.contentWindow)),b===this.fragment?!1:(this.iframe&&this.navigate(b),void this.loadUrl())},loadUrl:function(a){return this.matchRoot()?(a=this.fragment=this.getFragment(a),c.some(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})):!1},navigate:function(a,b){if(!J.started)return!1;b&&b!==!0||(b={trigger:!!b}),a=this.getFragment(a||"");var c=this.root;""!==a&&"?"!==a.charAt(0)||(c=c.slice(0,-1)||"/");var d=c+a;if(a=this.decodeFragment(a.replace(M,"")),this.fragment!==a){if(this.fragment=a,this._usePushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,d);else{if(!this._wantsHashChange)return this.location.assign(d);if(this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)){var e=this.iframe.contentWindow;b.replace||(e.document.open(),e.document.close()),this._updateHash(e.location,a,b.replace)}}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new J;var N=function(a,b){var d,e=this;return d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b),d.prototype=c.create(e.prototype,a),d.prototype.constructor=d,d.__super__=e.prototype,d};t.extend=v.extend=E.extend=A.extend=J.extend=N;var O=function(){throw new Error('A "url" property or function must be specified')},P=function(a,b){var c=b.error;b.error=function(d){c&&c.call(b.context,a,d,b),a.trigger("error",a,d,b)}};return b})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:"jquery",underscore:"underscore"}],59:[function(a,b,c){function d(a){return a&&"object"==typeof a?i(a)||j(a)?a:h(a)?f(a,d):g(l(a),function(b,c){var f=e(c);return b[f]=d(a[c]),b},{}):a}function e(a){return a.replace(/[_.-](\w|$)/g,function(a,b){return b.toUpperCase()})}function f(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}function g(a,b,c){if(a.reduce)return a.reduce(b,c);for(var d=0;d<a.length;d++)c=b(c,a[d],d);return c}b.exports=function(a){return"string"==typeof a?e(a):d(a)};var h=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},i=function(a){return"[object Date]"===Object.prototype.toString.call(a)},j=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},k=Object.prototype.hasOwnProperty,l=Object.keys||function(a){var b=[];for(var c in a)k.call(a,c)&&b.push(c);return b}},{}],60:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("observe-js"),h=a("../utils"),i=a("../deps"),j=d(i),k=a("../core"),l=function(){function a(b,c,d,f){e(this,a),this.node,this.observer,this.output,this.previousOutput,this.marker,this.delimiter,this.id=(0,i.getUtils)().uniqueId(),this.value=d,this.context=b,this.keypath=c,this.options=f,c&&(this.value=(0,h.path)(this.context,this.keypath))}return f(a,[{key:"setNode",value:function(a){return a.bindings=a.bindings||[],a.bindings.push(this),this.node=a}},{key:"setMarker",value:function(a){return a.binding=this,this.marker=a}},{key:"setDelimiter",value:function(a){return this.delimiter=a}},{key:"setOutput",value:function(a){return this.previousOutput=this.output,this.output=a}},{key:"setObserver",value:function(a){return this.observer=a}},{key:"createElement",value:function(){return'<hb-binding id="'+this.id+'"></hb-binding>'}},{key:"createAttribute",value:function(){return"hb-binding-"+this.id}},{key:"initialize",value:function(){return this.options.hash.attr?this.initializeAttribute():this.options.fn?this.initializeBlock():this.initializeInline()}},{key:"initializeAttribute",value:function(a){var b=this,c="binding-"+this.id;return j["default"].Handlebars.registerAttribute(c,function(a){return null},{ready:function(a){b.setNode(a),b.render({initialize:!0}),b.observe(),delete j["default"].Handlebars.attributes[c]}}),this.createAttribute()}},{key:"initializeInline",value:function(){return this.setNode(document.createTextNode("")),this.render({initialize:!0}),this.observe(),j["default"].Handlebars.store.hold(this.id,(0,i.getUtils)().flatten([this.node])),new j["default"].Handlebars.SafeString(this.createElement())}},{key:"initializeBlock",value:function(){this.setMarker(document.createTextNode("")),this.setDelimiter(document.createTextNode(""));var a=this.render({initialize:!0});return this.observe(),j["default"].Handlebars.store.hold(this.id,(0,i.getUtils)().flatten([this.marker,a,this.delimiter])),new j["default"].Handlebars.SafeString(this.createElement())}},{key:"runOutput",value:function(){this.options.fn?this.setOutput(this.options.fn(this.context)):this.setOutput(this.value)}},{key:"render",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.runOutput(),this.options.hash.attr?this.renderAttribute(a):this.options.fn?this.renderBlock(a):this.renderInline(a)}},{key:"renderAttribute",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];1==this.options.hash.attr?this.previousOutput!=this.output&&(this.node.removeAttribute(this.previousOutput),this.node.setAttribute(this.output,"")):"class"==this.options.hash.attr?((0,h.removeClass)(this.node,this.previousOutput),(0,h.addClass)(this.node,this.output)):this.node.setAttribute(this.options.hash.attr,this.output)}},{key:"renderInline",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,i.getUtils)().isString(this.output)?this.node.textContent=(0,i.getUtils)().escapeExpression(new j["default"].Handlebars.SafeString(this.output)):this.node.textContent=(0,i.getUtils)().escapeExpression(this.output)}},{key:"renderBlock",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return a.initialize?j["default"].Handlebars.parseHTML(this.output):((0,h.removeBetween)(this.marker,this.delimiter).forEach(function(a){return(0,k.unbind)(a)}),void(0,i.getUtils)().insertAfter(this.marker,j["default"].Handlebars.parseHTML(this.output)))}},{key:"observe",value:function(){var a=this;(0,i.getUtils)().isArray(this.value)?(this.setObserver(new g.ArrayObserver(this.value)),this.observer.open(function(){return a.render()})):(0,i.getUtils)().isObject(this.value)?(this.setObserver(new g.ObjectObserver(this.value)),this.observer.open(function(){return a.render()})):(this.setObserver(new g.PathObserver(this.context,this.keypath)),this.observer.open(function(b){a.value=b,a.render()}))}},{key:"stopObserving",value:function(){this.observer&&this.observer.close()}}]),a}();c["default"]=l},{"../core":64,"../deps":65,"../utils":67,"observe-js":90}],61:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=a("observe-js"),k=a("./binding"),l=d(k),m=a("../utils"),n=a("../deps"),o=d(n),p=a("../core"),q=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"initialize",value:function(){return this.options.hash.bind?i(Object.getPrototypeOf(b.prototype),"initialize",this).call(this):this.runOutput()}},{key:"runOutput",value:function(){return this.options.hash["var"]?this.context[this.options.hash["var"]]=this.value:(0,n.getUtils)().isObject(this.value)&&(0,n.getUtils)().extend(this.context,this.value),this.setOutput(this.options.fn(this.context))}},{key:"observe",value:function(){var a=this;this.parentContextObserver=new j.ObjectObserver(this.options.hash.parentContext),this.parentContextObserver.open(function(){(0,n.getUtils)().extend(a.context,a.options.hash.parentContext)}),(0,n.getUtils)().isObject(this.value)&&(this.options.hash["var"]||(this.setObserver(new j.ObjectObserver(this.value)),this.observer.open(function(){return(0,n.getUtils)().extend(a.context,a.value)})))}}]),b}(l["default"]),r=function(a){function b(a,c,d,g){e(this,b);var h=f(this,Object.getPrototypeOf(b).call(this,a,c,d,g));return h.itemBindings=[],h.empty=0==d.length,h.options.hash.parentContext=h.context,h}return g(b,a),h(b,[{key:"initialize",value:function(){return this.options.hash.bind?i(Object.getPrototypeOf(b.prototype),"initialize",this).call(this):this.runOutput()}},{key:"observe",value:function(){var a=this;this.setObserver(new j.ArrayObserver(this.value)),this.observer.open(function(b){b.forEach(function(b){a.empty=0==a.value.length,a.render({splice:b})}),a.value.forEach(function(b,c){a.itemBindings[c].context.index=c})})}},{key:"runOutput",value:function(){var a=this,b="";return this.itemBindings=[],this.value.forEach(function(c,d){var e=new q((0,n.getUtils)().extend({index:d,$this:c},a.context),null,c,a.options);a.itemBindings.push(e),b+=e.initialize()}),this.setOutput(this.empty?this.options.inverse(this.context):b)}},{key:"render",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!a.splice)return i(Object.getPrototypeOf(b.prototype),"render",this).call(this,a);var c=a.splice;if(c.removed.length>0)for(var d=0,e=c.index;e<c.index+c.removed.length;e++)this.removeItem(e-d++);if(c.addedCount>0)for(var f=c.index;f<c.index+c.addedCount;f++)this.addItem(f)}},{key:"addItem",value:function(a){var b;b=this.itemBindings[a-1]?this.itemBindings[a-1].delimiter:this.marker;var c=this.value[a],d=new q((0,n.getUtils)().extend({index:a,$this:c},this.context),null,c,this.options);(0,n.getUtils)().insertAfter(b,o["default"].Handlebars.parseHTML(d.initialize())),this.itemBindings.splice(a,0,d)}},{key:"removeItem",value:function(a){var b=this.itemBindings[a];(0,m.removeBetween)(b.marker,b.delimiter).forEach(function(a){return(0,p.unbind)(a)}),b.marker.remove(),b.delimiter.remove(),this.itemBindings.splice(a,1)}}]),b}(l["default"]);c["default"]=r},{"../core":64,"../deps":65,"../utils":67,"./binding":60,"observe-js":90}],62:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function p(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:p(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},j=a("observe-js"),k=a("./binding"),l=d(k),m=a("../deps"),n=(d(m),a("../utils")),o=function(a){function b(a,c,d,g){e(this,b);var h=f(this,Object.getPrototypeOf(b).call(this,a,c,d,g));return h.falsy=(0,n.isFalsy)(d),h}return g(b,a),h(b,[{key:"initialize",value:function(){return this.options.hash.bind?i(Object.getPrototypeOf(b.prototype),"initialize",this).call(this):this.runOutput()}},{key:"observe",value:function(){var a=this;(0,m.getUtils)().isArray(this.value)?(this.setObserver(new j.ArrayObserver(this.value)),this.observer.open(function(){(0,n.isFalsy)(a.value)!=a.falsy&&(a.falsy=(0,n.isFalsy)(a.value),a.render())})):(this.setObserver(new j.PathObserver(this.context,this.keypath)),this.observer.open(function(b){a.value=b,(0,n.isFalsy)(a.value)!=a.falsy&&(a.falsy=(0,n.isFalsy)(a.value),a.render())}))}},{key:"runOutput",value:function(){return this.falsy?this.setOutput(this.options.inverse?this.options.inverse(this.context):this.options.hash["else"]):this.setOutput(this.options.fn?this.options.fn(this.context):this.options.hash.then)}},{key:"renderAttribute",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];1==this.options.hash.attr?(this.node.removeAttribute(this.previousOutput),this.output&&this.node.setAttribute(this.output,"")):"class"==this.options.hash.attr?((0,n.removeClass)(this.node,this.previousOutput),(0,n.addClass)(this.node,this.output)):this.node.setAttribute(this.options.hash.attr,this.output)}}]),b}(l["default"]);c["default"]=o},{"../deps":65,"../utils":67,"./binding":60,"observe-js":90}],63:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.EachBinding=c.IfBinding=c.Binding=void 0;var e=a("./binding"),f=d(e),g=a("./if_binding"),h=d(g),i=a("./each_binding"),j=d(i);c.Binding=f["default"],c.IfBinding=h["default"],c.EachBinding=j["default"]},{"./binding":60,"./each_binding":61,"./if_binding":62}],64:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){(0,k.traverse)(a,function(a){a.binding?a.binding.observe():a.bindings&&a.bindings.forEach(function(a){return a.observe()})})}function f(a){(0,k.traverse)(a,function(a){a.binding?a.binding.stopObserving():a.bindings&&a.bindings.forEach(function(a){return a.stopObserving()})})}function g(){Platform.performMicrotaskCheckpoint()}function h(){m["default"].Handlebars.registerHelper("bind",function(a,b){return new j.Binding(this,a,null,b).initialize()}),m["default"].Handlebars.registerHelper("if",function(a,b){var c;return b.hash.bindAttr&&(b.hash.attr=b.hash.bindAttr,b.hash.bind=!0),b.hash.bind&&(0,l.getUtils)().isString(a)&&(c=a,a=(0,k.path)(this,c)),new j.IfBinding(this,c,a,b).initialize()}),m["default"].Handlebars.registerHelper("each",function(a,b){return new j.EachBinding(this,null,a,b).initialize()}),m["default"].Handlebars.registerHelper("unless",function(a,b){var c=b.fn,d=b.inverse,e=b.hash.then,f=b.hash["else"];return b.fn=d,b.inverse=c,b.hash.then=f,b.hash["else"]=e,m["default"].Handlebars.helpers["if"].apply(this,[a,b])}),m["default"].Handlebars.registerElement("binding",function(a){return a.id})}Object.defineProperty(c,"__esModule",{value:!0}),c.bind=e,c.unbind=f,c.update=g,c.register=h;var i=a("observe-js"),j=(d(i),a("../bindings")),k=a("../utils"),l=a("../deps"),m=d(l)},{"../bindings":63,"../deps":65,"../utils":67,"observe-js":90}],65:[function(a,b,c){"use strict";function d(){return e.Handlebars.Utils}Object.defineProperty(c,"__esModule",{value:!0}),c.getUtils=d;var e={};c["default"]=e},{}],66:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(!l["default"].Handlebars){(0,g["default"])(a);var b=a.Utils.extend;b(l["default"],{Handlebars:a}),b(a,{Binding:h.Binding,IfBinding:h.IfBinding,EachBinding:h.EachBinding,bind:i.bind,unbind:i.unbind,update:i.update}),b(a.Utils,{path:j.path,traverse:j.traverse,removeBetween:j.removeBetween,nodesBetween:j.nodesBetween,removeClass:j.removeClass,addClass:j.addClass,hasClass:j.hasClass,isFalsy:j.isFalsy}),(0,i.register)()}return a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("handlebars.element"),g=d(f),h=a("./bindings"),i=a("./core"),j=a("./utils"),k=a("./deps"),l=d(k);"undefined"!=typeof window&&window.Handlebars&&e(window.Handlebars)},{"./bindings":63,"./core":64,"./deps":65,"./utils":67,"handlebars.element":70}],67:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return!a||(0,m.getUtils)().isEmpty(a)}function f(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function g(a,b){return f(a,b)?void 0:0==a.className.length?a.className=b:a.className+=" "+b}function h(a,b){return f(a,b)?a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)"),""):void 0}function i(a,b){for(var c=a.nextSibling,d=[];c&&c!=b;){var e=c.nextSibling;d.push(c),c=e}return d}function j(a,b){var c=i(a,b);return c.forEach(function(a){return a.remove()}),c}function k(a,b){for(b.apply(this,[a]),a=a.firstChild;a;)k(a,b),a=a.nextSibling}function l(a,b){var c=b.split("."),d=a[c.shift()];return c.forEach(function(a){return d=d[a]}),d}Object.defineProperty(c,"__esModule",{value:!0}),c.isFalsy=e,c.hasClass=f,c.addClass=g,c.removeClass=h,c.nodesBetween=i,c.removeBetween=j,c.traverse=k,c.path=l;var m=a("../deps");d(m)},{"../deps":65}],68:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){b.options=c||{},n[a]=b}function f(a,b,c){b.options=c||{},o[a]=b}function g(a,b){var c=k["default"][a];return c?a=c:"true"==a?a=!0:"false"==a?a=!1:"null"==a?a=void 0:"undefined"==a?a=void 0:isNaN(a)||""==a||(a=parseFloat(a)),b?!(!a&&""!==a):""===a?void 0:a}function h(a){var b=[];if(a instanceof m["default"].Handlebars.SafeString&&(a=a.toString()),(0,i.isString)(a)){var c=document.createElement("div");c.innerHTML=a.trim();var d=c.childNodes}else var d=a;for(var e=(0,i.flatten)(d);0!=e.length;){for(var f=[],g=0;g<e.length;g++){for(var h={owner:e[g],element:void 0,attributes:[]},j=(0,i.flatten)(e[g].childNodes),k=0;k<j.length;k++)f.push(j[k]);if(e[g].attributes)for(var k=0;k<e[g].attributes.length;k++)/hb-/i.test(e[g].attributes[k].name)&&h.attributes.push(e[g].attributes[k]);/^hb-/i.test(e[g].nodeName)&&(h.element=e[g]),(h.element||h.attributes.length>0)&&b.unshift(h)}e=f}for(var g=0;g<b.length;g++){var l=b[g].owner,p=b[g].element,q=b[g].attributes;if(q.length>0)for(var k=0;k<q.length;k++){var r=q[k],s=r.name.replace("hb-",""),t=o[s],u=t.apply(r,[l]);u&&l.setAttributeNode(u),l.removeAttributeNode(r),t.options.ready&&!/hb-/i.test(l.tagName.toLowerCase())&&t.options.ready.apply(r,[l])}if(p){for(var v={},w=p.tagName.toLowerCase().replace("hb-",""),x=n[w],k=0;k<p.attributes.length;k++){var r=p.attributes.item(k),s=(0,i.camelize)(r.nodeName),y=x.options.booleans&&x.options.booleans.indexOf(s)>=0;v[s]=this.parseValue(r.nodeValue,y)}var z=x.apply(p,[v]);(0,i.replaceWith)(p,z);for(var k=0;k<q.length;k++){var r=q[k],s=r.name.replace("hb-",""),t=o[s];t.options.ready&&t.options.ready.apply(r,[z])}}}return(0,i.flatten)(d)}Object.defineProperty(c,"__esModule",{value:!0}),c.attributes=c.elements=void 0,c.registerElement=e,c.registerAttribute=f,c.parseValue=g,c.parseHTML=h;var i=a("../utils"),j=a("../store"),k=d(j),l=a("../deps"),m=d(l),n=c.elements={},o=c.attributes={}},{"../deps":69,"../store":71,"../utils":72}],69:[function(a,b,c){arguments[4][65][0].apply(c,arguments)},{dup:65}],70:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return k["default"].Handlebars||((0,f.extend)(k["default"],{Handlebars:a}),(0,f.extend)(a,{store:i["default"],elements:g.elements,attributes:g.attributes,registerElement:g.registerElement,registerAttribute:g.registerAttribute,parseValue:g.parseValue,parseHTML:g.parseHTML}),(0,f.extend)(a.Utils,{extend:f.extend,isObject:f.isObject,isString:f.isString,uniqueId:f.uniqueId,flatten:f.flatten,camelize:f.camelize,replaceWith:f.replaceWith,insertAfter:f.insertAfter,escapeExpression:f.escapeExpression,_escapeExpression:a.Utils.escapeExpression})),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./utils"),g=a("./core"),h=a("./store"),i=d(h),j=a("./deps"),k=d(j);"undefined"!=typeof window&&window.Handlebars&&e(window.Handlebars)},{"./core":68,"./deps":69,"./store":71,"./utils":72}],71:[function(a,b,c){"use strict";function d(a,b){return h[a]=b}function e(a){var b=h[a];return delete h[a],b}function f(a){for(var b in h)if(h[b]==a)return b}Object.defineProperty(c,"__esModule",{value:!0}),c.hold=d,c.release=e,c.keyFor=f;var g=a("../utils"),h={};(0,g.extend)(h,{hold:d,release:e,keyFor:f}),c["default"]=h},{"../utils":72}],72:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function f(a){return a===Object(a)}function g(a){return"[object String]"==toString.call(a)}function h(){var a=function(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b};return a()+a(!0)+a(!0)+a()}function i(a,b){b=b||[];for(var c=0;c<a.length;c++)(0,p.getUtils)().isArray(a[c])?i(a[c],b):b.push(a[c]);return b}function j(a){return a.trim().replace(/[-_\s]+(.)?/g,function(a,b){return b?b.toUpperCase():""})}function k(a,b){b=(0,p.getUtils)().isArray(b)?b:[b];for(var c=0;c<b.length;c++)0==c?a.parentNode.replaceChild(b[c],a):l(b[c-1],b[c])}function l(a,b){b=(0,p.getUtils)().isArray(b)?b.slice():[b],b.unshift(a);for(var c=1;c<b.length;c++)b[c-1].nextSibling?b[c-1].parentNode.insertBefore(b[c],b[c-1].nextSibling):b[c-1].parentNode.appendChild(b[c])}function m(a){if(!f(a)||a instanceof q["default"].Handlebars.SafeString)a===!1&&(a=a.toString());else{var b=o["default"].keyFor(a);b?a=b:(b=h(),o["default"].hold(b,a),a=b)}return(0,p.getUtils)()._escapeExpression(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.extend=e,c.isObject=f,c.isString=g,c.uniqueId=h,c.flatten=i,c.camelize=j,c.replaceWith=k,c.insertAfter=l,c.escapeExpression=m;var n=a("../store"),o=d(n),p=a("../deps"),q=d(p)},{"../deps":69,"../store":71}],73:[function(a,b,c){(function(a){!function(d,e){if("undefined"!=typeof c){var f=a.MutationObserver||a.WebKitMutationObserver||a.MozMutationObserver;"undefined"!=typeof b&&b.exports&&(b.exports=e(a.$,f)),c=e(a.$,f)}else e(d.$,d.MutationObserver||d.WebKitMutationObserver||d.MozMutationObserver)}(this,function(a,b){var b=window.MutationObserver||window.WebKitMutationObserver,c=function(b){var c=a(b).find("[lifecycle]").toArray();return a(b).is("[lifecycle]")&&c.push(b),c},d=function(c,d){var e=new b(function(b){a.each(b,function(a,b){var e=c.attributes[b.attributeName];e&&e.value==b.oldValue||d.apply(c,[b.attributeName,e?e.value:void 0])})});return e.observe(c,{subtree:!1,attributes:!0,attributeOldValue:!0}),e},e=function(c,d){var e=new b(function(b){a.each(b,function(b,e){"childList"===e.type&&a.each(e.addedNodes,function(a,b){d.apply(c,[b])})})});return e.observe(c,{childList:!0,subtree:!0}),e},f=new b(function(b){a.each(b,function(b,d){"childList"===d.type&&(a.each(d.addedNodes,function(b,d){a.each(c(d),function(b,c){a.each(c.whenInsert||[],function(a,b){c.inserted||b.apply(c)}),c.inserted=!0})}),a.each(d.removedNodes,function(b,d){a.each(c(d),function(b,c){a.each(c.whenRemove||[],function(a,b){c.inserted&&b.apply(c)}),c.inserted=!1})}))})});a(function(){f.observe(document.body,{childList:!0,subtree:!0})}),a.fn.lifecycle=function(b){return this.each(function(){var c=a(this)[0];c.inserted=!1,c.whenInsert=c.whenInsert||[],c.whenRemove=c.whenRemove||[],c.whenChange=c.whenChange||[],c.whenSubtreeChange=c.whenSubtreeChange||[],b=b||{},b.insert&&c.whenInsert.push(b.insert),b.remove&&c.whenRemove.push(b.remove),b.change&&c.whenChange.push(d(c,b.change)),b.subtreeChange&&c.whenSubtreeChange.push(e(c,b.subtreeChange)),a(this).attr("lifecycle","")})},a.fn.unlifecycle=function(){return this.each(function(){var b=a(this)[0];a.each(b.whenChange,function(a,b){b.disconnect()}),a.each(b.whenSubtreeChange,function(a,b){b.disconnect()}),delete b.inserted,delete b.whenInsert,delete b.whenRemove,delete b.whenChange,a(this).removeAttr("lifecycle")})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],74:[function(a,b,c){var d=a("../pipe").Pipe,e=function(){};e.prototype.setResult=function(a){return this.result=a,this.hasResult=!0,this},e.prototype.exit=function(){return this.exiting=!0,this},e.prototype.switchTo=function(a,b){return"string"==typeof a||a instanceof d?this.nextPipe=a:(this.next=a,b&&(this.nextPipe=b)),this},e.prototype.push=function(a,b){return a.parent=this,"undefined"!=typeof b&&(a.childName=b),a.root=this.root||this,a.options=a.options||this.options,this.children?(this.children[this.children.length-1].next=a,this.children.push(a)):(this.children=[a],this.nextAfterChildren=this.next||null,this.next=a),a.next=this,this},c.Context=e},{"../pipe":88}],75:[function(a,b,c){var d=a("./context").Context,e=a("../date-reviver"),f=function(a,b){this.left=a,this.right=b,this.pipe="diff"};f.prototype=new d,f.prototype.setResult=function(a){if(this.options.cloneDiffValues){var b="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:function(a){return JSON.parse(JSON.stringify(a),e)};"object"==typeof a[0]&&(a[0]=b(a[0])),"object"==typeof a[1]&&(a[1]=b(a[1]))}return d.prototype.setResult.apply(this,arguments)},c.DiffContext=f},{"../date-reviver":78,"./context":74}],76:[function(a,b,c){var d=a("./context").Context,e=function(a,b){this.left=a,this.delta=b,this.pipe="patch"};e.prototype=new d,c.PatchContext=e},{"./context":74}],77:[function(a,b,c){var d=a("./context").Context,e=function(a){this.delta=a,this.pipe="reverse"};e.prototype=new d,c.ReverseContext=e},{"./context":74}],78:[function(a,b,c){b.exports=function(a,b){var c;return"string"==typeof b&&(c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(b))?new Date(Date.UTC(+c[1],+c[2]-1,+c[3],+c[4],+c[5],+c[6],+(c[7]||0))):b}},{}],79:[function(a,b,c){var d=a("./processor").Processor,e=a("./pipe").Pipe,f=a("./contexts/diff").DiffContext,g=a("./contexts/patch").PatchContext,h=a("./contexts/reverse").ReverseContext,i=a("./filters/trivial"),j=a("./filters/nested"),k=a("./filters/arrays"),l=a("./filters/dates"),m=a("./filters/texts"),n=function(a){this.processor=new d(a),this.processor.pipe(new e("diff").append(j.collectChildrenDiffFilter,i.diffFilter,l.diffFilter,m.diffFilter,j.objectsDiffFilter,k.diffFilter).shouldHaveResult()),this.processor.pipe(new e("patch").append(j.collectChildrenPatchFilter,k.collectChildrenPatchFilter,i.patchFilter,m.patchFilter,j.patchFilter,k.patchFilter).shouldHaveResult()),this.processor.pipe(new e("reverse").append(j.collectChildrenReverseFilter,k.collectChildrenReverseFilter,i.reverseFilter,m.reverseFilter,j.reverseFilter,k.reverseFilter).shouldHaveResult())};n.prototype.options=function(){return this.processor.options.apply(this.processor,arguments)},n.prototype.diff=function(a,b){return this.processor.process(new f(a,b))},n.prototype.patch=function(a,b){return this.processor.process(new g(a,b))},n.prototype.reverse=function(a){return this.processor.process(new h(a))},n.prototype.unpatch=function(a,b){return this.patch(a,this.reverse(b))},c.DiffPatcher=n},{"./contexts/diff":75,"./contexts/patch":76,"./contexts/reverse":77,"./filters/arrays":81,"./filters/dates":82,"./filters/nested":84,"./filters/texts":85,"./filters/trivial":86,"./pipe":88,"./processor":89}],80:[function(a,b,c){c.isBrowser="undefined"!=typeof window},{}],81:[function(a,b,c){function d(a,b,c,d){for(var e=0;c>e;e++)for(var f=a[e],g=0;d>g;g++){var h=b[g];if(f===h)return!0}}function e(a,b,c,d,e){var f=a[c],g=b[d];if(f===g)return!0;if("object"!=typeof f||"object"!=typeof g)return!1;var h=e.objectHash;if(!h)return e.matchByPosition&&c===d;var i,j;return"number"==typeof c?(e.hashCache1=e.hashCache1||[],i=e.hashCache1[c],"undefined"==typeof i&&(e.hashCache1[c]=i=h(f,c))):i=h(f),"undefined"==typeof i?!1:("number"==typeof d?(e.hashCache2=e.hashCache2||[],j=e.hashCache2[d],"undefined"==typeof j&&(e.hashCache2[d]=j=h(g,d))):j=h(g),"undefined"==typeof j?!1:i===j)}var f=a("../contexts/diff").DiffContext,g=a("../contexts/patch").PatchContext,h=a("../contexts/reverse").ReverseContext,i=a("./lcs"),j=3,k="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},l="function"==typeof Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]===b)return d;return-1},m=function(a){if(a.leftIsArray){var b,c,g,h,k={objectHash:a.options&&a.options.objectHash,matchByPosition:a.options&&a.options.matchByPosition},m=0,n=0,o=a.left,p=a.right,q=o.length,r=p.length;for(q>0&&r>0&&!k.objectHash&&"boolean"!=typeof k.matchByPosition&&(k.matchByPosition=!d(o,p,q,r));q>m&&r>m&&e(o,p,m,m,k);)b=m,h=new f(a.left[b],a.right[b]),a.push(h,b),m++;for(;q>n+m&&r>n+m&&e(o,p,q-1-n,r-1-n,k);)c=q-1-n,g=r-1-n,h=new f(a.left[c],a.right[g]),a.push(h,g),n++;var s;if(m+n===q){if(q===r)return void a.setResult(void 0).exit();for(s=s||{_t:"a"},b=m;r-n>b;b++)s[b]=[p[b]];return void a.setResult(s).exit()}if(m+n===r){for(s=s||{_t:"a"},b=m;q-n>b;b++)s["_"+b]=[o[b],0,0];
return void a.setResult(s).exit()}delete k.hashCache1,delete k.hashCache2;var t=o.slice(m,q-n),u=p.slice(m,r-n),v=i.get(t,u,e,k),w=[];for(s=s||{_t:"a"},b=m;q-n>b;b++)l(v.indices1,b-m)<0&&(s["_"+b]=[o[b],0,0],w.push(b));var x=!0;a.options&&a.options.arrays&&a.options.arrays.detectMove===!1&&(x=!1);var y=!1;a.options&&a.options.arrays&&a.options.arrays.includeValueOnMove&&(y=!0);var z=w.length;for(b=m;r-n>b;b++){var A=l(v.indices2,b-m);if(0>A){var B=!1;if(x&&z>0)for(var C=0;z>C;C++)if(c=w[C],e(t,u,c-m,b-m,k)){s["_"+c].splice(1,2,b,j),y||(s["_"+c][0]=""),g=b,h=new f(a.left[c],a.right[g]),a.push(h,g),w.splice(C,1),B=!0;break}B||(s[b]=[p[b]])}else c=v.indices1[A]+m,g=v.indices2[A]+m,h=new f(a.left[c],a.right[g]),a.push(h,g)}a.setResult(s).exit()}};m.filterName="arrays";var n={numerically:function(a,b){return a-b},numericallyBy:function(a){return function(b,c){return b[a]-c[a]}}},o=function(a){if(a.nested&&"a"===a.delta._t){var b,c,d=a.delta,e=a.left,f=[],h=[],i=[];for(b in d)if("_t"!==b)if("_"===b[0]){if(0!==d[b][2]&&d[b][2]!==j)throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+d[b][2]);f.push(parseInt(b.slice(1),10))}else 1===d[b].length?h.push({index:parseInt(b,10),value:d[b][0]}):i.push({index:parseInt(b,10),delta:d[b]});for(f=f.sort(n.numerically),b=f.length-1;b>=0;b--){c=f[b];var k=d["_"+c],l=e.splice(c,1)[0];k[2]===j&&h.push({index:k[1],value:l})}h=h.sort(n.numericallyBy("index"));var m=h.length;for(b=0;m>b;b++){var o=h[b];e.splice(o.index,0,o.value)}var p,q=i.length;if(q>0)for(b=0;q>b;b++){var r=i[b];p=new g(a.left[r.index],r.delta),a.push(p,r.index)}return a.children?void a.exit():void a.setResult(a.left).exit()}};o.filterName="arrays";var p=function(a){if(a&&a.children&&"a"===a.delta._t){for(var b,c=a.children.length,d=0;c>d;d++)b=a.children[d],a.left[b.childName]=b.result;a.setResult(a.left).exit()}};p.filterName="arraysCollectChildren";var q=function(a){if(!a.nested)return void(a.delta[2]===j&&(a.newName="_"+a.delta[1],a.setResult([a.delta[0],parseInt(a.childName.substr(1),10),j]).exit()));if("a"===a.delta._t){var b,c;for(b in a.delta)"_t"!==b&&(c=new h(a.delta[b]),a.push(c,b));a.exit()}};q.filterName="arrays";var r=function(a,b,c){if("string"==typeof b&&"_"===b[0])return parseInt(b.substr(1),10);if(k(c)&&0===c[2])return"_"+b;var d=+b;for(var e in a){var f=a[e];if(k(f))if(f[2]===j){var g=parseInt(e.substr(1),10),h=f[1];if(h===+b)return g;d>=g&&h>d?d++:g>=d&&d>h&&d--}else if(0===f[2]){var i=parseInt(e.substr(1),10);d>=i&&d++}else 1===f.length&&d>=e&&d--}return d},s=function(a){if(a&&a.children&&"a"===a.delta._t){for(var b,c=a.children.length,d={_t:"a"},e=0;c>e;e++){b=a.children[e];var f=b.newName;"undefined"==typeof f&&(f=r(a.delta,b.childName,b.result)),d[f]!==b.result&&(d[f]=b.result)}a.setResult(d).exit()}};s.filterName="arraysCollectChildren",c.diffFilter=m,c.patchFilter=o,c.collectChildrenPatchFilter=p,c.reverseFilter=q,c.collectChildrenReverseFilter=s},{"../contexts/diff":75,"../contexts/patch":76,"../contexts/reverse":77,"./lcs":83}],82:[function(a,b,c){var d=function(a){a.left instanceof Date?(a.right instanceof Date?a.left.getTime()!==a.right.getTime()?a.setResult([a.left,a.right]):a.setResult(void 0):a.setResult([a.left,a.right]),a.exit()):a.right instanceof Date&&a.setResult([a.left,a.right]).exit()};d.filterName="dates",c.diffFilter=d},{}],83:[function(a,b,c){var d=function(a,b,c,d){return a[c]===b[d]},e=function(a,b,c,d){var e,f,g=a.length,h=b.length,i=[g+1];for(e=0;g+1>e;e++)for(i[e]=[h+1],f=0;h+1>f;f++)i[e][f]=0;for(i.match=c,e=1;g+1>e;e++)for(f=1;h+1>f;f++)c(a,b,e-1,f-1,d)?i[e][f]=i[e-1][f-1]+1:i[e][f]=Math.max(i[e-1][f],i[e][f-1]);return i},f=function(a,b,c,d,e,g){if(0===d||0===e)return{sequence:[],indices1:[],indices2:[]};if(a.match(b,c,d-1,e-1,g)){var h=f(a,b,c,d-1,e-1,g);return h.sequence.push(b[d-1]),h.indices1.push(d-1),h.indices2.push(e-1),h}return a[d][e-1]>a[d-1][e]?f(a,b,c,d,e-1,g):f(a,b,c,d-1,e,g)},g=function(a,b,c,g){g=g||{};var h=e(a,b,c||d,g),i=f(h,a,b,a.length,b.length,g);return"string"==typeof a&&"string"==typeof b&&(i.sequence=i.sequence.join("")),i};c.get=g},{}],84:[function(a,b,c){var d=a("../contexts/diff").DiffContext,e=a("../contexts/patch").PatchContext,f=a("../contexts/reverse").ReverseContext,g=function(a){if(a&&a.children){for(var b,c=a.children.length,d=a.result,e=0;c>e;e++)b=a.children[e],"undefined"!=typeof b.result&&(d=d||{},d[b.childName]=b.result);d&&a.leftIsArray&&(d._t="a"),a.setResult(d).exit()}};g.filterName="collectChildren";var h=function(a){if(!a.leftIsArray&&"object"===a.leftType){var b,c,e=a.options.propertyFilter;for(b in a.left)Object.prototype.hasOwnProperty.call(a.left,b)&&(e&&!e(b,a)||(c=new d(a.left[b],a.right[b]),a.push(c,b)));for(b in a.right)Object.prototype.hasOwnProperty.call(a.right,b)&&(e&&!e(b,a)||"undefined"==typeof a.left[b]&&(c=new d(void 0,a.right[b]),a.push(c,b)));return a.children&&0!==a.children.length?void a.exit():void a.setResult(void 0).exit()}};h.filterName="objects";var i=function(a){if(a.nested&&!a.delta._t){var b,c;for(b in a.delta)c=new e(a.left[b],a.delta[b]),a.push(c,b);a.exit()}};i.filterName="objects";var j=function(a){if(a&&a.children&&!a.delta._t){for(var b,c=a.children.length,d=0;c>d;d++)b=a.children[d],Object.prototype.hasOwnProperty.call(a.left,b.childName)&&void 0===b.result?delete a.left[b.childName]:a.left[b.childName]!==b.result&&(a.left[b.childName]=b.result);a.setResult(a.left).exit()}};j.filterName="collectChildren";var k=function(a){if(a.nested&&!a.delta._t){var b,c;for(b in a.delta)c=new f(a.delta[b]),a.push(c,b);a.exit()}};k.filterName="objects";var l=function(a){if(a&&a.children&&!a.delta._t){for(var b,c=a.children.length,d={},e=0;c>e;e++)b=a.children[e],d[b.childName]!==b.result&&(d[b.childName]=b.result);a.setResult(d).exit()}};l.filterName="collectChildren",c.collectChildrenDiffFilter=g,c.objectsDiffFilter=h,c.patchFilter=i,c.collectChildrenPatchFilter=j,c.reverseFilter=k,c.collectChildrenReverseFilter=l},{"../contexts/diff":75,"../contexts/patch":76,"../contexts/reverse":77}],85:[function(a,b,c){var d=2,e=60,f=null,g=function(b){if(!f){var c;if("undefined"!=typeof diff_match_patch)c="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if("function"==typeof a)try{var d="diff_match_patch_uncompressed",e=a("../../public/external/"+d);c=new e.diff_match_patch}catch(g){c=null}if(!c){if(!b)return null;var h=new Error("text diff_match_patch library not found");throw h.diff_match_patch_not_found=!0,h}f={diff:function(a,b){return c.patch_toText(c.patch_make(a,b))},patch:function(a,b){for(var d=c.patch_apply(c.patch_fromText(b),a),e=0;e<d[1].length;e++)if(!d[1][e]){var f=new Error("text patch failed");f.textPatchFailed=!0}return d[0]}}}return f},h=function(a){if("string"===a.leftType){var b=a.options&&a.options.textDiff&&a.options.textDiff.minLength||e;if(a.left.length<b||a.right.length<b)return void a.setResult([a.left,a.right]).exit();var c=g();if(!c)return void a.setResult([a.left,a.right]).exit();var f=c.diff;a.setResult([f(a.left,a.right),0,d]).exit()}};h.filterName="texts";var i=function(a){if(!a.nested&&a.delta[2]===d){var b=g(!0).patch;a.setResult(b(a.left,a.delta[0])).exit()}};i.filterName="texts";var j=function(a){var b,c,d,e,f,g,h,i,j=null,k=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(d=a.split("\n"),b=0,c=d.length;c>b;b++){e=d[b];var l=e.slice(0,1);"@"===l?(j=k.exec(e),g=b,h=null,i=null,d[g]="@@ -"+j[3]+","+j[4]+" +"+j[1]+","+j[2]+" @@"):"+"===l?(h=b,d[b]="-"+d[b].slice(1),"+"===d[b-1].slice(0,1)&&(f=d[b],d[b]=d[b-1],d[b-1]=f)):"-"===l&&(i=b,d[b]="+"+d[b].slice(1))}return d.join("\n")},k=function(a){a.nested||a.delta[2]===d&&a.setResult([j(a.delta[0]),0,d]).exit()};k.filterName="texts",c.diffFilter=h,c.patchFilter=i,c.reverseFilter=k},{}],86:[function(a,b,c){var d="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},e=function(a){if(a.left===a.right)return void a.setResult(void 0).exit();if("undefined"==typeof a.left){if("function"==typeof a.right)throw new Error("functions are not supported");return void a.setResult([a.right]).exit()}if("undefined"==typeof a.right)return void a.setResult([a.left,0,0]).exit();if("function"==typeof a.left||"function"==typeof a.right)throw new Error("functions are not supported");return a.leftType=null===a.left?"null":typeof a.left,a.rightType=null===a.right?"null":typeof a.right,a.leftType!==a.rightType?void a.setResult([a.left,a.right]).exit():"boolean"===a.leftType||"number"===a.leftType?void a.setResult([a.left,a.right]).exit():("object"===a.leftType&&(a.leftIsArray=d(a.left)),"object"===a.rightType&&(a.rightIsArray=d(a.right)),a.leftIsArray!==a.rightIsArray?void a.setResult([a.left,a.right]).exit():void 0)};e.filterName="trivial";var f=function(a){return"undefined"==typeof a.delta?void a.setResult(a.left).exit():(a.nested=!d(a.delta),a.nested?void 0:1===a.delta.length?void a.setResult(a.delta[0]).exit():2===a.delta.length?void a.setResult(a.delta[1]).exit():3===a.delta.length&&0===a.delta[2]?void a.setResult(void 0).exit():void 0)};f.filterName="trivial";var g=function(a){return"undefined"==typeof a.delta?void a.setResult(a.delta).exit():(a.nested=!d(a.delta),a.nested?void 0:1===a.delta.length?void a.setResult([a.delta[0],0,0]).exit():2===a.delta.length?void a.setResult([a.delta[1],a.delta[0]]).exit():3===a.delta.length&&0===a.delta[2]?void a.setResult([a.delta[0]]).exit():void 0)};g.filterName="trivial",c.diffFilter=e,c.patchFilter=f,c.reverseFilter=g},{}],87:[function(a,b,c){var d=a("./environment"),e=a("./diffpatcher").DiffPatcher;c.DiffPatcher=e,c.create=function(a){return new e(a)},c.dateReviver=a("./date-reviver");var f;if(c.diff=function(){return f||(f=new e),f.diff.apply(f,arguments)},c.patch=function(){return f||(f=new e),f.patch.apply(f,arguments)},c.unpatch=function(){return f||(f=new e),f.unpatch.apply(f,arguments)},c.reverse=function(){return f||(f=new e),f.reverse.apply(f,arguments)},d.isBrowser)c.homepage="{{package-homepage}}",c.version="{{package-version}}";else{var g="../package.json",h=a(g);c.homepage=h.homepage,c.version=h.version;var i="./formatters",j=a(i);c.formatters=j,c.console=j.console}},{"./date-reviver":78,"./diffpatcher":79,"./environment":80}],88:[function(a,b,c){var d=function(a){this.name=a,this.filters=[]};d.prototype.process=function(a){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var b=this.debug,c=this.filters.length,d=a,e=0;c>e;e++){var f=this.filters[e];if(b&&this.log("filter: "+f.filterName),f(d),"object"==typeof d&&d.exiting){d.exiting=!1;break}}!d.next&&this.resultCheck&&this.resultCheck(d)},d.prototype.log=function(a){console.log("[jsondiffpatch] "+this.name+" pipe, "+a)},d.prototype.append=function(){return this.filters.push.apply(this.filters,arguments),this},d.prototype.prepend=function(){return this.filters.unshift.apply(this.filters,arguments),this},d.prototype.indexOf=function(a){if(!a)throw new Error("a filter name is required");for(var b=0;b<this.filters.length;b++){var c=this.filters[b];if(c.filterName===a)return b}throw new Error("filter not found: "+a)},d.prototype.list=function(){for(var a=[],b=0;b<this.filters.length;b++){var c=this.filters[b];a.push(c.filterName)}return a},d.prototype.after=function(a){var b=this.indexOf(a),c=Array.prototype.slice.call(arguments,1);if(!c.length)throw new Error("a filter is required");return c.unshift(b+1,0),Array.prototype.splice.apply(this.filters,c),this},d.prototype.before=function(a){var b=this.indexOf(a),c=Array.prototype.slice.call(arguments,1);if(!c.length)throw new Error("a filter is required");return c.unshift(b,0),Array.prototype.splice.apply(this.filters,c),this},d.prototype.clear=function(){return this.filters.length=0,this},d.prototype.shouldHaveResult=function(a){if(a===!1)return void(this.resultCheck=null);if(!this.resultCheck){var b=this;return this.resultCheck=function(a){if(!a.hasResult){console.log(a);var c=new Error(b.name+" failed");throw c.noResult=!0,c}},this}},c.Pipe=d},{}],89:[function(a,b,c){var d=function(a){this.selfOptions=a||{},this.pipes={}};d.prototype.options=function(a){return a&&(this.selfOptions=a),this.selfOptions},d.prototype.pipe=function(a,b){if("string"==typeof a){if("undefined"==typeof b)return this.pipes[a];this.pipes[a]=b}if(a&&a.name){if(b=a,b.processor===this)return b;this.pipes[b.name]=b}return b.processor=this,b},d.prototype.process=function(a,b){var c=a;c.options=this.options();for(var d,e,f=b||a.pipe||"default";f;)"undefined"!=typeof c.nextAfterChildren&&(c.next=c.nextAfterChildren,c.nextAfterChildren=null),"string"==typeof f&&(f=this.pipe(f)),f.process(c),e=c,d=f,f=null,c&&c.next&&(c=c.next,f=e.nextPipe||c.pipe||d);return c.hasResult?c.result:void 0},c.Processor=d},{}],90:[function(a,b,c){(function(a){!function(a){"use strict";function d(){function a(a){b=a}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var b=[],c={},d=[];return Object.observe(c,a),Array.observe(d,a),c.id=1,c.id=2,delete c.id,d.push(1,2),d.length=0,Object.deliverChangeRecords(a),5!==b.length?!1:"add"!=b[0].type||"update"!=b[1].type||"delete"!=b[2].type||"splice"!=b[3].type||"splice"!=b[4].type?!1:(Object.unobserve(c,a),Array.unobserve(d,a),!0)}function e(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{var a=new Function("","return true;");return a()}catch(b){return!1}}function f(a){return+a===a>>>0&&""!==a}function g(a){return+a}function h(a){return a===Object(a)}function i(a,b){return a===b?0!==a||1/a===1/b:T(a)&&T(b)?!0:a!==a&&b!==b}function j(a){if(void 0===a)return"eof";var b=a.charCodeAt(0);switch(b){case 91:case 93:case 46:case 34:case 39:case 48:return a;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return b>=97&&122>=b||b>=65&&90>=b?"ident":b>=49&&57>=b?"number":"else"}function k(){}function l(a){function b(){if(!(m>=a.length)){var b=a[m+1];return"inSingleQuote"==n&&"'"==b||"inDoubleQuote"==n&&'"'==b?(m++,d=b,o.append(),!0):void 0}}for(var c,d,e,f,g,h,i,l=[],m=-1,n="beforePath",o={push:function(){void 0!==e&&(l.push(e),e=void 0)},append:function(){void 0===e?e=d:e+=d}};n;)if(m++,c=a[m],"\\"!=c||!b(n)){if(f=j(c),i=Y[n],g=i[f]||i["else"]||"error","error"==g)return;if(n=g[0],h=o[g[1]]||k,d=void 0===g[2]?c:g[2],h(),"afterPath"===n)return l}}function m(a){return X.test(a)}function n(a,b){if(b!==Z)throw Error("Use Path.get to retrieve path objects");for(var c=0;c<a.length;c++)this.push(String(a[c]));S&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function o(a){if(a instanceof n)return a;if(null!=a&&0!=a.length||(a=""),"string"!=typeof a){if(f(a.length))return new n(a,Z);a=String(a)}var b=$[a];if(b)return b;var c=l(a);return c?(b=new n(c,Z),$[a]=b,b):_}function p(a){return f(a)?"["+a+"]":'["'+a.replace(/"/g,'\\"')+'"]'}function q(b){for(var c=0;ba>c&&b.check_();)c++;return Q&&(a.dirtyCheckCycleCount=c),c>0}function r(a){for(var b in a)return!1;return!0}function s(a){return r(a.added)&&r(a.removed)&&r(a.changed)}function t(a,b){var c,d={},e={},f={};for(c in b){var g=a[c];void 0!==g&&g===b[c]||(c in a?g!==b[c]&&(f[c]=g):e[c]=void 0)}for(c in a)c in b||(d[c]=a[c]);return Array.isArray(a)&&a.length!==b.length&&(f.length=a.length),{added:d,removed:e,changed:f}}function u(){if(!ca.length)return!1;for(var a=0;a<ca.length;a++)ca[a]();return ca.length=0,!0}function v(){function a(a){b&&b.state_===ha&&!d&&b.check_(a)}var b,c,d=!1,e=!0;return{open:function(c){if(b)throw Error("ObservedObject in use");e||Object.deliverChangeRecords(a),b=c,e=!1},observe:function(b,d){c=b,d?Array.observe(c,a):Object.observe(c,a)},deliver:function(b){d=b,Object.deliverChangeRecords(a),d=!1},close:function(){b=void 0,Object.unobserve(c,a),ea.push(this)}}}function w(a,b,c){var d=ea.pop()||v();return d.open(a),d.observe(b,c),d}function x(){function a(b,f){b&&(b===d&&(e[f]=!0),h.indexOf(b)<0&&(h.push(b),Object.observe(b,c)),a(Object.getPrototypeOf(b),f))}function b(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.object!==d||e[c.name]||"setPrototype"===c.type)return!1}return!0}function c(c){if(!b(c)){var d,e;for(d=0;d<g.length;d++)e=g[d],e.state_==ha&&e.iterateObjects_(a);for(d=0;d<g.length;d++)e=g[d],e.state_==ha&&e.check_()}}var d,e,f=0,g=[],h=[],i={objects:h,get rootObject(){return d},set rootObject(a){d=a,e={}},open:function(b,c){g.push(b),f++,b.iterateObjects_(a)},close:function(a){if(f--,!(f>0)){for(var b=0;b<h.length;b++)Object.unobserve(h[b],c),z.unobservedCount++;g.length=0,h.length=0,d=void 0,e=void 0,fa.push(this),aa===this&&(aa=null)}}};return i}function y(a,b){return aa&&aa.rootObject===b||(aa=fa.pop()||x(),aa.rootObject=b),aa.open(a,b),aa}function z(){this.state_=ga,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=ka++}function A(a){z._allObserversCount++,ma&&la.push(a)}function B(a){z._allObserversCount--}function C(a){z.call(this),this.value_=a,this.oldObject_=void 0}function D(a){if(!Array.isArray(a))throw Error("Provided object is not an Array");C.call(this,a)}function E(a,b,c){z.call(this),this.object_=a,this.path_=o(b),this.defaultValue_=c,this.directObserver_=void 0}function F(a){z.call(this),this.reportChangesOnOpen_=a,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function G(a){return a}function H(a,b,c,d){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=a,this.getValueFn_=b||G,this.setValueFn_=c||G,this.dontPassThroughSet_=d}function I(a,b,c){for(var d={},e={},f=0;f<b.length;f++){var g=b[f];pa[g.type]?(g.name in c||(c[g.name]=g.oldValue),"update"!=g.type&&("add"!=g.type?g.name in d?(delete d[g.name],delete c[g.name]):e[g.name]=!0:g.name in e?delete e[g.name]:d[g.name]=!0)):(console.error("Unknown changeRecord type: "+g.type),console.error(g))}var h;for(h in d)d[h]=a[h];for(h in e)e[h]=void 0;var i={};for(h in c)if(!(h in d||h in e)){var j=a[h];c[h]!==j&&(i[h]=j)}return{added:d,removed:e,changed:i}}function J(a,b,c){return{index:a,removed:b,addedCount:c}}function K(){}function L(a,b,c,d,e,f){return ua.calcSplices(a,b,c,d,e,f)}function M(a,b,c,d){return c>b||a>d?-1:b==c||d==a?0:c>a?d>b?b-c:d-c:b>d?d-a:b-a}function N(a,b,c,d){for(var e=J(b,c,d),f=!1,g=0,h=0;h<a.length;h++){var i=a[h];if(i.index+=g,!f){var j=M(e.index,e.index+e.removed.length,i.index,i.index+i.addedCount);if(j>=0){a.splice(h,1),h--,g-=i.addedCount-i.removed.length,e.addedCount+=i.addedCount-j;var k=e.removed.length+i.removed.length-j;if(e.addedCount||k){if(c=i.removed,e.index<i.index){var l=e.removed.slice(0,i.index-e.index);Array.prototype.push.apply(l,c),c=l}if(e.index+e.removed.length>i.index+i.addedCount){var m=e.removed.slice(i.index+i.addedCount-e.index);Array.prototype.push.apply(c,m)}e.removed=c,i.index<e.index&&(e.index=i.index)}else f=!0}else if(e.index<i.index){f=!0,a.splice(h,0,e),h++;var n=e.addedCount-e.removed.length;i.index+=n,g+=n}}}f||a.push(e)}function O(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];switch(e.type){case"splice":N(c,e.index,e.removed.slice(),e.addedCount);break;case"add":case"update":case"delete":if(!f(e.name))continue;var h=g(e.name);if(0>h)continue;N(c,h,[e.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(e))}}return c}function P(a,b){var c=[];return O(a,b).forEach(function(b){return 1==b.addedCount&&1==b.removed.length?void(b.removed[0]!==a[b.index]&&c.push(b)):void(c=c.concat(L(a,b.index,b.index+b.addedCount,b.removed,0,b.removed.length)))}),c}var Q=a.testingExposeCycleCount,R=d(),S=e(),T=a.Number.isNaN||function(b){return"number"==typeof b&&a.isNaN(b)},U="__proto__"in{}?function(a){return a}:function(a){var b=a.__proto__;if(!b)return a;var c=Object.create(b);return Object.getOwnPropertyNames(a).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))}),c},V="[$_a-zA-Z]",W="[$_a-zA-Z0-9]",X=new RegExp("^"+V+"+"+W+"*$"),Y={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],"else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],"else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},Z={},$={};n.get=o,n.prototype=U({__proto__:[],valid:!0,toString:function(){for(var a="",b=0;b<this.length;b++){var c=this[b];a+=m(c)?b?"."+c:c:p(c)}return a},getValueFrom:function(a,b){for(var c=0;c<this.length;c++){var d=this[c];if(null==a||!(d in a))return b;a=a[d]}return a},iterateObjects:function(a,b){for(var c=0;c<this.length;c++){if(c&&(a=a[this[c-1]]),!h(a))return;b(a,this[c])}},compiledGetValueFromFn:function(){var a="",b="obj";a+="if (obj != null";for(var c,d=0;d<this.length-1;d++)c=this[d],b+=m(c)?"."+c:p(c),a+=" &&\n    "+b+" != null";c=this[d];var e=m(c),f=e?'"'+c.replace(/"/g,'\\"')+'"':c;return a+=" &&\n    "+f+" in "+b+")\n",b+=e?"."+c:p(c),a+="  return "+b+";\nelse\n  return defaultValue;",new Function("obj","defaultValue",a)},setValueFrom:function(a,b){if(!this.length)return!1;for(var c=0;c<this.length-1;c++){if(!h(a))return!1;a=a[this[c]]}return h(a)?(a[this[c]]=b,!0):!1}});var _=new n("",Z);_.valid=!1,_.getValueFrom=_.setValueFrom=function(){};var aa,ba=1e3,ca=[],da=R?function(){return function(a){return Promise.resolve().then(a)}}():function(){return function(a){ca.push(a)}}(),ea=[],fa=[],ga=0,ha=1,ia=2,ja=3,ka=1;z.prototype={open:function(a,b){if(this.state_!=ga)throw Error("Observer has already been opened.");return A(this),this.callback_=a,this.target_=b,this.connect_(),this.state_=ha,this.value_},close:function(){this.state_==ha&&(B(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=ia)},deliver:function(){this.state_==ha&&q(this)},report_:function(a){try{this.callback_.apply(this.target_,a)}catch(b){z._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(b.stack||b))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var la,ma=!R;z._allObserversCount=0,ma&&(la=[]);var na=!1;a.Platform=a.Platform||{},a.Platform.performMicrotaskCheckpoint=function(){if(!na&&ma){na=!0;var b,c,d=0;do{d++,c=la,la=[],b=!1;for(var e=0;e<c.length;e++){var f=c[e];f.state_==ha&&(f.check_()&&(b=!0),la.push(f))}u()&&(b=!0)}while(ba>d&&b);Q&&(a.dirtyCheckCycleCount=d),na=!1}},ma&&(a.Platform.clearObservers=function(){la=[]}),C.prototype=U({__proto__:z.prototype,arrayObserve:!1,connect_:function(a,b){R?this.directObserver_=w(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(a){var b=Array.isArray(a)?[]:{};for(var c in a)b[c]=a[c];return Array.isArray(a)&&(b.length=a.length),b},check_:function(a,b){var c,d;if(R){if(!a)return!1;d={},c=I(this.value_,a,d)}else d=this.oldObject_,c=t(this.value_,this.oldObject_);return s(c)?!1:(R||(this.oldObject_=this.copyObject(this.value_)),this.report_([c.added||{},c.removed||{},c.changed||{},function(a){return d[a]}]),!0)},disconnect_:function(){R?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==ha&&(R?this.directObserver_.deliver(!1):q(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),D.prototype=U({__proto__:C.prototype,arrayObserve:!0,copyObject:function(a){return a.slice()},check_:function(a){var b;if(R){if(!a)return!1;b=P(this.value_,a)}else b=L(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return b&&b.length?(R||(this.oldObject_=this.copyObject(this.value_)),this.report_([b]),!0):!1}}),D.applySplices=function(a,b,c){c.forEach(function(c){for(var d=[c.index,c.removed.length],e=c.index;e<c.index+c.addedCount;)d.push(b[e]),e++;Array.prototype.splice.apply(a,d)})},E.prototype=U({__proto__:z.prototype,get path(){return this.path_},connect_:function(){R&&(this.directObserver_=y(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(a){this.path_.iterateObjects(this.object_,a)},check_:function(a,b){var c=this.value_;return this.value_=this.path_.getValueFrom(this.object_,this.defaultValue_),b||i(this.value_,c)?!1:(this.report_([this.value_,c,this]),!0)},setValue:function(a){this.path_&&this.path_.setValueFrom(this.object_,a)}});var oa={};F.prototype=U({__proto__:z.prototype,connect_:function(){if(R){for(var a,b=!1,c=0;c<this.observed_.length;c+=2)if(a=this.observed_[c],a!==oa){b=!0;break}b&&(this.directObserver_=y(this,a))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var a=0;a<this.observed_.length;a+=2)this.observed_[a]===oa&&this.observed_[a+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(a,b){if(this.state_!=ga&&this.state_!=ja)throw Error("Cannot add paths once started.");if(b=o(b),this.observed_.push(a,b),this.reportChangesOnOpen_){var c=this.observed_.length/2-1;this.value_[c]=b.getValueFrom(a)}},addObserver:function(a){if(this.state_!=ga&&this.state_!=ja)throw Error("Cannot add observers once started.");if(this.observed_.push(oa,a),this.reportChangesOnOpen_){var b=this.observed_.length/2-1;this.value_[b]=a.open(this.deliver,this)}},startReset:function(){if(this.state_!=ha)throw Error("Can only reset while open");this.state_=ja,this.disconnect_()},finishReset:function(){if(this.state_!=ja)throw Error("Can only finishReset after startReset");return this.state_=ha,this.connect_(),this.value_},iterateObjects_:function(a){for(var b,c=0;c<this.observed_.length;c+=2)b=this.observed_[c],b!==oa&&this.observed_[c+1].iterateObjects(b,a)},check_:function(a,b){for(var c,d=0;d<this.observed_.length;d+=2){var e,f=this.observed_[d],g=this.observed_[d+1];if(f===oa){var h=g;e=this.state_===ga?h.open(this.deliver,this):h.discardChanges()}else e=g.getValueFrom(f);b?this.value_[d/2]=e:i(e,this.value_[d/2])||(c=c||[],c[d/2]=this.value_[d/2],this.value_[d/2]=e)}return c?(this.report_([this.value_,c,this.observed_]),!0):!1}}),H.prototype={open:function(a,b){return this.callback_=a,this.target_=b,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(a){if(a=this.getValueFn_(a),!i(a,this.value_)){var b=this.value_;this.value_=a,this.callback_.call(this.target_,this.value_,b)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(a){return a=this.setValueFn_(a),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(a):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var pa={add:!0,update:!0,"delete":!0},qa=0,ra=1,sa=2,ta=3;K.prototype={calcEditDistances:function(a,b,c,d,e,f){var g,h,i=f-e+1,j=c-b+1,k=new Array(i);for(g=0;i>g;g++)k[g]=new Array(j),k[g][0]=g;for(h=0;j>h;h++)k[0][h]=h;for(g=1;i>g;g++)for(h=1;j>h;h++)if(this.equals(a[b+h-1],d[e+g-1]))k[g][h]=k[g-1][h-1];else{var l=k[g-1][h]+1,m=k[g][h-1]+1;k[g][h]=m>l?l:m}return k},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,d=a[b][c],e=[];b>0||c>0;)if(0!=b)if(0!=c){var f,g=a[b-1][c-1],h=a[b-1][c],i=a[b][c-1];f=i>h?g>h?h:g:g>i?i:g,f==g?(g==d?e.push(qa):(e.push(ra),d=g),b--,c--):f==h?(e.push(ta),b--,d=h):(e.push(sa),c--,d=i)}else e.push(ta),b--;else e.push(sa),c--;return e.reverse(),e},calcSplices:function(a,b,c,d,e,f){var g=0,h=0,i=Math.min(c-b,f-e);if(0==b&&0==e&&(g=this.sharedPrefix(a,d,i)),c==a.length&&f==d.length&&(h=this.sharedSuffix(a,d,i-g)),b+=g,e+=g,c-=h,f-=h,c-b==0&&f-e==0)return[];var j;if(b==c){for(j=J(b,[],0);f>e;)j.removed.push(d[e++]);return[j]}if(e==f)return[J(b,[],c-b)];for(var k=this.spliceOperationsFromEditDistances(this.calcEditDistances(a,b,c,d,e,f)),l=[],m=b,n=e,o=0;o<k.length;o++)switch(k[o]){case qa:j&&(l.push(j),j=void 0),m++,n++;break;case ra:j||(j=J(m,[],0)),j.addedCount++,m++,j.removed.push(d[n]),n++;break;case sa:j||(j=J(m,[],0)),j.addedCount++,m++;break;case ta:j||(j=J(m,[],0)),j.removed.push(d[n]),n++}return j&&l.push(j),l},sharedPrefix:function(a,b,c){for(var d=0;c>d;d++)if(!this.equals(a[d],b[d]))return d;return c},sharedSuffix:function(a,b,c){for(var d=a.length,e=b.length,f=0;c>f&&this.equals(a[--d],b[--e]);)f++;return f},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};var ua=new K,va=a;"undefined"==typeof c||c.nodeType||("undefined"!=typeof b&&b.exports&&(c=b.exports),va=c),va.Observer=z,va.Observer.runEOM_=da,va.Observer.observerSentinel_=oa,va.Observer.hasObjectObserve=R,va.ArrayObserver=D,va.ArrayObserver.calculateSplices=function(a,b){return ua.calculateSplices(a,b)},va.ArraySplice=K,va.ObjectObserver=C,va.PathObserver=E,va.CompoundObserver=F,va.Path=n,va.ObserverTransform=H}("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b?a:this||window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],91:[function(a,b,c){"use strict";b.exports=function(a){return a.trim().replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{}],92:[function(a,b,c){!function(d,e){if("undefined"!=typeof c){var f=a("underscore");"undefined"!=typeof b&&b.exports&&(b.exports=e(f)),c=e(f)}else d._.mixin(e(d._))}(this,function(a){return{catenate:function(){var b=arguments;return function(){var c,d=this,e=arguments;return a.each(b,function(a){a&&(c=a.apply(d,e))}),c}}}})},{underscore:"underscore"}],93:[function(a,b,c){!function(d,e){if("undefined"!=typeof c){var f=a("underscore");"undefined"!=typeof b&&b.exports&&(b.exports=e(f)),c=e(f)}else d._.mixin(e(d._))}(this,function(a){return{deepClone:function(b){var c=a.clone(b);return a.each(c,function(b,d){a.isObject(b)&&(c[d]=a.deepClone(b))}),c}}})},{underscore:"underscore"}],94:[function(a,b,c){!function(d,e){if("undefined"!=typeof c){var f=a("underscore");"undefined"!=typeof b&&b.exports&&(b.exports=e(f)),c=e(f)}else d._.mixin(e(d._))}(this,function(a){var b=function(a){return"["==a.charAt(0)&&"]"==a.charAt(a.length-1)},c=function(a){return"{"==a.charAt(0)&&"}"==a.charAt(a.length-1)};return{parse:function(a){if(""==a)return a;if("true"==a)a=!0;else if("false"==a)a=!1;else if("null"==a)a=null;else if("undefined"==a)a=void 0;else if(isNaN(a)||""==a){if(b(a)||c(a))try{a=JSON.parse(a)}catch(d){}}else a=parseFloat(a);return a}}})},{underscore:"underscore"}],95:[function(a,b,c){!function(d,e){if("undefined"!=typeof c){var f=a("underscore");"undefined"!=typeof b&&b.exports&&(b.exports=e(f)),c=e(f)}else d._.mixin(e(d._))}(this,function(a){return{path:function(b,c){var d=c.split("."),e=b[d.shift()];return a.each(d,function(a){e=e[a]}),e}}})},{underscore:"underscore"}],96:[function(a,b,c){!function(d,e){if("undefined"!=typeof c){var f=a("underscore");f.mixin(a("underscore.path")),"undefined"!=typeof b&&b.exports&&(b.exports=e(f)),c=e(f)}else d._.mixin(e(d._));
}(this,function(a){return{pathExtend:function(b){return a.each([].splice.apply(arguments,[1]),function(c){if(c)for(var d in c){var e=d.split(".");if(1==e.length)b[d]=c[d];else{var f=e.pop();a.path(b,e.join("."))[f]=c[d]}}}),b}}})},{underscore:"underscore","underscore.path":95}],97:[function(a,b,c){!function(d,e){if("undefined"!=typeof c){var f=a("underscore");"undefined"!=typeof b&&b.exports&&(b.exports=e(f)),c=e(f)}else d._.mixin(e(d._))}(this,function(a){return{prefilter:function(a,b){return function(){return b.apply(this,arguments)?a.apply(this,arguments):void 0}}}})},{underscore:"underscore"}],handlebars:[function(a,b,c){b.exports=window.Handlebars},{}],jquery:[function(a,b,c){b.exports=window.jQuery||window.$},{}],underscore:[function(a,b,c){b.exports=window._},{}]},{},[25]);