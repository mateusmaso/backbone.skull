// hipbone
// ------------------
// v2.0.2
//
// Copyright (c) 2012-2017 Mateus Maso
// Distributed under MIT license
//
// http://github.com/mateusmaso/hipbone


require=function t(e,n,i){function r(o,a){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[o]={exports:{}};e[o][0].call(h.exports,function(t){var n=e[o][1][t];return r(n||t)},h,h.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,n){(function(){var n,i,r=[].slice;n=t("backbone"),i=t("underscore"),e.exports={initializeAjax:function(){return this.host||(this.host=""),this.headers||(this.headers={})},ajax:function(t){return null==t&&(t={}),this.ajaxHandle(n.ajax(this.ajaxSettings(t)))},ajaxHandle:function(t){return t.done(function(t){return function(){return t.trigger.apply(t,["ajaxSuccess"].concat(r.call(arguments)))}}(this)),t.fail(function(t){return function(){return t.trigger.apply(t,["ajaxError"].concat(r.call(arguments)))}}(this)),t},ajaxUrl:function(t){return""+this.host+t},ajaxHeaders:function(){var t,e,n,r;e={},n=this.headers;for(t in n)r=n[t],i.isFunction(r)&&(r=r.apply(this)),e[t]=r;return e},ajaxSettings:function(t){return null==t&&(t={}),t.url=this.ajaxUrl(t.url),t.headers=i.extend({},t.headers,this.ajaxHeaders()),"POST"===t.type&&(t.dataType="json",t.contentType="application/json",t.data&&(t.data=JSON.stringify(t.data))),t.beforeSend=i.catenate(function(t,e){return null==e&&(e={}),t.settings=e},t.beforeSend),t}}}).call(this)},{backbone:58,underscore:"underscore"}],2:[function(t,e,n){(function(){var n,i,r,s,o=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("./../module"),r=t("./../router"),s=t("./../storage"),n=t("backbone"),e.exports=function(e){function i(t,e){null==t&&(t={}),null==e&&(e={}),this.initializeAjax(),this.initializeState(t),this.initializeLocale(e.locale),this.initializeInitializers(),this.router=new r({title:this.title}),this.storage=new s(this.prefix),this.runInitializers(e),this.initialize(e)}return o(i,e),i.include(n.Events),i.include(t("./ajax")),i.include(t("./state")),i.include(t("./locale")),i.include(t("./initializers")),i.prototype.initialize=function(t){null==t&&(t={})},i.prototype.run=function(){return this.trigger("run"),this.router.start()},i.register("Application"),i}(i)}).call(this)},{"./../module":35,"./../router":43,"./../storage":47,"./ajax":1,"./initializers":3,"./locale":10,"./state":11,backbone:58}],3:[function(t,e,n){(function(){e.exports={initializeInitializers:function(){return this.initializers||(this.initializers=[]),this.initializers.unshift(t("./parse_body")),this.initializers.unshift(t("./parse_model")),this.initializers.unshift(t("./link_bridge")),this.initializers.unshift(t("./prevent_form")),this.initializers.unshift(t("./prepare_sync")),this.initializers.unshift(t("./register_helpers"))},runInitializers:function(t){var e,n,i,r,s;for(s=[],e=0,i=(r=this.initializers).length;e<i;e++)n=r[e],s.push(n.apply(this,[t]));return s}}}).call(this)},{"./link_bridge":4,"./parse_body":5,"./parse_model":6,"./prepare_sync":7,"./prevent_form":8,"./register_helpers":9}],4:[function(t,e,n){(function(){var n;n=t("jquery"),e.exports=function(){return n("body").on("click","a:not([bypass])",function(t){return function(e){var i;if(!e.ctrlKey&&!e.metaKey&&t.router.history.location.hostname===e.currentTarget.hostname&&!n(e.currentTarget).attr("target")&&(i=n(e.currentTarget).attr("href")))return e.preventDefault(),t.router.navigate(i,{trigger:!0})}}(this))}}).call(this)},{jquery:"jquery"}],5:[function(t,e,n){(function(){var n;n=t("handlebars"),e.exports=function(){return this.on("run",function(){return n.parseHTML(document.body.childNodes)})}}).call(this)},{handlebars:"handlebars"}],6:[function(t,e,n){(function(){var n,i,r;i=t("handlebars"),r=t("./../../model"),n=t("./../../collection"),e.exports=function(){var t;return t=i.parseValue,i.parseValue=function(e,i){var s;return(e=t.apply(this,[e,i]))&&(s=r.identityMap.find(e.cid)||n.identityMap.find(e.cid))&&(e=s),e}}}).call(this)},{"./../../collection":13,"./../../model":27,handlebars:"handlebars"}],7:[function(t,e,n){(function(){var n;n=t("backbone"),e.exports=function(){var t;return t=n.sync,n.sync=function(e){return function(i,r,s){return null==s&&(s={}),s.sync=!0,s.url||(s.url=r.url(s)),s=e.ajaxSettings(s),e.ajaxHandle(t.apply(n,[i,r,s]))}}(this)}}).call(this)},{backbone:58}],8:[function(t,e,n){(function(){var n;n=t("jquery"),e.exports=function(){return n("body").on("submit","form:not([bypass])",function(t){return t.preventDefault()})}}).call(this)},{jquery:"jquery"}],9:[function(require,module,exports){(function(){var Handlebars,View,_,slice=[].slice;_=require("underscore"),Handlebars=require("handlebars"),View=require("./../../view"),module.exports=function(){var eachHelper,ifHelper;return Handlebars.registerHelper("asset",function(t){return function(e,n){return null==n&&(n={}),t.get("assets")[e]}}(this)),Handlebars.registerHelper("t",function(t){return function(e,n){return null==n&&(n={}),t.i18n.t(e,n.hash)}}(this)),Handlebars.registerHelper("url",function(t){return function(e,n){return null==n&&(n={}),t.router.matchUrl(e,n.hash)}}(this)),Handlebars.registerHelper("fmt",function(){var t,e,n,i;return i=arguments[0],t=3<=arguments.length?slice.call(arguments,1,e=arguments.length-1):(e=1,[]),null==arguments[e++]&&{},n=0,i.replace(/%@/g,function(e){return t[n++]})}),Handlebars.registerHelper("eval",function(javascript,options){return null==options&&(options={}),eval(javascript)}),Handlebars.registerHelper("template",function(t,e,n){var i;return null==e&&(e={}),null==n&&(n={}),null!=e.hash&&(n=e,e={}),e=_.extend({},e,n.hash),i=this.view.getTemplate(t)(this.view.getContext(e,this)),n.hash.unescape?i:new Handlebars.SafeString(i)}),eachHelper=Handlebars.helpers.each,Handlebars.registerHelper("each",function(t,e){return null==e&&(e={}),t&&(t=t.models||t),eachHelper.apply(this,[t,e])}),ifHelper=Handlebars.helpers.if,Handlebars.registerHelper("if",function(t,e){var n;return null==e&&(e={}),e.hash.bind&&(null!=(n=_.path(this,t))?n.models:void 0)?t+=".models":t&&(t=t.models||t),ifHelper.apply(this,[t,e])})}}).call(this)},{"./../../view":53,handlebars:"handlebars",underscore:"underscore"}],10:[function(t,e,n){(function(){var n;n=t("./../i18n"),e.exports={initializeLocale:function(t){return null==t&&(t="en"),this.locale||(this.locale=t),this.locales||(this.locales={}),this.i18n=new n(this.locale,this.locales)}}}).call(this)},{"./../i18n":23}],11:[function(t,e,n){(function(){var n;n=t("./../model"),e.exports={initializeState:function(t){return null==t&&(t={}),this.state=new(n.define({defaults:this.defaults,urlRoot:this.urlRoot,parse:this.parse}))(t),this.listenTo(this.state,"all",function(t){return function(){return t.trigger.apply(t,arguments)}}(this))},fetch:function(){return this.state.fetch.apply(this.state,arguments)},parse:function(t){return t},get:function(){return this.state.get.apply(this.state,arguments)},set:function(){return this.state.set.apply(this.state,arguments)}}}).call(this)},{"./../model":27}],12:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={initializeFilters:function(){return this.filters||(this.filters={})},getFilters:function(t){var e,i,r,s;null==t&&(t={}),i={},r=this.filters;for(e in r)s=r[e],n.isFunction(s)&&(s=s.apply(this,[t])),null!=s&&(i[e]=s);return i}}}).call(this)},{underscore:"underscore"}],13:[function(t,e,n){(function(){var n,i,r,s,o,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;n=t("jquery"),o=t("underscore"),i=t("backbone"),r=t("./../model"),s=t("./../module"),e.exports=function(e){function i(t,e){var n;if(null==e&&(e={}),o.isArray(t)||(e=t||{},t=void 0),n=this.initializeStore(t,e))return n;this.cid=o.uniqueId("collection"),this.initializeMeta(e.meta),this.initializeParent(e.parent),this.initializeFilters(),this.initializePopulate(),this.initializePagination(),i.__super__.constructor.apply(this,arguments),this.storeChanges()}return a(i,e),o.extend(i,s),i.include(t("./sync")),i.include(t("./meta")),i.include(t("./store")),i.include(t("./parent")),i.include(t("./filters")),i.include(t("./populate")),i.include(t("./pagination")),i.include(t("./polymorphic")),i.prototype.model=r,i.prototype._prepareModel=function(t,e){var n;return null==e&&(e={}),(n=this.preparePolymorphic(t,e))&&(t=n),i.__super__._prepareModel.call(this,t,e)},i.prototype.modelId=function(t){return o.isArray(this.model)?this.polymorphicUniqueId(t):i.__super__.modelId.apply(this,arguments)},i.prototype.url=function(t){var e;return e=this.parentUrl(t),o.isEmpty(this.getFilters(t))||(e=e+"?"+n.param(this.getFilters(t))),e},i.prototype.toJSON=function(t){var e;return null==t&&(t={}),e=i.__super__.toJSON.apply(this,arguments),t.sync||(e=o.extend({cid:this.cid,length:this.length,meta:this.meta.toJSON(),models:e})),e},i.prototype.parse=function(t){return null==t&&(t={}),this.didSync(),t.meta&&this.meta.set(t.meta),t.models||t},i.register("Collection"),i}(i.Collection)}).call(this)},{"./../model":27,"./../module":35,"./filters":12,"./meta":14,"./pagination":15,"./parent":16,"./polymorphic":17,"./populate":18,"./store":19,"./sync":20,backbone:58,jquery:"jquery",underscore:"underscore"}],14:[function(t,e,n){(function(){var n,i=[].slice;n=t("./../model"),e.exports={countAttribute:"count",initializeMeta:function(t){return null==t&&(t={}),this.meta=new(n.define({defaults:this.defaults,url:this.metaUrl,parse:this.metaParse}))(t),this.listenTo(this.meta,"all",function(t){return function(){var e,n;return n=arguments[0],e=2<=arguments.length?i.call(arguments,1):[],t.trigger.apply(t,["meta:"+n].concat(i.call(e)))}}(this)),this.on("add",this.incrementCounter),this.on("remove",this.decrementCounter)},metaUrl:function(t){return function(){return t.url()}}(this),metaParse:function(t){return t.meta},incrementCounter:function(t,e,n){if(null==n&&(n={}),this.meta.has(this.countAttribute)&&!n.parse)return this.meta.set(this.countAttribute,this.meta.get(this.countAttribute)+1)},decrementCounter:function(t,e,n){if(null==n&&(n={}),this.meta.has(this.countAttribute)&&!n.parse)return this.meta.set(this.countAttribute,this.meta.get(this.countAttribute)-1)}}}).call(this)},{"./../model":27}],15:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={initializePagination:function(){return this.pagination||(this.pagination={}),this.limit=this.pagination.limit||0,this.offset=this.pagination.offset||0,this.filters||(this.filters={}),this.filters.limit=function(t){if(null==t&&(t={}),this.limit>0)return t.paginate?this.limit:this.limit+this.offset},this.filters.offset=function(t){if(null==t&&(t={}),this.limit>0)return t.paginate?this.offset:0}},incrementPagination:function(){return this.offset=this.offset+this.limit},decrementPagination:function(){return this.offset=this.offset-this.limit},paginate:function(t){return null==t&&(t={}),this.incrementPagination(),this.fetch(n.extend({remove:!1,paginate:!0},t))},hasMore:function(){return this.length<(this.meta.get(this.countAttribute)||0)}}}).call(this)},{underscore:"underscore"}],16:[function(t,e,n){(function(){e.exports={initializeParent:function(t){return this.parent=t},setParent:function(t,e){if(null==e&&(e={}),this.parent!==t&&(this.parent=t,!e.silent))return this.trigger("change:parent",this.parent)},parentUrl:function(t){return null==t&&(t={}),this.parent?""+this.parent.url(t)+this.urlRoot:this.urlRoot}}}).call(this)},{}],17:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={preparePolymorphic:function(t,e){var i,r,s,o;if(null==e&&(e={}),!this._isModel(t)&&n.isArray(this.model))for(r=0,s=(o=this.model).length;r<s;r++)if((i=o[r]).prototype.moduleName===this.polymorphicType(t))return new i(t,e)},polymorphicId:function(t){return null==t&&(t={}),t[this.polymorphicIdAttribute(t)]},polymorphicType:function(t){return null==t&&(t={}),t[this.polymorphicTypeAttribute(t)]},polymorphicIdAttribute:function(t){return null==t&&(t={}),"id"},polymorphicTypeAttribute:function(t){return null==t&&(t={}),"type"},polymorphicUniqueId:function(t){return null==t&&(t={}),this.polymorphicId(t)+"-"+this.polymorphicType(t)}}}).call(this)},{underscore:"underscore"}],18:[function(t,e,n){(function(){var n;n=t("jquery"),e.exports={initializePopulate:function(){return this.deferreds={}},populated:function(t){return this.synced},populate:function(t){return this.fetch()},prepare:function(t){var e;return e=this.deferreds[t],e&&"resolved"!==e.state()?e:this.deferreds[t]=n.when(this.populated(t)||this.populate(t))}}}).call(this)},{jquery:"jquery"}],19:[function(t,e,n){(function(){var n,i;i=t("string-dasherize"),n=t("./../identity_map"),e.exports={included:function(){var t;return this.identityMap=(t=this.prototype).identityMap||(t.identityMap=new n)},registered:function(){return this.prototype.hashName=i(this.prototype.moduleName||"").substring(1)},initializeStore:function(t,e){var n,i;return i=this.hashes(t,e),(n=this.identityMap.findAll(i)[0])?(t&&n.set(t,e),e.meta&&n.meta.set(e.meta),e.parent&&n.setParent(e.parent),n):(this.store(i),null)},storeChanges:function(){return this.on("change change:parent meta:change",function(t){return function(){return t.store()}}(this)),this.store()},hashes:function(t,e){var n,i;return null==e&&(e={}),n=[],this.cid&&n.push(this.cid),(null!=(i=e.parent)?i.cid:void 0)&&n.push(this.hashName+"-"+e.parent.cid),n},store:function(t){return t||(t=this.hashes(this.models,{parent:this.parent,meta:this.meta})),this.identityMap.storeAll(t,this)}}}).call(this)},{"./../identity_map":24,"string-dasherize":92}],20:[function(t,e,n){(function(){e.exports={unsync:function(){return delete this.synced,this.trigger("unsync",this)},didSync:function(){return this.synced=Date.now(),this.trigger("synced",name,this)}}}).call(this)},{}],21:[function(t,e,n){(function(){var n,i,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=t("underscore"),n=t("backbone"),i=t("./../module"),e.exports=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),r.extend(n,i),n.include(t("./query")),n.prototype.route=function(t,e){return this.handlers.push({route:t,callback:e})},n.prototype.reload=function(t){return t?this.location.assign(t):this.location.reload()},n.prototype.getPathname=function(){return"/"+this.getPath().replace(this.getSearch(),"")},n.prototype.navigate=function(t,e){return this.popstate=!1,n.__super__.navigate.apply(this,arguments)},n.prototype.checkUrl=function(t){return this.popstate=!0,n.__super__.checkUrl.apply(this,arguments)},n.register("History"),n}(n.History)}).call(this)},{"./../module":35,"./query":22,backbone:58,underscore:"underscore"}],22:[function(t,e,n){(function(){var n,i;n=t("jquery"),i=t("underscore"),e.exports={change:function(t){var e,r;null==t&&(t={});for(r in t)null==t[r]&&delete t[r];return e=this.getPathname(),i.isEmpty(t)||(e+="?"+n.param(t)),this.history.replaceState({},document.title,e)},getQuery:function(){var t,e,n,r,s;for(n={},r=/([^&=]+)=?([^&]*)/g;e=r.exec(this.getSearch().substring(1));)e[0],t=e[1],s=e[2],n[this.decode(t)]=i.parse(this.decode(s));return n},decode:function(t){return decodeURIComponent(t.replace(/\+/g," "))}}}).call(this)},{jquery:"jquery",underscore:"underscore"}],23:[function(t,e,n){(function(){var n,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("underscore"),n=t("./../module"),e.exports=function(t){function e(t,e,n){null==e&&(e={}),this.locale=t,this.locales=e,this.splitter=n||/{{\w+}}/g}return r(e,t),e.prototype.interpolate=function(t,e){var n,i,r,s,o;for(null==e&&(e={}),n=0,i=(s=t.match(this.splitter)||[]).length;n<i;n++)o=e[(r=s[n]).replace(/\W/g,"")],t=t.replace(r,o);return t},e.prototype.pluralize=function(t,e){return t+=0===e?".zero":1===e?".one":".other",i.path(this.locales[this.locale],t)},e.prototype.inflector=function(t,e){return t+="m"===e?".male":"f"===e?".female":".neutral",i.path(this.locales[this.locale],t)},e.prototype.translate=function(t,e){var n;return null==e&&(e={}),n=i.has(e,"count")?this.pluralize(t,e.count):i.has(e,"gender")?this.inflector(t,e.gender):i.path(this.locales[this.locale],t),this.interpolate(n,e)},e.prototype.t=e.prototype.translate,e.register("I18n"),e}(n)}).call(this)},{"./../module":35,underscore:"underscore"}],24:[function(t,e,n){(function(){var n,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("underscore"),n=t("./../module"),e.exports=function(t){function e(){this.instances={}}return r(e,t),e.prototype.match=function(t){var e,n,i,r;i={},r=this.instances;for(n in r)e=r[n],t.test(n)&&(i[n]=e);return i},e.prototype.find=function(t){var e;return(e=this.instances[t])&&this.store(t,e),e},e.prototype.findAll=function(t){var e,n,i,r,s;for(s=[],e=0,i=t.length;e<i;e++)n=t[e],(r=this.find(n))&&s.push(r);return s},e.prototype.store=function(t,e,n){return null==n&&(n={}),this.instances[t]=e},e.prototype.storeAll=function(t,e){var n,i,r,s;for(s=[],n=0,r=t.length;n<r;n++)i=t[n],s.push(this.store(i,e));return s},e.prototype.delete=function(t){return delete this.instances[t]},e.prototype.deleteAll=function(t){var e,n,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.delete(n));return r},e.prototype.clear=function(){return this.deleteAll(i.keys(this.instances))},e.register("IdentityMap"),e}(n)}).call(this)},{"./../module":35,underscore:"underscore"}],25:[function(t,e,n){(function(){t("jquery.lifecycle"),t("handlebars.binding"),_.mixin(t("underscore.path")),_.mixin(t("underscore.pathextend")),_.mixin(t("underscore.parse")),_.mixin(t("underscore.prefilter")),_.mixin(t("underscore.catenate")),_.mixin(t("underscore.deepclone")),window.Hipbone={VERSION:"2.0.1",I18n:t("./i18n"),View:t("./view"),Model:t("./model"),Route:t("./route"),Module:t("./module"),Router:t("./router"),History:t("./history"),Storage:t("./storage"),Collection:t("./collection"),Application:t("./application"),IdentityMap:t("./identity_map")}}).call(this)},{"./application":2,"./collection":13,"./history":21,"./i18n":23,"./identity_map":24,"./model":27,"./module":35,"./route":38,"./router":43,"./storage":47,"./view":53,"handlebars.binding":66,"jquery.lifecycle":73,"underscore.catenate":93,"underscore.deepclone":94,"underscore.parse":95,"underscore.path":96,"underscore.pathextend":97,"underscore.prefilter":98}],26:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={initializeComputedAttributes:function(){return this.computedAttributes||(this.computedAttributes={})},getComputedAttribute:function(t){var e;if(e=this.computedAttributes[t],n.isFunction(e)||(e=this[e]),e)return e.apply(this)},setComputedAttribute:function(t,e){var i;if(i=this.computedAttributes[t],n.isFunction(i)||(i=this[i]),i)return i.apply(this,[e])},toJSONComputedAttributes:function(t){var e,n,i,r;for(null==t&&(t=[]),i={},n=0,r=t.length;n<r;n++)i[e=t[n]]=this.getComputedAttribute(e);return i}}}).call(this)},{underscore:"underscore"}],27:[function(t,e,n){(function(){var n,i,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=t("underscore"),n=t("backbone"),i=t("./../module"),e.exports=function(e){function n(t,e){var i;if(null==t&&(t={}),null==e&&(e={}),i=this.initializeStore(t,e))return i;this.initializeSyncs(),this.initializeSchemes(),this.initializePopulate(),this.initializeMappings(),this.initializeValidations(),this.initializeComputedAttributes(),n.__super__.constructor.apply(this,arguments),this.storeChanges()}return s(n,e),r.extend(n,i),n.include(t("./syncs")),n.include(t("./store")),n.include(t("./schemes")),n.include(t("./mappings")),n.include(t("./populate")),n.include(t("./validations")),n.include(t("./nested_attributes")),n.include(t("./computed_attributes")),n.prototype.cidPrefix="model",n.prototype.get=function(t){return this.mappings[t]?this.getMapping(t):this.computedAttributes[t]?this.getComputedAttribute(t):this.getNestedAttribute(t)},n.prototype.set=function(t,e,i){var s;return null==i&&(i={}),r.isObject(t)?(s=t,i=e||{}):(s={})[t]=e,this.setMappings(s,i),this.setNestedAttributes(s,i),n.__super__.set.call(this,s,i),this.triggerNestedChange(i),this},n.prototype.toJSON=function(t){var e,i,s,o;null==t&&(t={}),o=t.mappings||{};for(s in o)o[s].sync=t.sync;return e=t.computedAttributes||r.keys(this.computedAttributes),i=r.deepClone(n.__super__.toJSON.apply(this,arguments)),t.sync||(i=r.extend({cid:this.cid},i,this.toJSONComputedAttributes(e),this.toJSONMappings(o))),i},n.prototype.parse=function(t){var e,n,i,r;for(null==t&&(t={}),this.didSync(),e=0,n=(i=this.validateSchemes(t)).length;e<n;e++)r=i[e],this.didSync(r);return t},n.register("Model"),n}(n.Model)}).call(this)},{"./../module":35,"./computed_attributes":26,"./mappings":28,"./nested_attributes":29,"./populate":30,"./schemes":31,"./store":32,"./syncs":33,"./validations":34,backbone:58,underscore:"underscore"}],28:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={initializeMappings:function(){return this.transients={},this.mappings||(this.mappings={})},mappingIdAttribute:function(t){return t+"_"+this.parseMappingIdAttribute(t)},mappingTypeAttribute:function(t){return t+"_"+this.parseMappingTypeAttribute(t)},mappingId:function(t,e){return null==e&&(e={}),e[this.mappingIdAttribute(t)]},mappingType:function(t,e){return null==e&&(e={}),e[this.mappingTypeAttribute(t)]},parseMappingIdAttribute:function(t){return"id"},parseMappingTypeAttribute:function(t){return"type"},parseMappingId:function(t,e){return null==e&&(e={}),e[this.parseMappingIdAttribute(t)]},parseMappingType:function(t,e){return null==e&&(e={}),e[this.parseMappingTypeAttribute(t)]},getMapping:function(e){var i,r,s,o,a,u,l,h,c;if(s=this.mappings[e].apply(this),n.isArray(s))for(u=0,h=(r=s).length;u<h;u++)(i=r[u]).prototype.moduleName===this.mappingType(e,this.attributes)&&(s=i);return s.prototype instanceof t("./../model")?(o={},(l=this.mappingId(e,this.attributes))&&(o[this.parseMappingIdAttribute(e)]=l),n.isEmpty(o)||(c=new s(o))):s.prototype instanceof t("./../collection")&&(a=new s({parent:this})),c||a||this.transients[e]},setMapping:function(e,i,r){var s,o,a,u,l,h,c,f,p,d;if(null==r&&(r={}),a=this.mappings[e].apply(this),d=n.isArray(a)&&i)for(l=0,h=(o=a).length;l<h;l++)(s=o[l]).prototype.moduleName===this.parseMappingType(e,i)&&(a=s);return i instanceof t("./../model")?f=i:i instanceof t("./../collection")&&(u=i).setParent(this),f||u||(a.prototype instanceof t("./../model")&&i?(delete i[this.parseMappingTypeAttribute(e)],f=new a(i,r)):a.prototype instanceof t("./../collection")&&(n.isArray(i)?p=i:n.isObject(i)&&(c=i.meta,p=i.models),u=new a(p,n.extend(r,{parent:this,meta:c})))),f?(this.set(this.mappingIdAttribute(e),this.parseMappingId(e,f.attributes)),d&&this.set(this.mappingTypeAttribute(e),f.moduleName),f.isNew()&&(this.transients[e]=f)):u?this.transients[e]=u:(delete this.transients[e],this.unset(this.mappingIdAttribute(e)),this.unset(this.mappingTypeAttribute(e))),f||u},setMappings:function(t){var e,i,r,s;null==t&&(t={}),i=n.pick(t,n.keys(this.mappings)),r=[];for(e in i)s=i[e],this.setMapping(e,s,{parse:!0}),r.push(delete t[e]);return r},toJSONMappings:function(t){var e,n,i,r;null==t&&(t={}),e={};for(n in t)i=t[n],e[n]=null!=(r=this.getMapping(n))?r.toJSON(i):void 0;return e}}}).call(this)},{"./../collection":13,"./../model":27,underscore:"underscore"}],29:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={getNestedAttribute:function(t){return n.path(this.attributes,t)},setNestedAttribute:function(t,e,i){var r,s,o,a,u,l,h;if(null==i&&(i={}),a=t.split("."),!n.isEqual(this.get(t),e)&&(o={},o[t]=e,u=this.get(t),this.attributes=n.pathExtend(this.attributes,o),!i.silent)){for(h=[],r=0,s=(l=n.clone(a).reverse()).length;r<s;r++)l[r],t=a.join("."),a.pop(),this.nestedChanged[t]=e,h.push(this.trigger("change:"+t,this,u,i));return h}},setNestedAttributes:function(t,e){var n,i,r;null==t&&(t={}),null==e&&(e={}),this.nestedChanged={},i=[];for(n in t)r=t[n],n.split(".").length>1&&(this.setNestedAttribute(n,r,e),i.push(delete t[n]));return i},triggerNestedChange:function(t){if(0===n.keys(this.changed).length&&0!==n.keys(this.nestedChanged).length)return this.trigger("change",this,t)}}}).call(this)},{underscore:"underscore"}],30:[function(t,e,n){(function(){var n;n=t("jquery"),e.exports={initializePopulate:function(){return this.deferreds={}},populated:function(t){return t?this.syncs[t]:this.synced},populate:function(t){return this.fetch()},prepare:function(t){var e;return e=this.deferreds[t],e&&"resolved"!==!e.state()?e:this.deferreds[t]=n.when(this.populated(t)||this.populate(t))}}}).call(this)},{jquery:"jquery"}],31:[function(t,e,n){(function(){e.exports={initializeSchemes:function(){return this.schemes||(this.schemes={})},validateSchemes:function(t){var e,n,i;null==t&&(t={}),i=[],n=this.schemes;for(e in n)n[e].apply(this,[t])&&i.push(e);return i}}}).call(this)},{}],32:[function(t,e,n){(function(){var n,i;i=t("string-dasherize"),n=t("./../identity_map"),e.exports={included:function(){var t;return this.identityMap=(t=this.prototype).identityMap||(t.identityMap=new n)},registered:function(){return this.prototype.hashName=i(this.prototype.moduleName||"").substring(1)},initializeStore:function(t,e){var n,i;return null==t&&(t={}),null==e&&(e={}),n=this.hashes(t),(i=this.identityMap.findAll(n)[0])?(i.set(t,e),i):(this.store(n),null)},storeChanges:function(){return this.on("change",function(t){return function(){return t.store()}}(this)),this.store()},hashes:function(t){var e;return e=[],this.cid&&e.push(this.cid),t[this.idAttribute]&&e.push(this.hashName+"-"+t[this.idAttribute]),e},store:function(t){return t||(t=this.hashes(this.attributes)),this.identityMap.storeAll(t,this)}}}).call(this)},{"./../identity_map":24,"string-dasherize":92}],33:[function(t,e,n){(function(){e.exports={initializeSyncs:function(){return this.syncs||(this.syncs={})},unsync:function(t){return t?(delete this.syncs[t],this.trigger("unsync:"+t,this)):(delete this.synced,this.trigger("unsync",this))},didSync:function(t){return t?(this.syncs[t]=this.synced,this.trigger("synced:"+t,this)):(this.synced=Date.now(),this.trigger("synced",t,this))}}}).call(this)},{}],34:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={initializeValidations:function(){return this.errors=[],this.validations||(this.validations={})},hasErrors:function(t){return null==t&&(t=[]),n.isEmpty(t)?this.errors.length>0:n.intersection(this.errors,t).length>0},validate:function(t){var e,n,i;null==t&&(t={}),this.errors=[];for(e in t)i=t[e],(n=this.validations[e])&&!n.apply(this,[i,t])&&this.errors.push(e);if(this.hasErrors())return this.errors}}}).call(this)},{underscore:"underscore"}],35:[function(t,e,n){(function(){var n,i,r,s,o,a=[].slice,u=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};i=t("underscore"),n=t("backbone"),o={},r=["included","extended"],s=function(t){var e,n;if(n=t.__super__.constructor,e=i.uniqueId("module"),o[e]=t,t.cid=e,t.subclasses=[],t.includedModules=i.clone(n.includedModules||[]),t.extendedModules=i.clone(n.extendedModules||[]),n.subclasses)return n.subclasses.push(t)},e.exports=function(){function t(){}return t.prototype.moduleName="Module",t.register=function(t){var e,n,i,r,a,u,l,h;for(o[this.cid]!==this&&s(this),this.prototype.moduleName=t,e=0,i=(u=this.includedModules).length;e<i;e++)(a=u[e]).registered&&a.registered.apply(this);for(h=[],n=0,r=(l=this.extendedModules).length;n<r;n++)(a=l[n]).registered&&h.push(a.registered.apply(this));return h},t.include=function(){var t,e,n,i,l,h,c;for(l=1<=arguments.length?a.call(arguments,0):[],o[this.cid]!==this&&s(this),c=[],t=0,e=l.length;t<e;t++){i=l[t],this.includedModules.push(i);for(h in i)n=i[h],u.call(r,h)<0&&(this.prototype[h]=n);i.included&&i.included.apply(this),i.registered?c.push(i.registered.apply(this)):c.push(void 0)}return c},t.extend=function(){var t,e,n,i,l,h,c;for(l=1<=arguments.length?a.call(arguments,0):[],o[this.cid]!==this&&s(this),c=[],t=0,e=l.length;t<e;t++){i=l[t],this.extendedModules.push(i);for(h in i)n=i[h],u.call(r,h)<0&&(this[h]=n);i.extended&&i.extended.apply(this),i.registered?c.push(i.registered.apply(this)):c.push(void 0)}return c},t.define=n.Model.extend,t}()}).call(this)},{backbone:58,underscore:"underscore"}],36:[function(t,e,n){(function(){e.exports={active:function(){},beforeActivate:function(){return!0},activate:function(){if(!1!==this.beforeActivate())return this.prepare().done(function(t){return function(){return t.active(),t.trigger("active"),t.renderTitle(),t.renderElement()}}(this))}}}).call(this)},{}],37:[function(t,e,n){(function(){var n,i;n=t("jquery"),i=void 0,e.exports={initializeElement:function(t){return this.elementRoot||(this.elementRoot=t||document.body)},element:function(){},renderElement:function(){if(this._element||(this._element=this.element()),i!==this._element)return n(i).detach(),this.elementRoot.hipboneView?this.elementRoot.hipboneView.setContent(this._element):n(this.elementRoot).append(this._element),i=this._element}}}).call(this)},{jquery:"jquery"}],38:[function(t,e,n){(function(){var n,i,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=t("underscore"),n=t("backbone"),i=t("./../module"),e.exports=function(e){function i(t,e){var n;if(null==t&&(t={}),null==e&&(e={}),n=this.initializeStore(t,e))return n;this.cid=r.uniqueId("route"),this.initializeTitle(e.titleRoot),this.initializeElement(e.elementRoot),this.initializePopulate(),this.initializeParameters(t),this.initialize(t),this.storeChanges()}return s(i,e),i.include(n.Events),i.include(t("./store")),i.include(t("./title")),i.include(t("./element")),i.include(t("./populate")),i.include(t("./activate")),i.include(t("./parameters")),i.prototype.initialize=function(t){null==t&&(t={})},i.register("Route"),i}(i)}).call(this)},{"./../module":35,"./activate":36,"./element":37,"./parameters":39,"./populate":40,"./store":41,"./title":42,backbone:58,underscore:"underscore"}],39:[function(t,e,n){(function(){var n,i;i=t("underscore"),n=t("./../model/index"),e.exports={initializeParameters:function(t){return null==t&&(t={}),this.parse=i.bind(this.parse,this),this.params=this.parameters=new(n.define({defaults:this.defaults,parse:this.parse}))(t,{parse:!0}),this.listenTo(this.params,"all",function(t){return function(){return t.trigger.apply(t,arguments)}}(this))},get:function(){return this.params.get.apply(this.params,arguments)},set:function(){return this.params.set.apply(this.params,arguments)},parse:function(t){return null==t&&(t={}),t}}}).call(this)},{"./../model/index":27,underscore:"underscore"}],40:[function(t,e,n){(function(){var n;n=t("jquery"),e.exports={initializePopulate:function(){return this.deferreds={}},populated:function(t){return!1},populate:function(t){return n.when(!0)},prepare:function(t){var e;return e=this.deferreds[t],e&&"resolved"!==e.state()?e:this.deferreds[t]=n.when(this.populated(t)||this.populate(t))}}}).call(this)},{jquery:"jquery"}],41:[function(t,e,n){(function(){var n,i,r;i=t("underscore"),r=t("string-dasherize"),n=t("./../identity_map"),e.exports={included:function(){var t;return this.identityMap=(t=this.prototype).identityMap||(t.identityMap=new n)},registered:function(){return this.prototype.hashName=r(this.prototype.moduleName||"").substring(1)},initializeStore:function(t,e){var n,r;return null==t&&(t={}),null==e&&(e={}),n=this.hashes(t,e),this.identityMap.find(e.pathname)&&!e.popstate&&(n=i.without(n,e.pathname)),(r=this.identityMap.findAll(n)[0])?(r.set(r.parse(t)),r):(this.store(n),null)},storeChanges:function(){return this.on("change",function(t){return function(){return t.store()}}(this)),this.store()},hashes:function(t,e){var n;return null==t&&(t={}),null==e&&(e={}),n=[],this.cid&&n.push(this.cid),n.push(e.pathname),n},store:function(t){return t||(t=this.hashes(this.params.attributes)),this.identityMap.storeAll(t,this)}}}).call(this)},{"./../identity_map":24,"string-dasherize":92,underscore:"underscore"}],42:[function(t,e,n){(function(){e.exports={initializeTitle:function(t){return null==t&&(t=""),this.titleRoot||(this.titleRoot=t)},subtitle:function(){return""},title:function(){var t;return t=this.subtitle(),""===t.trim()?this.titleRoot:t+" - "+this.titleRoot},renderTitle:function(){return document.title=this.title()}}}).call(this)},{}],43:[function(t,e,n){(function(){var n,i,r,s,o=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;s=t("underscore"),n=t("backbone"),r=t("./../module"),i=t("./../history"),e.exports=function(e){function a(t){null==t&&(t={}),this.initializeParams(),this.initializeMatches(),a.__super__.constructor.apply(this,arguments)}return o(a,e),s.extend(a,r),a.include(t("./url")),a.include(t("./params")),a.include(t("./matches")),a.prototype.history=n.history=new i,a.prototype.execute=function(t,e,n){return this.updateParams(this.matchUrlParams(n,e)),a.__super__.execute.apply(this,arguments)},a.prototype.navigate=function(t,e){return null==e&&(e={}),t=this.matchUrl(t,e.params)||this.url(t,e.params),e.reload?this.history.reload(t):e.load?this.history.loadUrl(t):a.__super__.navigate.call(this,t,e)},a.prototype.restart=function(){return this.history.stop(),this.history.start({pushState:!0}),this.trigger("restart")},a.prototype.start=function(){if(!n.History.started)return this.history.start({pushState:!0}),this.trigger("start")},a.register("Router"),a}(n.Router)}).call(this)},{"./../history":21,"./../module":35,"./matches":44,"./params":45,"./url":46,backbone:58,underscore:"underscore"}],44:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={initializeMatches:function(){return this.matches||(this.matches={})},match:function(t,e){return null==e&&(e={}),this.matches[e.name]=e,this.route(t,e.name,function(){var t;return t=e.route,this._route=new t(this.params,{pathname:this.history.getPathname(),popstate:this.history.popstate}),this._route.activate()})},matchUrl:function(t,e){var i;if(null==e&&(e={}),this.matches[t])return i=this.matchFragment(t,e),this.url(i,n.omit(e,this.matchUrlParamKeys(t)))},matchUrlParams:function(t,e){var i,r,s,o,a,u;for(a={},r=i=0,s=(u=this.matchUrlParamKeys(t)).length;i<s;r=++i)o=u[r],e[r]&&(a[o]=n.parse(e[r]));return a},matchUrlParamKeys:function(t){var e,n,i,r,s;for(s=[],e=0,n=(r=this.matches[t].url.match(/:\w+/g)||[]).length;e<n;e++)i=r[e],s.push(i.substring(1));return s},matchFragment:function(t,e){var n,i,r,s,o;for(null==e&&(e={}),o=this.matches[t].url,n=0,i=(s=this.matchUrlParamKeys(t)).length;n<i;n++)r=s[n],o=o.replace(":"+r,e[r]);return o}}}).call(this)},{underscore:"underscore"}],45:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={initializeParams:function(){return this.params||(this.params={})},updateParams:function(t){return null==t&&(t={}),this.params=n.extend(this.history.getQuery(),t)}}}).call(this)},{underscore:"underscore"}],46:[function(t,e,n){(function(){var n;n=t("jquery"),e.exports={url:function(t,e){var i;return null==e&&(e={}),i=n("<a>").attr("href",t).get(0),e&&(""===i.search.trim()?i.search+=n.param(e):i.search+="&"+n.param(e)),t=i.pathname+i.search}}}).call(this)},{jquery:"jquery"}],47:[function(t,e,n){(function(){var n,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("underscore"),n=t("./../module"),e.exports=function(t){function e(t){null==t&&(t="hipbone_"),this.prefix=t}return r(e,t),e.prototype.match=function(t){var e,n,r;n={};for(e in localStorage)r=localStorage[e],t.test(e)&&e.indexOf(this.prefix)>=0&&(n[e.replace(this.prefix,"")]=i.parse(r).data);return n},e.prototype.get=function(t){var e;if(e=localStorage[""+this.prefix+t])return i.parse(e).data},e.prototype.set=function(t,e){return localStorage.setItem(""+this.prefix+t,JSON.stringify({data:e,timestamp:i.now()}))},e.prototype.unset=function(t){return localStorage.removeItem(""+this.prefix+t)},e.prototype.clear=function(){var t,e,n,i;n=new RegExp(this.prefix),e=this.match(n),i=[];for(t in e)e[t],i.push(this.unset(t));return i},e.register("Storage"),e}(n)}).call(this)},{"./../module":35,underscore:"underscore"}],48:[function(t,e,n){(function(){var t=[].slice;e.exports={bubble:function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],this.trigger.apply(this,arguments),this.$el.trigger(n,e)}}}).call(this)},{}],49:[function(t,e,n){(function(){var n;n=t("underscore"),e.exports={initializeClassNameBindings:function(){return this.classNameBindings||(this.classNameBindings={})},updateClassNameBindings:function(){var t,e,i,r,s,o;this._classNameBindings||(this._classNameBindings={}),r=this.classNameBindings,s=[];for(e in r)t=r[e],i=this._classNameBindings[e],o=this._classNameBindings[e]=t.apply(this),n.isBoolean(o)?o?s.push(this.$el.addClass(e)):s.push(this.$el.removeClass(e)):o!==i?(this.$el.removeClass(i),s.push(this.$el.addClass(o))):s.push(void 0);return s}}}).call(this)},{underscore:"underscore"}],50:[function(t,e,n){(function(){var n;n=t("jquery"),e.exports={initializeContent:function(t){return this.content=t,this.container||(this.container=void 0)},setContent:function(t){if(this.content!==t)return n(this.content).detach(),this.content=t,this.renderContent()},renderContent:function(){if(this.content)return this.container?this.$(this.container).append(this.content):this.$el.append(this.content)}}}).call(this)},{jquery:"jquery"}],51:[function(t,e,n){(function(){var n,i,r,s,o,a;s=t("underscore"),i=t("handlebars"),a=t("jsondiffpatch"),r=t("./../model"),n=t("./../collection"),o=a.create({objectHash:function(t){return(null!=t?t.cid:void 0)||t}}),e.exports={initializeContext:function(){return this._context={}},context:function(){return{}},getContext:function(t,e){return null==t&&(t={}),e||(e=this._context),t=s.isEmpty(t)?e:t,t.view=this,t},presentContext:function(t){var e,i,o;null==t&&(t={}),t.view=this,i=t=s.defaults(t,this.properties.attributes);for(e in i)((o=i[e])instanceof r||o instanceof n)&&(t[e]=o.toJSON());return t},mergeContext:function(t){return null==t&&(t={}),o.patch(this._context,o.diff(this._context,t))},updateContextBindings:function(){return this.mergeContext(this.presentContext(this.context())),i.update()}}}).call(this)},{"./../collection":13,"./../model":27,handlebars:"handlebars",jsondiffpatch:88,underscore:"underscore"}],52:[function(t,e,n){(function(){var n,i,r,s,o;n=t("jquery"),r=t("underscore"),i=t("handlebars"),s=t("string-dasherize"),o=function(t,e){var n,i,s;null==t&&(t={}),null==e&&(e=[]),n=[];for(i in t)s=t[i],r.isBoolean(s)&&!r.contains(e,i)&&n.push(i);return n},e.exports={registered:function(){var t;return this.prototype.elementName=s(this.prototype.moduleName||"").substring(1).replace("-view",""),this.prototype.booleans=o(this.prototype.defaults,this.prototype.internals),t=this,i.registerElement(this.prototype.elementName,function(e){return new t(e,{content:n(this).contents()}).el},{booleans:this.prototype.booleans})},initializeElements:function(){return this.elementName||(this.elementName=""),this.elements||(this.elements={}),this.booleans||(this.booleans=[])},getSelector:function(t){return this.elements[t]||t},defineElement:function(){return this.el.hipboneView=this,this.el},$view:function(t){if(this.$(t)[0])return this.$(t)[0].hipboneView}}}).call(this)},{handlebars:"handlebars",jquery:"jquery","string-dasherize":92,underscore:"underscore"}],53:[function(t,e,n){(function(){var n,i,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=t("underscore"),n=t("backbone"),i=t("./../module"),e.exports=function(e){function o(t,e){null==t&&(t={}),null==e&&(e={}),this.initializeContext(),this.initializeContent(e.content),this.initializePopulate(),this.initializeTemplate(),this.initializeElements(),this.initializeProperties(t),this.initializeClassNameBindings(),o.__super__.constructor.call(this,e),this.lifecycle(),this.prepare(),this.render(),this.on("change",this.update)}return s(o,e),r.extend(o,i),o.include(n.Events),o.include(t("./bubble")),o.include(t("./content")),o.include(t("./context")),o.include(t("./populate")),o.include(t("./elements")),o.include(t("./template")),o.include(t("./lifecycle")),o.include(t("./properties")),o.include(t("./class_name_bindings")),o.prototype.destroy=function(){},o.prototype._setElement=function(){return this.defineElement(o.__super__._setElement.apply(this,arguments))},o.prototype._setAttributes=function(t){return null==t&&(t={}),o.__super__._setAttributes.call(this,this.mergeAttributes(t))},o.prototype.$=function(t){return o.__super__.$.call(this,this.getSelector(t))},o.prototype.update=function(){return this.updateContextBindings(),this.updateClassNameBindings()},o.prototype.render=function(){return this.update(),this.renderTemplate(),this.renderContent()},o.prototype.delegate=function(t,e,n){return o.__super__.delegate.call(this,t,this.getSelector(e),n)},o.prototype.remove=function(){return this.destroy(),o.__super__.remove.apply(this,arguments)},o.register("View"),o}(n.View)}).call(this)},{"./../module":35,"./bubble":48,"./class_name_bindings":49,"./content":50,"./context":51,"./elements":52,"./lifecycle":54,"./populate":55,"./properties":56,"./template":57,backbone:58,underscore:"underscore"}],54:[function(t,e,n){(function(){var n,i,r;i=t("underscore"),n=t("handlebars"),r=t("camelize"),e.exports={insert:function(){},detach:function(){},change:function(t,e){},lifecycle:function(){return this.$el.lifecycle({insert:function(t){return function(){return t.insert(),t.trigger("insert")}}(this),remove:function(t){return function(){return t.detach(),t.trigger("detach")}}(this),change:function(t){return function(e,s){var o;if(t.change(e,s),o=r(e),!i.contains(t.internals,o))return t.set(o,n.parseValue(s,i.contains(t.booleans,o)))}}(this)})}}}).call(this)},{camelize:59,handlebars:"handlebars",underscore:"underscore"}],55:[function(t,e,n){(function(){var n;n=t("jquery"),e.exports={initializePopulate:function(){return this.deferreds={},this.background||(this.background=!1),this.defaults||(this.defaults={}),this.defaults.loading=!1,this.internals||(this.internals=[]),this.internals.push("loading")},populated:function(t){return!1},populate:function(t){return n.when(!0)},prepare:function(t){var e,i;return e=this.deferreds[t],e&&"resolved"!==e.state()?e:((i=this.populated(t))||this.set({loading:!0}),this.background&&(i=!1),this.deferreds[t]=n.when(i||this.populate(t)).done(function(t){return function(){return t.set({loading:!1})}}(this)))}}}).call(this)},{jquery:"jquery"}],56:[function(t,e,n){(function(){var n,i,r;i=t("underscore"),r=t("string-dasherize"),n=t("./../model"),e.exports={initializeProperties:function(t){return null==t&&(t={}),this.internals||(this.internals=[]),this.props=this.properties=new(n.define({defaults:this.defaults}))(i.omit(t,this.internals)),this.listenTo(this.props,"all",function(t){return function(){return t.trigger.apply(t,arguments)}}(this))},get:function(){return this.props.get.apply(this.props,arguments)},set:function(){return this.props.set.apply(this.props,arguments)},mergeAttributes:function(t){var e,n,s;null==t&&(t={}),n=this.properties.attributes;for(e in n)s=n[e],i.contains(this.internals,e)||("class"===(e=r(e||""))?t[e]=(t[e]+" "+s).trim():i.contains(this.booleans,e)?s&&(t[e]=""):i.isObject(s)||(t[e]=s));return t}}}).call(this)},{"./../model":27,"string-dasherize":92,underscore:"underscore"}],57:[function(t,e,n){(function(){var n,i;n=t("jquery"),i=t("handlebars"),e.exports={initializeTemplate:function(){return this.templates||(this.templates={}),this.templatePath||(this.templatePath=""),this.templateName||(this.templateName="")},template:function(t,e){return n(i.parseHTML(this.getTemplate(t)(this.getContext(e))))},getTemplate:function(t){return this.templates[""+this.templatePath+t]},renderTemplate:function(){if(i.unbind(this.el),this.templateName)return this.$el.html(this.template(this.templateName))}}}).call(this)},{handlebars:"handlebars",jquery:"jquery"}],58:[function(t,e,n){(function(e){!function(i){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,n){r.Backbone=i(r,n,t,e)});else if(void 0!==n){var s,o=t("underscore");try{s=t("jquery")}catch(t){}i(r,n,o,s)}else r.Backbone=i(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(t,e,n,i){var r=t.Backbone,s=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],u(t,this),r)};case 4:return function(t,r,s){return n[e](this[i],u(t,this),r,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},a=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=o(e,r,i))})},u=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},h=e.Events={},c=/\s+/,f=function(t,e,i,r,s){var o,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in s&&void 0===s.context&&(s.context=r);for(o=n.keys(i);a<o.length;a++)e=f(t,e,o[a],i[o[a]],s)}else if(i&&c.test(i))for(o=i.split(c);a<o.length;a++)e=t(e,o[a],r,s);else e=t(e,i,r,s);return e};h.on=function(t,e,n){return p(this,t,e,n)};var p=function(t,e,n,i,r){return t._events=f(d,t._events||{},e,n,{context:i,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};h.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[r];if(!o){var a=this._listenId||(this._listenId=n.uniqueId("l"));o=s[r]={obj:t,objId:r,id:a,listeningTo:s,count:0}}return p(t,e,i,this,o),this};var d=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),s=i.context,o=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:s,ctx:s||o,listening:a})}return t};h.off=function(t,e,n){return this._events?(this._events=f(v,this._events,t,e,{context:n,listeners:this._listeners}),this):this},h.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var s=t?[t._listenId]:n.keys(r),o=0;o<s.length;o++){var a=r[s[o]];if(!a)break;a.obj.off(e,i,this)}return this};var v=function(t,e,i,r){if(t){var s,o=0,a=r.context,u=r.listeners;if(e||i||a){for(var l=e?[e]:n.keys(t);o<l.length;o++){var h=t[e=l[o]];if(!h)break;for(var c=[],f=0;f<h.length;f++){var p=h[f];i&&i!==p.callback&&i!==p.callback._callback||a&&a!==p.context?c.push(p):(s=p.listening)&&0==--s.count&&(delete u[s.id],delete s.listeningTo[s.objId])}c.length?t[e]=c:delete t[e]}return t}for(var d=n.keys(u);o<d.length;o++)delete u[(s=u[d[o]]).id],delete s.listeningTo[s.objId]}};h.once=function(t,e,i){var r=f(g,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},h.listenToOnce=function(t,e,i){var r=f(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var s=t[e]=n.once(function(){r(e,s),i.apply(this,arguments)});s._callback=i}return t};h.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return f(y,this._events,t,void 0,n),this};var y=function(t,e,n,i){if(t){var r=t[e],s=t.all;r&&s&&(s=s.slice()),r&&m(r,i),s&&m(s,[e].concat(i))}return t},m=function(t,e){var n,i=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};h.bind=h.on,h.unbind=h.off,n.extend(e,h);var b=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,h,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var s=i.unset,o=i.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,h=this.changed,c=this._previousAttributes;for(var f in r)e=r[f],n.isEqual(l[f],e)||a.push(f),n.isEqual(c[f],e)?delete h[f]:h[f]=e,s?delete l[f]:l[f]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,l[a[p]],i)}if(u)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var s=t[r];n.isEqual(e[r],s)||(i[r]=s)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){var e=this,i=(t=n.extend({parse:!0},t)).success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},q(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var s=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!s){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var o=this,a=i.success,u=this.attributes;i.success=function(t){o.attributes=u;var e=i.parse?o.parse(t,i):t;if(s&&(e=n.extend({},r,e)),e&&!o.set(e,i))return!1;a&&a.call(i.context,o,t,i),o.trigger("sync",o,t,i)},q(this,i),r&&s&&(this.attributes=n.extend({},u,r));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=r);var h=this.sync(l,this,i);return this.attributes=u,h},destroy:function(t){var e=this,i=(t=t?n.clone(t):{}).success,r=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&s(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var o=!1;return this.isNew()?n.defer(t.success):(q(this,t),o=this.sync("delete",this,t)),r||s(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),a(b,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},O=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),s=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<s;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+s+n]=r[i]};n.extend(_.prototype,h,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.extend({},x,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var s,o,a=[],u=[],l=[],h=[],c={},f=e.add,p=e.merge,d=e.remove,v=!1,g=this.comparator&&null==r&&!1!==e.sort,y=n.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){s=t[o];var m=this.get(s);if(m){if(p&&s!==m){var b=this._isModel(s)?s.attributes:s;e.parse&&(b=m.parse(b,e)),m.set(b,e),l.push(m),g&&!v&&(v=m.hasChanged(y))}c[m.cid]||(c[m.cid]=!0,a.push(m)),t[o]=m}else f&&(s=t[o]=this._prepareModel(s,e))&&(u.push(s),this._addReference(s,e),c[s.cid]=!0,a.push(s))}if(d){for(o=0;o<this.length;o++)c[(s=this.models[o]).cid]||h.push(s);h.length&&this._removeModels(h,e)}var _=!1,w=!g&&f&&d;if(a.length&&w?(_=this.length!==a.length||n.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,O(this.models,a,0),this.length=this.models.length):u.length&&(g&&(v=!0),O(this.models,u,null==r?this.length:r),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(o=0;o<u.length;o++)null!=r&&(e.index=r+o),(s=u[o]).trigger("add",s,this,e);(v||_)&&this.trigger("sort",this,e),(u.length||h.length||l.length)&&(e.changes={added:u,removed:h,merged:l},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},q(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,s=e.success;return e.success=function(t,e,n){i&&r.add(t,n),s&&s.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=s,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}}),a(_,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var j=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,A)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(j.prototype,h,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(C);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var s=P[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||F()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var u=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,u&&u.call(r.context,t,e,n)};var l=r.xhr=e.ajax(n.extend(o,r));return i.trigger("request",i,l,r),l};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,N=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,h,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var s=this;return e.history.route(t,function(n){var o=s._extractParameters(t,n);!1!==s.execute(r,o,i)&&(s.trigger.apply(s,["route:"+i].concat(o)),s.trigger("route",i,o),e.history.trigger("route",s,i,o))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(E,"(?:$1)?").replace(S,function(t,e){return e?t:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var z=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,H=/#.*$/;z.started=!1,n.extend(z.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(R,"")},start:function(t){if(z.started)throw new Error("Backbone.history has already been started");if(z.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(I,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),z.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!z.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(H,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new z;var T=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};b.extend=_.extend=k.extend=j.extend=z.extend=T;var F=function(){throw new Error('A "url" property or function must be specified')},q=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:"jquery",underscore:"underscore"}],59:[function(t,e,n){function i(t){return t&&"object"==typeof t?u(t)||l(t)?t:a(t)?s(t,i):o(c(t),function(e,n){return e[r(n)]=i(t[n]),e},{}):t}function r(t){return t.replace(/[_.-](\w|$)/g,function(t,e){return e.toUpperCase()})}function s(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}function o(t,e,n){if(t.reduce)return t.reduce(e,n);for(var i=0;i<t.length;i++)n=e(n,t[i],i);return n}e.exports=function(t){return"string"==typeof t?r(t):i(t)};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=function(t){return"[object Date]"===Object.prototype.toString.call(t)},l=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},h=Object.prototype.hasOwnProperty,c=Object.keys||function(t){var e=[];for(var n in t)h.call(t,n)&&e.push(n);return e}},{}],60:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("observe-js"),o=t("../utils"),a=t("../deps"),u=function(t){return t&&t.__esModule?t:{default:t}}(a),l=t("../core"),h=function(){function t(e,n,r,s){i(this,t),this.node,this.observer,this.output,this.previousOutput,this.marker,this.delimiter,this.id=(0,a.getUtils)().uniqueId(),this.value=r,this.context=e,this.keypath=n,this.options=s,n&&(this.value=(0,o.path)(this.context,this.keypath))}return r(t,[{key:"setNode",value:function(t){return t.bindings=t.bindings||[],t.bindings.push(this),this.node=t}},{key:"setMarker",value:function(t){return t.binding=this,this.marker=t}},{key:"setDelimiter",value:function(t){return this.delimiter=t}},{key:"setOutput",value:function(t){return this.previousOutput=this.output,this.output=t}},{key:"setObserver",value:function(t){return this.observer=t}},{key:"createElement",value:function(){return'<hb-binding id="'+this.id+'"></hb-binding>'}},{key:"createAttribute",value:function(){return"hb-binding-"+this.id}},{key:"initialize",value:function(){return this.options.hash.attr?this.initializeAttribute():this.options.fn?this.initializeBlock():this.initializeInline()}},{key:"initializeAttribute",value:function(t){var e=this,n="binding-"+this.id;return u.default.Handlebars.registerAttribute(n,function(t){return null},{ready:function(t){e.setNode(t),e.render({initialize:!0}),e.observe(),delete u.default.Handlebars.attributes[n]}}),this.createAttribute()}},{key:"initializeInline",value:function(){return this.setNode(document.createTextNode("")),this.render({initialize:!0}),this.observe(),u.default.Handlebars.store.hold(this.id,(0,a.getUtils)().flatten([this.node])),new u.default.Handlebars.SafeString(this.createElement())}},{key:"initializeBlock",value:function(){this.setMarker(document.createTextNode("")),this.setDelimiter(document.createTextNode(""));var t=this.render({initialize:!0});return this.observe(),u.default.Handlebars.store.hold(this.id,(0,a.getUtils)().flatten([this.marker,t,this.delimiter])),new u.default.Handlebars.SafeString(this.createElement())}},{key:"runOutput",value:function(){this.options.fn?this.setOutput(this.options.fn(this.context)):this.setOutput(this.value)}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.runOutput(),this.options.hash.attr?this.renderAttribute(t):this.options.fn?this.renderBlock(t):this.renderInline(t)}},{key:"renderAttribute",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];1==this.options.hash.attr?this.previousOutput!=this.output&&(this.node.removeAttribute(this.previousOutput),this.node.setAttribute(this.output,"")):"class"==this.options.hash.attr?((0,o.removeClass)(this.node,this.previousOutput),(0,o.addClass)(this.node,this.output)):this.node.setAttribute(this.options.hash.attr,this.output)}},{key:"renderInline",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,a.getUtils)().isString(this.output)?this.node.textContent=(0,a.getUtils)().escapeExpression(new u.default.Handlebars.SafeString(this.output)):this.node.textContent=(0,a.getUtils)().escapeExpression(this.output)}},{key:"renderBlock",value:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).initialize)return u.default.Handlebars.parseHTML(this.output);(0,o.removeBetween)(this.marker,this.delimiter).forEach(function(t){return(0,l.unbind)(t)}),(0,a.getUtils)().insertAfter(this.marker,u.default.Handlebars.parseHTML(this.output))}},{key:"observe",value:function(){var t=this;(0,a.getUtils)().isArray(this.value)?(this.setObserver(new s.ArrayObserver(this.value)),this.observer.open(function(){return t.render()})):(0,a.getUtils)().isObject(this.value)?(this.setObserver(new s.ObjectObserver(this.value)),this.observer.open(function(){return t.render()})):(this.setObserver(new s.PathObserver(this.context,this.keypath)),this.observer.open(function(e){t.value=e,t.render()}))}},{key:"stopObserving",value:function(){this.observer&&this.observer.close()}}]),t}();n.default=h},{"../core":64,"../deps":65,"../utils":67,"observe-js":91}],61:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(i)},l=t("observe-js"),h=i(t("./binding")),c=t("../utils"),f=t("../deps"),p=i(f),d=t("../core"),v=function(t){function e(){return r(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),a(e,[{key:"initialize",value:function(){return this.options.hash.bind?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this):this.runOutput()}},{key:"runOutput",value:function(){return this.options.hash.var?this.context[this.options.hash.var]=this.value:(0,f.getUtils)().isObject(this.value)&&(0,f.getUtils)().extend(this.context,this.value),this.setOutput(this.options.fn(this.context))}},{key:"observe",value:function(){var t=this;this.parentContextObserver=new l.ObjectObserver(this.options.hash.parentContext),this.parentContextObserver.open(function(){(0,f.getUtils)().extend(t.context,t.options.hash.parentContext)}),(0,f.getUtils)().isObject(this.value)&&(this.options.hash.var||(this.setObserver(new l.ObjectObserver(this.value)),this.observer.open(function(){return(0,f.getUtils)().extend(t.context,t.value)})))}}]),e}(h.default),g=function(t){function e(t,n,i,o){r(this,e);var a=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,o));return a.itemBindings=[],a.empty=0==i.length,a.options.hash.parentContext=a.context,a}return o(e,t),a(e,[{key:"initialize",value:function(){return this.options.hash.bind?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this):this.runOutput()}},{key:"observe",value:function(){var t=this;this.setObserver(new l.ArrayObserver(this.value)),this.observer.open(function(e){e.forEach(function(e){t.empty=0==t.value.length,t.render({splice:e})}),t.value.forEach(function(e,n){t.itemBindings[n].context.index=n})})}},{key:"runOutput",value:function(){var t=this,e="";return this.itemBindings=[],this.value.forEach(function(n,i){var r=new v((0,f.getUtils)().extend({index:i,$this:n},t.context),null,n,t.options);t.itemBindings.push(r),e+=r.initialize()}),this.setOutput(this.empty?this.options.inverse(this.context):e)}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.splice)return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"render",this).call(this,t);var n=t.splice;if(n.removed.length>0)for(var i=0,r=n.index;r<n.index+n.removed.length;r++)this.removeItem(r-i++);if(n.addedCount>0)for(var s=n.index;s<n.index+n.addedCount;s++)this.addItem(s)}},{key:"addItem",value:function(t){var e;e=this.itemBindings[t-1]?this.itemBindings[t-1].delimiter:this.marker;var n=this.value[t],i=new v((0,f.getUtils)().extend({index:t,$this:n},this.context),null,n,this.options);(0,f.getUtils)().insertAfter(e,p.default.Handlebars.parseHTML(i.initialize())),this.itemBindings.splice(t,0,i)}},{key:"removeItem",value:function(t){var e=this.itemBindings[t];(0,c.removeBetween)(e.marker,e.delimiter).forEach(function(t){return(0,d.unbind)(t)}),e.marker.remove(),e.delimiter.remove(),this.itemBindings.splice(t,1)}}]),e}(h.default);n.default=g},{"../core":64,"../deps":65,"../utils":67,"./binding":60,"observe-js":91}],62:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(i)},l=t("observe-js"),h=i(t("./binding")),c=t("../deps"),f=(i(c),t("../utils")),p=function(t){function e(t,n,i,o){r(this,e);var a=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,o));return a.falsy=(0,f.isFalsy)(i),a}return o(e,t),a(e,[{key:"initialize",value:function(){return this.options.hash.bind?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this):this.runOutput()}},{key:"observe",value:function(){var t=this;(0,c.getUtils)().isArray(this.value)?(this.setObserver(new l.ArrayObserver(this.value)),this.observer.open(function(){(0,f.isFalsy)(t.value)!=t.falsy&&(t.falsy=(0,f.isFalsy)(t.value),t.render())})):(this.setObserver(new l.PathObserver(this.context,this.keypath)),this.observer.open(function(e){t.value=e,(0,f.isFalsy)(t.value)!=t.falsy&&(t.falsy=(0,f.isFalsy)(t.value),t.render())}))}},{key:"runOutput",value:function(){return this.falsy?this.setOutput(this.options.inverse?this.options.inverse(this.context):this.options.hash.else):this.setOutput(this.options.fn?this.options.fn(this.context):this.options.hash.then)}},{key:"renderAttribute",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];1==this.options.hash.attr?(this.node.removeAttribute(this.previousOutput),this.output&&this.node.setAttribute(this.output,"")):"class"==this.options.hash.attr?((0,f.removeClass)(this.node,this.previousOutput),(0,f.addClass)(this.node,this.output)):this.node.setAttribute(this.options.hash.attr,this.output)}}]),e}(h.default);n.default=p},{"../deps":65,"../utils":67,"./binding":60,"observe-js":91}],63:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.EachBinding=n.IfBinding=n.Binding=void 0;var r=i(t("./binding")),s=i(t("./if_binding")),o=i(t("./each_binding"));n.Binding=r.default,n.IfBinding=s.default,n.EachBinding=o.default},{"./binding":60,"./each_binding":61,"./if_binding":62}],64:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){(0,l.traverse)(t,function(t){t.binding?t.binding.observe():t.bindings&&t.bindings.forEach(function(t){return t.observe()})})}function s(t){(0,l.traverse)(t,function(t){t.binding?t.binding.stopObserving():t.bindings&&t.bindings.forEach(function(t){return t.stopObserving()})})}function o(){Platform.performMicrotaskCheckpoint()}function a(){c.default.Handlebars.registerHelper("bind",function(t,e){return new u.Binding(this,t,null,e).initialize()}),c.default.Handlebars.registerHelper("if",function(t,e){var n;return e.hash.bindAttr&&(e.hash.attr=e.hash.bindAttr,e.hash.bind=!0),e.hash.bind&&(0,h.getUtils)().isString(t)&&(n=t,t=(0,l.path)(this,n)),new u.IfBinding(this,n,t,e).initialize()}),c.default.Handlebars.registerHelper("each",function(t,e){return new u.EachBinding(this,null,t,e).initialize()}),c.default.Handlebars.registerHelper("unless",function(t,e){var n=e.fn,i=e.inverse,r=e.hash.then,s=e.hash.else;return e.fn=i,e.inverse=n,e.hash.then=s,e.hash.else=r,c.default.Handlebars.helpers.if.apply(this,[t,e])}),c.default.Handlebars.registerElement("binding",function(t){return t.id})}Object.defineProperty(n,"__esModule",{value:!0}),n.bind=r,n.unbind=s,n.update=o,n.register=a;i(t("observe-js"));var u=t("../bindings"),l=t("../utils"),h=t("../deps"),c=i(h)},{"../bindings":63,"../deps":65,"../utils":67,"observe-js":91}],65:[function(t,e,n){"use strict";function i(){return r.Handlebars.Utils}Object.defineProperty(n,"__esModule",{value:!0}),n.getUtils=i;var r={};n.default=r},{}],66:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(!l.default.Handlebars){(0,s.default)(t);var e=t.Utils.extend;e(l.default,{Handlebars:t}),e(t,{Binding:o.Binding,IfBinding:o.IfBinding,EachBinding:o.EachBinding,bind:a.bind,unbind:a.unbind,update:a.update}),e(t.Utils,{path:u.path,traverse:u.traverse,removeBetween:u.removeBetween,nodesBetween:u.nodesBetween,removeClass:u.removeClass,addClass:u.addClass,hasClass:u.hasClass,isFalsy:u.isFalsy}),(0,a.register)()}return t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var s=i(t("handlebars.element")),o=t("./bindings"),a=t("./core"),u=t("./utils"),l=i(t("./deps"));"undefined"!=typeof window&&window.Handlebars&&r(window.Handlebars)},{"./bindings":63,"./core":64,"./deps":65,"./utils":67,"handlebars.element":70}],67:[function(t,e,n){"use strict";function i(t){return!t||(0,c.getUtils)().isEmpty(t)}function r(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function s(t,e){if(!r(t,e))return 0==t.className.length?t.className=e:t.className+=" "+e}function o(t,e){if(r(t,e))return t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)"),"")}function a(t,e){for(var n=t.nextSibling,i=[];n&&n!=e;){var r=n.nextSibling;i.push(n),n=r}return i}function u(t,e){var n=a(t,e);return n.forEach(function(t){return t.remove()}),n}function l(t,e){for(e.apply(this,[t]),t=t.firstChild;t;)l(t,e),t=t.nextSibling}function h(t,e){var n=e.split("."),i=t[n.shift()];return n.forEach(function(t){return i=i[t]}),i}Object.defineProperty(n,"__esModule",{value:!0}),n.isFalsy=i,n.hasClass=r,n.addClass=s,n.removeClass=o,n.nodesBetween=a,n.removeBetween=u,n.traverse=l,n.path=h;var c=t("../deps");!function(t){t&&t.__esModule}(c)},{"../deps":65}],68:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){e.options=n||{},c[t]=e}function s(t,e,n){e.options=n||{},f[t]=e}function o(t,e){var n=l.default[t];return n?t=n:"true"==t?t=!0:"false"==t?t=!1:"null"==t?t=void 0:"undefined"==t?t=void 0:isNaN(t)||""==t||(t=parseFloat(t)),e?!(!t&&""!==t):""===t?void 0:t}function a(t){var e=[];if(t instanceof h.default.Handlebars.SafeString&&(t=t.toString()),(0,u.isString)(t)){var n=document.createElement("div");n.innerHTML=t.trim();i=n.childNodes}else var i=t;for(var r=(0,u.flatten)(i);0!=r.length;){for(var s=[],o=0;o<r.length;o++){for(var a={owner:r[o],element:void 0,attributes:[]},l=(0,u.flatten)(r[o].childNodes),p=0;p<l.length;p++)s.push(l[p]);if(r[o].attributes)for(p=0;p<r[o].attributes.length;p++)/hb-/i.test(r[o].attributes[p].name)&&a.attributes.push(r[o].attributes[p]);/^hb-/i.test(r[o].nodeName)&&(a.element=r[o]),(a.element||a.attributes.length>0)&&e.unshift(a)}r=s}for(o=0;o<e.length;o++){var d=e[o].owner,v=e[o].element,g=e[o].attributes;if(g.length>0)for(p=0;p<g.length;p++){var y=(w=g[p]).name.replace("hb-",""),m=(C=f[y]).apply(w,[d]);m&&d.setAttributeNode(m),d.removeAttributeNode(w),C.options.ready&&!/hb-/i.test(d.tagName.toLowerCase())&&C.options.ready.apply(w,[d])}if(v){for(var b={},_=v.tagName.toLowerCase().replace("hb-",""),x=c[_],p=0;p<v.attributes.length;p++){var w=v.attributes.item(p),y=(0,u.camelize)(w.nodeName),O=x.options.booleans&&x.options.booleans.indexOf(y)>=0;b[y]=this.parseValue(w.nodeValue,O)}var j=x.apply(v,[b]);(0,u.replaceWith)(v,j);for(p=0;p<g.length;p++){var y=(w=g[p]).name.replace("hb-",""),C=f[y];C.options.ready&&C.options.ready.apply(w,[j])}}}return(0,u.flatten)(i)}Object.defineProperty(n,"__esModule",{value:!0}),n.attributes=n.elements=void 0,n.registerElement=r,n.registerAttribute=s,n.parseValue=o,n.parseHTML=a;var u=t("../utils"),l=i(t("../store")),h=i(t("../deps")),c=n.elements={},f=n.attributes={}},{"../deps":69,"../store":71,"../utils":72}],69:[function(t,e,n){arguments[4][65][0].apply(n,arguments)},{dup:65}],70:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return u.default.Handlebars||((0,s.extend)(u.default,{Handlebars:t}),(0,s.extend)(t,{store:a.default,elements:o.elements,attributes:o.attributes,registerElement:o.registerElement,registerAttribute:o.registerAttribute,parseValue:o.parseValue,parseHTML:o.parseHTML}),(0,s.extend)(t.Utils,{extend:s.extend,isObject:s.isObject,isString:s.isString,uniqueId:s.uniqueId,flatten:s.flatten,camelize:s.camelize,replaceWith:s.replaceWith,insertAfter:s.insertAfter,escapeExpression:s.escapeExpression,_escapeExpression:t.Utils.escapeExpression})),t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var s=t("./utils"),o=t("./core"),a=i(t("./store")),u=i(t("./deps"));"undefined"!=typeof window&&window.Handlebars&&r(window.Handlebars)},{"./core":68,"./deps":69,"./store":71,"./utils":72}],71:[function(t,e,n){"use strict";function i(t,e){return o[t]=e}function r(t){var e=o[t];return delete o[t],e}function s(t){for(var e in o)if(o[e]==t)return e}Object.defineProperty(n,"__esModule",{value:!0}),n.hold=i,n.release=r,n.keyFor=s;var o={};(0,t("../utils").extend)(o,{hold:i,release:r,keyFor:s}),n.default=o},{"../utils":72}],72:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function s(t){return t===Object(t)}function o(t){return"[object String]"==toString.call(t)}function a(){var t=function(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e};return t()+t(!0)+t(!0)+t()}function u(t,e){e=e||[];for(var n=0;n<t.length;n++)(0,d.getUtils)().isArray(t[n])?u(t[n],e):e.push(t[n]);return e}function l(t){return t.trim().replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function h(t,e){e=(0,d.getUtils)().isArray(e)?e:[e];for(var n=0;n<e.length;n++)0==n?t.parentNode.replaceChild(e[n],t):c(e[n-1],e[n])}function c(t,e){(e=(0,d.getUtils)().isArray(e)?e.slice():[e]).unshift(t);for(var n=1;n<e.length;n++)e[n-1].nextSibling?e[n-1].parentNode.insertBefore(e[n],e[n-1].nextSibling):e[n-1].parentNode.appendChild(e[n])}function f(t){if(!s(t)||t instanceof v.default.Handlebars.SafeString)!1===t&&(t=t.toString());else{var e=p.default.keyFor(t);e?t=e:(e=a(),p.default.hold(e,t),t=e)}return(0,d.getUtils)()._escapeExpression(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.extend=r,n.isObject=s,n.isString=o,n.uniqueId=a,n.flatten=u,n.camelize=l,n.replaceWith=h,n.insertAfter=c,n.escapeExpression=f;var p=i(t("../store")),d=t("../deps"),v=i(d)},{"../deps":69,"../store":71}],73:[function(t,e,n){(function(t){!function(i,r){if(void 0!==n){var s=t.MutationObserver||t.WebKitMutationObserver||t.MozMutationObserver;void 0!==e&&e.exports&&(e.exports=r(t.$,s)),n=r(t.$,s)}else r(i.$,i.MutationObserver||i.WebKitMutationObserver||i.MozMutationObserver)}(this,function(t,e){var n=function(e){var n=t(e).find("[lifecycle]").toArray();return t(e).is("[lifecycle]")&&n.push(e),n},i=function(n,i){var r=new e(function(e){t.each(e,function(t,e){var r=n.attributes[e.attributeName];r&&r.value==e.oldValue||i.apply(n,[e.attributeName,r?r.value:void 0])})});return r.observe(n,{subtree:!1,attributes:!0,attributeOldValue:!0}),r},r=function(n,i){var r=new e(function(e){t.each(e,function(e,r){"childList"===r.type&&t.each(r.addedNodes,function(t,e){i.apply(n,[e])})})});return r.observe(n,{childList:!0,subtree:!0}),r},s=new(e=window.MutationObserver||window.WebKitMutationObserver)(function(e){t.each(e,function(e,i){"childList"===i.type&&(t.each(i.addedNodes,function(e,i){t.each(n(i),function(e,n){t.each(n.whenInsert||[],function(t,e){n.inserted||e.apply(n)}),n.inserted=!0})}),t.each(i.removedNodes,function(e,i){t.each(n(i),function(e,n){t.each(n.whenRemove||[],function(t,e){n.inserted&&e.apply(n)}),n.inserted=!1})}))})});t(function(){s.observe(document.body,{childList:!0,subtree:!0})}),t.fn.lifecycle=function(e){return this.each(function(){var n=t(this)[0];n.inserted=!1,n.whenInsert=n.whenInsert||[],n.whenRemove=n.whenRemove||[],n.whenChange=n.whenChange||[],n.whenSubtreeChange=n.whenSubtreeChange||[],(e=e||{}).insert&&n.whenInsert.push(e.insert),e.remove&&n.whenRemove.push(e.remove),e.change&&n.whenChange.push(i(n,e.change)),e.subtreeChange&&n.whenSubtreeChange.push(r(n,e.subtreeChange)),t(this).attr("lifecycle","")})},t.fn.unlifecycle=function(){return this.each(function(){var e=t(this)[0];t.each(e.whenChange,function(t,e){e.disconnect()}),t.each(e.whenSubtreeChange,function(t,e){e.disconnect()}),delete e.inserted,delete e.whenInsert,delete e.whenRemove,delete e.whenChange,t(this).removeAttr("lifecycle")})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],74:[function(t,e,n){function i(t){var e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}function r(t){if("object"!=typeof t)return t;if(null===t)return null;if(s(t))return t.map(r);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return i(t);var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=r(t[n]));return e}var s="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array};e.exports=r},{}],75:[function(t,e,n){var i=t("../pipe").Pipe,r=function(){};r.prototype.setResult=function(t){return this.result=t,this.hasResult=!0,this},r.prototype.exit=function(){return this.exiting=!0,this},r.prototype.switchTo=function(t,e){return"string"==typeof t||t instanceof i?this.nextPipe=t:(this.next=t,e&&(this.nextPipe=e)),this},r.prototype.push=function(t,e){return t.parent=this,void 0!==e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this},n.Context=r},{"../pipe":89}],76:[function(t,e,n){var i=t("./context").Context,r=t("../clone"),s=function(t,e){this.left=t,this.right=e,this.pipe="diff"};(s.prototype=new i).setResult=function(t){if(this.options.cloneDiffValues&&"object"==typeof t){var e="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:r;"object"==typeof t[0]&&(t[0]=e(t[0])),"object"==typeof t[1]&&(t[1]=e(t[1]))}return i.prototype.setResult.apply(this,arguments)},n.DiffContext=s},{"../clone":74,"./context":75}],77:[function(t,e,n){var i=t("./context").Context,r=function(t,e){this.left=t,this.delta=e,this.pipe="patch"};r.prototype=new i,n.PatchContext=r},{"./context":75}],78:[function(t,e,n){var i=t("./context").Context,r=function(t){this.delta=t,this.pipe="reverse"};r.prototype=new i,n.ReverseContext=r},{"./context":75}],79:[function(t,e,n){e.exports=function(t,e){var n;return"string"==typeof e&&(n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(e))?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6],+(n[7]||0))):e}},{}],80:[function(t,e,n){var i=t("./processor").Processor,r=t("./pipe").Pipe,s=t("./contexts/diff").DiffContext,o=t("./contexts/patch").PatchContext,a=t("./contexts/reverse").ReverseContext,u=t("./clone"),l=t("./filters/trivial"),h=t("./filters/nested"),c=t("./filters/arrays"),f=t("./filters/dates"),p=t("./filters/texts"),d=function(t){this.processor=new i(t),this.processor.pipe(new r("diff").append(h.collectChildrenDiffFilter,l.diffFilter,f.diffFilter,p.diffFilter,h.objectsDiffFilter,c.diffFilter).shouldHaveResult()),this.processor.pipe(new r("patch").append(h.collectChildrenPatchFilter,c.collectChildrenPatchFilter,l.patchFilter,p.patchFilter,h.patchFilter,c.patchFilter).shouldHaveResult()),this.processor.pipe(new r("reverse").append(h.collectChildrenReverseFilter,c.collectChildrenReverseFilter,l.reverseFilter,p.reverseFilter,h.reverseFilter,c.reverseFilter).shouldHaveResult())};d.prototype.options=function(){return this.processor.options.apply(this.processor,arguments)},d.prototype.diff=function(t,e){return this.processor.process(new s(t,e))},d.prototype.patch=function(t,e){return this.processor.process(new o(t,e))},d.prototype.reverse=function(t){return this.processor.process(new a(t))},d.prototype.unpatch=function(t,e){return this.patch(t,this.reverse(e))},d.prototype.clone=function(t){return u(t)},n.DiffPatcher=d},{"./clone":74,"./contexts/diff":76,"./contexts/patch":77,"./contexts/reverse":78,"./filters/arrays":82,"./filters/dates":83,"./filters/nested":85,"./filters/texts":86,"./filters/trivial":87,"./pipe":89,"./processor":90}],81:[function(t,e,n){n.isBrowser="undefined"!=typeof window},{}],82:[function(t,e,n){function i(t,e,n,i){for(var r=0;r<n;r++)for(var s=t[r],o=0;o<i;o++){var a=e[o];if(r!==o&&s===a)return!0}}function r(t,e,n,i,r){var s=t[n],o=e[i];if(s===o)return!0;if("object"!=typeof s||"object"!=typeof o)return!1;var a=r.objectHash;if(!a)return r.matchByPosition&&n===i;var u,l;return"number"==typeof n?(r.hashCache1=r.hashCache1||[],void 0===(u=r.hashCache1[n])&&(r.hashCache1[n]=u=a(s,n))):u=a(s),void 0!==u&&("number"==typeof i?(r.hashCache2=r.hashCache2||[],void 0===(l=r.hashCache2[i])&&(r.hashCache2[i]=l=a(o,i))):l=a(o),void 0!==l&&u===l)}var s=t("../contexts/diff").DiffContext,o=t("../contexts/patch").PatchContext,a=t("../contexts/reverse").ReverseContext,u=t("./lcs"),l="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},h="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]===e)return i;return-1},c=function(t){if(t.leftIsArray){var e,n,o,a,l={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition},c=0,f=0,p=t.left,d=t.right,v=p.length,g=d.length;for(v>0&&g>0&&!l.objectHash&&"boolean"!=typeof l.matchByPosition&&(l.matchByPosition=!i(p,d,v,g));c<v&&c<g&&r(p,d,c,c,l);)e=c,a=new s(t.left[e],t.right[e]),t.push(a,e),c++;for(;f+c<v&&f+c<g&&r(p,d,v-1-f,g-1-f,l);)n=v-1-f,o=g-1-f,a=new s(t.left[n],t.right[o]),t.push(a,o),f++;var y;if(c+f===v){if(v===g)return void t.setResult(void 0).exit();for(y=y||{_t:"a"},e=c;e<g-f;e++)y[e]=[d[e]];return void t.setResult(y).exit()}if(c+f===g){for(y=y||{_t:"a"},e=c;e<v-f;e++)y["_"+e]=[p[e],0,0];return void t.setResult(y).exit()}delete l.hashCache1,delete l.hashCache2;var m=p.slice(c,v-f),b=d.slice(c,g-f),_=u.get(m,b,r,l),x=[];for(y=y||{_t:"a"},e=c;e<v-f;e++)h(_.indices1,e-c)<0&&(y["_"+e]=[p[e],0,0],x.push(e));var w=!0;t.options&&t.options.arrays&&!1===t.options.arrays.detectMove&&(w=!1);var O=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(O=!0);var j=x.length;for(e=c;e<g-f;e++){var C=h(_.indices2,e-c);if(C<0){var A=!1;if(w&&j>0)for(var P=0;P<j;P++)if(n=x[P],r(m,b,n-c,e-c,l)){y["_"+n].splice(1,2,e,3),O||(y["_"+n][0]=""),o=e,a=new s(t.left[n],t.right[o]),t.push(a,o),x.splice(P,1),A=!0;break}A||(y[e]=[d[e]])}else n=_.indices1[C]+c,o=_.indices2[C]+c,a=new s(t.left[n],t.right[o]),t.push(a,o)}t.setResult(y).exit()}};c.filterName="arrays";var f={numerically:function(t,e){return t-e},numericallyBy:function(t){return function(e,n){return e[t]-n[t]}}},p=function(t){if(t.nested&&"a"===t.delta._t){var e,n,i=t.delta,r=t.left,s=[],a=[],u=[];for(e in i)if("_t"!==e)if("_"===e[0]){if(0!==i[e][2]&&3!==i[e][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+i[e][2]);s.push(parseInt(e.slice(1),10))}else 1===i[e].length?a.push({index:parseInt(e,10),value:i[e][0]}):u.push({index:parseInt(e,10),delta:i[e]});for(e=(s=s.sort(f.numerically)).length-1;e>=0;e--){var l=i["_"+(n=s[e])],h=r.splice(n,1)[0];3===l[2]&&a.push({index:l[1],value:h})}var c=(a=a.sort(f.numericallyBy("index"))).length;for(e=0;e<c;e++){var p=a[e];r.splice(p.index,0,p.value)}var d,v=u.length;if(v>0)for(e=0;e<v;e++){var g=u[e];d=new o(t.left[g.index],g.delta),t.push(d,g.index)}t.children?t.exit():t.setResult(t.left).exit()}};p.filterName="arrays";var d=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e,n=t.children.length,i=0;i<n;i++)e=t.children[i],t.left[e.childName]=e.result;t.setResult(t.left).exit()}};d.filterName="arraysCollectChildren";var v=function(t){if(t.nested){if("a"===t.delta._t){var e,n;for(e in t.delta)"_t"!==e&&(n=new a(t.delta[e]),t.push(n,e));t.exit()}}else 3===t.delta[2]&&(t.newName="_"+t.delta[1],t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),3]).exit())};v.filterName="arrays";var g=function(t,e,n){if("string"==typeof e&&"_"===e[0])return parseInt(e.substr(1),10);if(l(n)&&0===n[2])return"_"+e;var i=+e;for(var r in t){var s=t[r];if(l(s))if(3===s[2]){var o=parseInt(r.substr(1),10),a=s[1];if(a===+e)return o;o<=i&&a>i?i++:o>=i&&a<i&&i--}else 0===s[2]?parseInt(r.substr(1),10)<=i&&i++:1===s.length&&r<=i&&i--}return i},y=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e,n=t.children.length,i={_t:"a"},r=0;r<n;r++){var s=(e=t.children[r]).newName;void 0===s&&(s=g(t.delta,e.childName,e.result)),i[s]!==e.result&&(i[s]=e.result)}t.setResult(i).exit()}};y.filterName="arraysCollectChildren",n.diffFilter=c,n.patchFilter=p,n.collectChildrenPatchFilter=d,n.reverseFilter=v,n.collectChildrenReverseFilter=y},{"../contexts/diff":76,"../contexts/patch":77,"../contexts/reverse":78,"./lcs":84}],83:[function(t,e,n){var i=function(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};i.filterName="dates",n.diffFilter=i},{}],84:[function(t,e,n){var i=function(t,e,n,i){return t[n]===e[i]},r=function(t,e,n,i){var r,s,o=t.length,a=e.length,u=[o+1];for(r=0;r<o+1;r++)for(u[r]=[a+1],s=0;s<a+1;s++)u[r][s]=0;for(u.match=n,r=1;r<o+1;r++)for(s=1;s<a+1;s++)n(t,e,r-1,s-1,i)?u[r][s]=u[r-1][s-1]+1:u[r][s]=Math.max(u[r-1][s],u[r][s-1]);return u},s=function(t,e,n,i,r,o){if(0===i||0===r)return{sequence:[],indices1:[],indices2:[]};if(t.match(e,n,i-1,r-1,o)){var a=s(t,e,n,i-1,r-1,o);return a.sequence.push(e[i-1]),a.indices1.push(i-1),a.indices2.push(r-1),a}return t[i][r-1]>t[i-1][r]?s(t,e,n,i,r-1,o):s(t,e,n,i-1,r,o)},o=function(t,e,n,o){o=o||{};var a=r(t,e,n||i,o),u=s(a,t,e,t.length,e.length,o);return"string"==typeof t&&"string"==typeof e&&(u.sequence=u.sequence.join("")),u};n.get=o},{}],85:[function(t,e,n){var i=t("../contexts/diff").DiffContext,r=t("../contexts/patch").PatchContext,s=t("../contexts/reverse").ReverseContext,o=function(t){if(t&&t.children){for(var e,n=t.children.length,i=t.result,r=0;r<n;r++)void 0!==(e=t.children[r]).result&&((i=i||{})[e.childName]=e.result);i&&t.leftIsArray&&(i._t="a"),t.setResult(i).exit()}};o.filterName="collectChildren";var a=function(t){if(!t.leftIsArray&&"object"===t.leftType){var e,n,r=t.options.propertyFilter;for(e in t.left)Object.prototype.hasOwnProperty.call(t.left,e)&&(r&&!r(e,t)||(n=new i(t.left[e],t.right[e]),t.push(n,e)));for(e in t.right)Object.prototype.hasOwnProperty.call(t.right,e)&&(r&&!r(e,t)||void 0===t.left[e]&&(n=new i(void 0,t.right[e]),t.push(n,e)));t.children&&0!==t.children.length?t.exit():t.setResult(void 0).exit()}};a.filterName="objects";var u=function(t){if(t.nested&&!t.delta._t){var e,n;for(e in t.delta)n=new r(t.left[e],t.delta[e]),t.push(n,e);t.exit()}};u.filterName="objects";var l=function(t){if(t&&t.children&&!t.delta._t){for(var e,n=t.children.length,i=0;i<n;i++)e=t.children[i],Object.prototype.hasOwnProperty.call(t.left,e.childName)&&void 0===e.result?delete t.left[e.childName]:t.left[e.childName]!==e.result&&(t.left[e.childName]=e.result);t.setResult(t.left).exit()}};l.filterName="collectChildren";var h=function(t){if(t.nested&&!t.delta._t){var e,n;for(e in t.delta)n=new s(t.delta[e]),t.push(n,e);t.exit()}};h.filterName="objects";var c=function(t){if(t&&t.children&&!t.delta._t){for(var e,n=t.children.length,i={},r=0;r<n;r++)i[(e=t.children[r]).childName]!==e.result&&(i[e.childName]=e.result);t.setResult(i).exit()}};c.filterName="collectChildren",n.collectChildrenDiffFilter=o,n.objectsDiffFilter=a,n.patchFilter=u,n.collectChildrenPatchFilter=l,n.reverseFilter=h,n.collectChildrenReverseFilter=c},{"../contexts/diff":76,"../contexts/patch":77,"../contexts/reverse":78}],86:[function(t,e,n){var i=null,r=function(e){if(!i){var n;if("undefined"!=typeof diff_match_patch)n="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if("function"==typeof t)try{var r=t("../../public/external/diff_match_patch_uncompressed");n=new r.diff_match_patch}catch(t){n=null}if(!n){if(!e)return null;var s=new Error("text diff_match_patch library not found");throw s.diff_match_patch_not_found=!0,s}i={diff:function(t,e){return n.patch_toText(n.patch_make(t,e))},patch:function(t,e){for(var i=n.patch_apply(n.patch_fromText(e),t),r=0;r<i[1].length;r++)i[1][r]||(new Error("text patch failed").textPatchFailed=!0);return i[0]}}}return i},s=function(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||60;if(t.left.length<e||t.right.length<e)t.setResult([t.left,t.right]).exit();else{var n=r();if(n){var i=n.diff;t.setResult([i(t.left,t.right),0,2]).exit()}else t.setResult([t.left,t.right]).exit()}}};s.filterName="texts";var o=function(t){if(!t.nested&&2===t.delta[2]){var e=r(!0).patch;t.setResult(e(t.left,t.delta[0])).exit()}};o.filterName="texts";var a=function(t){var e,n,i,r,s,o=null,a=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(e=0,n=(i=t.split("\n")).length;e<n;e++){var u=(r=i[e]).slice(0,1);"@"===u?(o=a.exec(r),null,null,i[e]="@@ -"+o[3]+","+o[4]+" +"+o[1]+","+o[2]+" @@"):"+"===u?(e,i[e]="-"+i[e].slice(1),"+"===i[e-1].slice(0,1)&&(s=i[e],i[e]=i[e-1],i[e-1]=s)):"-"===u&&(e,i[e]="+"+i[e].slice(1))}return i.join("\n")},u=function(t){t.nested||2===t.delta[2]&&t.setResult([a(t.delta[0]),0,2]).exit()};u.filterName="texts",n.diffFilter=s,n.patchFilter=o,n.reverseFilter=u},{}],87:[function(t,e,n){var i="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},r=function(t){if(t.left!==t.right){if(void 0===t.left){if("function"==typeof t.right)throw new Error("functions are not supported");return void t.setResult([t.right]).exit()}if(void 0!==t.right){if("function"==typeof t.left||"function"==typeof t.right)throw new Error("functions are not supported");if(t.leftType=null===t.left?"null":typeof t.left,t.rightType=null===t.right?"null":typeof t.right,t.leftType===t.rightType)if("boolean"!==t.leftType&&"number"!==t.leftType)if("object"===t.leftType&&(t.leftIsArray=i(t.left)),"object"===t.rightType&&(t.rightIsArray=i(t.right)),t.leftIsArray===t.rightIsArray){if(t.left instanceof RegExp){if(!(t.right instanceof RegExp))return void t.setResult([t.left,t.right]).exit();t.setResult([t.left.toString(),t.right.toString()]).exit()}}else t.setResult([t.left,t.right]).exit();else t.setResult([t.left,t.right]).exit();else t.setResult([t.left,t.right]).exit()}else t.setResult([t.left,0,0]).exit()}else t.setResult(void 0).exit()};r.filterName="trivial";var s=function(t){if(void 0!==t.delta){if(t.nested=!i(t.delta),!t.nested){if(1!==t.delta.length){if(2===t.delta.length){if(t.left instanceof RegExp){var e=/^\/(.*)\/([gimyu]+)$/.exec(t.delta[1]);if(e)return void t.setResult(new RegExp(e[1],e[2])).exit()}return void t.setResult(t.delta[1]).exit()}return 3===t.delta.length&&0===t.delta[2]?void t.setResult(void 0).exit():void 0}t.setResult(t.delta[0]).exit()}}else t.setResult(t.left).exit()};s.filterName="trivial";var o=function(t){if(void 0!==t.delta){if(t.nested=!i(t.delta),!t.nested)return 1===t.delta.length?void t.setResult([t.delta[0],0,0]).exit():2===t.delta.length?void t.setResult([t.delta[1],t.delta[0]]).exit():3===t.delta.length&&0===t.delta[2]?void t.setResult([t.delta[0]]).exit():void 0}else t.setResult(t.delta).exit()};o.filterName="trivial",n.diffFilter=r,n.patchFilter=s,n.reverseFilter=o},{}],88:[function(t,e,n){var i=t("./environment"),r=t("./diffpatcher").DiffPatcher;n.DiffPatcher=r,n.create=function(t){return new r(t)},n.dateReviver=t("./date-reviver");var s;if(n.diff=function(){return s||(s=new r),s.diff.apply(s,arguments)},n.patch=function(){return s||(s=new r),s.patch.apply(s,arguments)},n.unpatch=function(){return s||(s=new r),s.unpatch.apply(s,arguments)},n.reverse=function(){return s||(s=new r),s.reverse.apply(s,arguments)},n.clone=function(){return s||(s=new r),s.clone.apply(s,arguments)},i.isBrowser)n.homepage="{{package-homepage}}",n.version="{{package-version}}";else{var o=t("../package.json");n.homepage=o.homepage,n.version=o.version;var a=t("./formatters");n.formatters=a,n.console=a.console}},{"./date-reviver":79,"./diffpatcher":80,"./environment":81}],89:[function(t,e,n){var i=function(t){this.name=t,this.filters=[]};i.prototype.process=function(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var e=this.debug,n=this.filters.length,i=t,r=0;r<n;r++){var s=this.filters[r];if(e&&this.log("filter: "+s.filterName),s(i),"object"==typeof i&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)},i.prototype.log=function(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)},i.prototype.append=function(){return this.filters.push.apply(this.filters,arguments),this},i.prototype.prepend=function(){return this.filters.unshift.apply(this.filters,arguments),this},i.prototype.indexOf=function(t){if(!t)throw new Error("a filter name is required");for(var e=0;e<this.filters.length;e++)if(this.filters[e].filterName===t)return e;throw new Error("filter not found: "+t)},i.prototype.list=function(){for(var t=[],e=0;e<this.filters.length;e++){var n=this.filters[e];t.push(n.filterName)}return t},i.prototype.after=function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e+1,0),Array.prototype.splice.apply(this.filters,n),this},i.prototype.before=function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,0),Array.prototype.splice.apply(this.filters,n),this},i.prototype.clear=function(){return this.filters.length=0,this},i.prototype.shouldHaveResult=function(t){if(!1!==t){if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var n=new Error(e.name+" failed");throw n.noResult=!0,n}},this}}else this.resultCheck=null},n.Pipe=i},{}],90:[function(t,e,n){var i=function(t){this.selfOptions=t||{},this.pipes={}};i.prototype.options=function(t){return t&&(this.selfOptions=t),this.selfOptions},i.prototype.pipe=function(t,e){if("string"==typeof t){if(void 0===e)return this.pipes[t];this.pipes[t]=e}if(t&&t.name){if((e=t).processor===this)return e;this.pipes[e.name]=e}return e.processor=this,e},i.prototype.process=function(t,e){var n=t;n.options=this.options();for(var i,r,s=e||t.pipe||"default";s;)void 0!==n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"==typeof s&&(s=this.pipe(s)),s.process(n),r=n,i=s,s=null,n&&n.next&&(n=n.next,s=r.nextPipe||n.pipe||i);return n.hasResult?n.result:void 0},n.Processor=i},{}],91:[function(t,e,n){(function(t){!function(t){"use strict";function i(t){return+t==t>>>0&&""!==t}function r(t){return+t}function s(t){return t===Object(t)}function o(t,e){return t===e?0!==t||1/t==1/e:!(!V(t)||!V(e))||t!==t&&e!==e}function a(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return 97<=e&&e<=122||65<=e&&e<=90?"ident":49<=e&&e<=57?"number":"else"}function u(){}function l(t){for(var e,n,i,r,s,o,l,h=[],c=-1,f="beforePath",p={push:function(){void 0!==i&&(h.push(i),i=void 0)},append:function(){void 0===i?i=n:i+=n}};f;)if(c++,"\\"!=(e=t[c])||!function(){if(!(c>=t.length)){var e=t[c+1];return"inSingleQuote"==f&&"'"==e||"inDoubleQuote"==f&&'"'==e?(c++,n=e,p.append(),!0):void 0}}()){if(r=a(e),l=J[f],"error"==(s=l[r]||l.else||"error"))return;if(f=s[0],o=p[s[1]]||u,n=void 0===s[2]?e:s[2],o(),"afterPath"===f)return h}}function h(t){return L.test(t)}function c(t,e){if(e!==W)throw Error("Use Path.get to retrieve path objects");for(var n=0;n<t.length;n++)this.push(String(t[n]));$&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function f(t){if(t instanceof c)return t;if(null!=t&&0!=t.length||(t=""),"string"!=typeof t){if(i(t.length))return new c(t,W);t=String(t)}var e=Q[t];if(e)return e;var n=l(t);return n?(e=new c(n,W),Q[t]=e,e):K}function p(t){return i(t)?"["+t+"]":'["'+t.replace(/"/g,'\\"')+'"]'}function d(e){for(var n=0;n<G&&e.check_();)n++;return U&&(t.dirtyCheckCycleCount=n),n>0}function v(t){for(var e in t)return!1;return!0}function g(t){return v(t.added)&&v(t.removed)&&v(t.changed)}function y(t,e){var n,i={},r={},s={};for(n in e){var o=t[n];void 0!==o&&o===e[n]||(n in t?o!==e[n]&&(s[n]=o):r[n]=void 0)}for(n in t)n in e||(i[n]=t[n]);return Array.isArray(t)&&t.length!==e.length&&(s.length=t.length),{added:i,removed:r,changed:s}}function m(){if(!X.length)return!1;for(var t=0;t<X.length;t++)X[t]();return X.length=0,!0}function b(){function t(t){e&&e.state_===it&&!i&&e.check_(t)}var e,n,i=!1,r=!0;return{open:function(n){if(e)throw Error("ObservedObject in use");r||Object.deliverChangeRecords(t),e=n,r=!1},observe:function(e,i){n=e,i?Array.observe(n,t):Object.observe(n,t)},deliver:function(e){i=e,Object.deliverChangeRecords(t),i=!1},close:function(){e=void 0,Object.unobserve(n,t),tt.push(this)}}}function _(t,e,n){var i=tt.pop()||b();return i.open(t),i.observe(e,n),i}function x(){function t(e,s){e&&(e===i&&(r[s]=!0),a.indexOf(e)<0&&(a.push(e),Object.observe(e,n)),t(Object.getPrototypeOf(e),s))}function e(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.object!==i||r[n.name]||"setPrototype"===n.type)return!1}return!0}function n(n){if(!e(n)){var i,r;for(i=0;i<o.length;i++)(r=o[i]).state_==it&&r.iterateObjects_(t);for(i=0;i<o.length;i++)(r=o[i]).state_==it&&r.check_()}}var i,r,s=0,o=[],a=[];return{objects:a,get rootObject(){return i},set rootObject(t){i=t,r={}},open:function(e,n){o.push(e),s++,e.iterateObjects_(t)},close:function(t){if(!(--s>0)){for(var e=0;e<a.length;e++)Object.unobserve(a[e],n),O.unobservedCount++;o.length=0,a.length=0,i=void 0,r=void 0,et.push(this),Z===this&&(Z=null)}}}}function w(t,e){return Z&&Z.rootObject===e||((Z=et.pop()||x()).rootObject=e),Z.open(t,e),Z}function O(){this.state_=nt,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=rt++}function j(t){O._allObserversCount++,ot&&st.push(t)}function C(t){O._allObserversCount--}function A(t){O.call(this),this.value_=t,this.oldObject_=void 0}function P(t){if(!Array.isArray(t))throw Error("Provided object is not an Array");A.call(this,t)}function k(t,e,n){O.call(this),this.object_=t,this.path_=f(e),this.defaultValue_=n,this.directObserver_=void 0}function E(t){O.call(this),this.reportChangesOnOpen_=t,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function S(t){return t}function N(t,e,n,i){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=t,this.getValueFn_=e||S,this.setValueFn_=n||S,this.dontPassThroughSet_=i}function M(t,e,n){for(var i={},r={},s=0;s<e.length;s++){var o=e[s];lt[o.type]?(o.name in n||(n[o.name]=o.oldValue),"update"!=o.type&&("add"!=o.type?o.name in i?(delete i[o.name],delete n[o.name]):r[o.name]=!0:o.name in r?delete r[o.name]:i[o.name]=!0)):(console.error("Unknown changeRecord type: "+o.type),console.error(o))}var a;for(a in i)i[a]=t[a];for(a in r)r[a]=void 0;var u={};for(a in n)if(!(a in i||a in r)){var l=t[a];n[a]!==l&&(u[a]=l)}return{added:i,removed:r,changed:u}}function z(t,e,n){return{index:t,removed:e,addedCount:n}}function R(){}function I(t,e,n,i,r,s){return ht.calcSplices(t,e,n,i,r,s)}function H(t,e,n,i){return e<n||i<t?-1:e==n||i==t?0:t<n?e<i?e-n:i-n:i<e?i-t:e-t}function T(t,e,n,i){for(var r=z(e,n,i),s=!1,o=0,a=0;a<t.length;a++){var u=t[a];if(u.index+=o,!s){var l=H(r.index,r.index+r.removed.length,u.index,u.index+u.addedCount);if(l>=0){t.splice(a,1),a--,o-=u.addedCount-u.removed.length,r.addedCount+=u.addedCount-l;var h=r.removed.length+u.removed.length-l;if(r.addedCount||h){if(n=u.removed,r.index<u.index){var c=r.removed.slice(0,u.index-r.index);Array.prototype.push.apply(c,n),n=c}if(r.index+r.removed.length>u.index+u.addedCount){var f=r.removed.slice(u.index+u.addedCount-r.index);Array.prototype.push.apply(n,f)}r.removed=n,u.index<r.index&&(r.index=u.index)}else s=!0}else if(r.index<u.index){s=!0,t.splice(a,0,r),a++;var p=r.addedCount-r.removed.length;u.index+=p,o+=p}}}s||t.push(r)}function F(t,e){for(var n=[],s=0;s<e.length;s++){var o=e[s];switch(o.type){case"splice":T(n,o.index,o.removed.slice(),o.addedCount);break;case"add":case"update":case"delete":if(!i(o.name))continue;var a=r(o.name);if(a<0)continue;T(n,a,[o.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(o))}}return n}function q(t,e){var n=[];return F(t,e).forEach(function(e){1!=e.addedCount||1!=e.removed.length?n=n.concat(I(t,e.index,e.index+e.addedCount,e.removed,0,e.removed.length)):e.removed[0]!==t[e.index]&&n.push(e)}),n}var U=t.testingExposeCycleCount,B=function(){function t(t){e=t}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var e=[],n={},i=[];return Object.observe(n,t),Array.observe(i,t),n.id=1,n.id=2,delete n.id,i.push(1,2),i.length=0,Object.deliverChangeRecords(t),5===e.length&&("add"==e[0].type&&"update"==e[1].type&&"delete"==e[2].type&&"splice"==e[3].type&&"splice"==e[4].type&&(Object.unobserve(n,t),Array.unobserve(i,t),!0))}(),$=function(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{return new Function("","return true;")()}catch(t){return!1}}(),V=t.Number.isNaN||function(e){return"number"==typeof e&&t.isNaN(e)},D="__proto__"in{}?function(t){return t}:function(t){var e=t.__proto__;if(!e)return t;var n=Object.create(e);return Object.getOwnPropertyNames(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}),n},L=new RegExp("^[$_a-zA-Z]+[$_a-zA-Z0-9]*$"),J={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],else:["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],else:["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},W={},Q={};c.get=f,c.prototype=D({__proto__:[],valid:!0,toString:function(){for(var t="",e=0;e<this.length;e++){var n=this[e];h(n)?t+=e?"."+n:n:t+=p(n)}return t},getValueFrom:function(t,e){for(var n=0;n<this.length;n++){var i=this[n];if(null==t||!(i in t))return e;t=t[i]}return t},iterateObjects:function(t,e){for(var n=0;n<this.length;n++){if(n&&(t=t[this[n-1]]),!s(t))return;e(t,this[n])}},compiledGetValueFromFn:function(){var t="",e="obj";t+="if (obj != null";for(var n,i=0;i<this.length-1;i++)t+=" &&\n    "+(e+=h(n=this[i])?"."+n:p(n))+" != null";var r=h(n=this[i]);return t+=" &&\n    "+(r?'"'+n.replace(/"/g,'\\"')+'"':n)+" in "+e+")\n",e+=r?"."+n:p(n),t+="  return "+e+";\nelse\n  return defaultValue;",new Function("obj","defaultValue",t)},setValueFrom:function(t,e){if(!this.length)return!1;for(var n=0;n<this.length-1;n++){if(!s(t))return!1;t=t[this[n]]}return!!s(t)&&(t[this[n]]=e,!0)}});var K=new c("",W);K.valid=!1,K.getValueFrom=K.setValueFrom=function(){};var Z,G=1e3,X=[],Y=B?function(){return function(t){return Promise.resolve().then(t)}}():function(){return function(t){X.push(t)}}(),tt=[],et=[],nt=0,it=1,rt=1;O.prototype={open:function(t,e){if(this.state_!=nt)throw Error("Observer has already been opened.");return j(this),this.callback_=t,this.target_=e,this.connect_(),this.state_=it,this.value_},close:function(){this.state_==it&&(C(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=2)},deliver:function(){this.state_==it&&d(this)},report_:function(t){try{this.callback_.apply(this.target_,t)}catch(t){O._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(t.stack||t))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var st,ot=!B;O._allObserversCount=0,ot&&(st=[]);var at=!1;t.Platform=t.Platform||{},t.Platform.performMicrotaskCheckpoint=function(){if(!at&&ot){at=!0;var e,n,i=0;do{i++,n=st,st=[],e=!1;for(var r=0;r<n.length;r++){var s=n[r];s.state_==it&&(s.check_()&&(e=!0),st.push(s))}m()&&(e=!0)}while(i<G&&e);U&&(t.dirtyCheckCycleCount=i),at=!1}},ot&&(t.Platform.clearObservers=function(){st=[]}),A.prototype=D({__proto__:O.prototype,arrayObserve:!1,connect_:function(t,e){B?this.directObserver_=_(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(t){var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=t[n];return Array.isArray(t)&&(e.length=t.length),e},check_:function(t,e){var n,i;if(B){if(!t)return!1;i={},n=M(this.value_,t,i)}else i=this.oldObject_,n=y(this.value_,this.oldObject_);return!g(n)&&(B||(this.oldObject_=this.copyObject(this.value_)),this.report_([n.added||{},n.removed||{},n.changed||{},function(t){return i[t]}]),!0)},disconnect_:function(){B?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==it&&(B?this.directObserver_.deliver(!1):d(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),P.prototype=D({__proto__:A.prototype,arrayObserve:!0,copyObject:function(t){return t.slice()},check_:function(t){var e;if(B){if(!t)return!1;e=q(this.value_,t)}else e=I(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return!(!e||!e.length)&&(B||(this.oldObject_=this.copyObject(this.value_)),this.report_([e]),!0)}}),P.applySplices=function(t,e,n){n.forEach(function(n){for(var i=[n.index,n.removed.length],r=n.index;r<n.index+n.addedCount;)i.push(e[r]),r++;Array.prototype.splice.apply(t,i)})},k.prototype=D({__proto__:O.prototype,get path(){return this.path_},connect_:function(){B&&(this.directObserver_=w(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(t){this.path_.iterateObjects(this.object_,t)},check_:function(t,e){var n=this.value_;return this.value_=this.path_.getValueFrom(this.object_,this.defaultValue_),!e&&!o(this.value_,n)&&(this.report_([this.value_,n,this]),!0)},setValue:function(t){this.path_&&this.path_.setValueFrom(this.object_,t)}});var ut={};E.prototype=D({__proto__:O.prototype,connect_:function(){if(B){for(var t,e=!1,n=0;n<this.observed_.length;n+=2)if((t=this.observed_[n])!==ut){e=!0;break}e&&(this.directObserver_=w(this,t))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var t=0;t<this.observed_.length;t+=2)this.observed_[t]===ut&&this.observed_[t+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(t,e){if(this.state_!=nt&&3!=this.state_)throw Error("Cannot add paths once started.");if(e=f(e),this.observed_.push(t,e),this.reportChangesOnOpen_){var n=this.observed_.length/2-1;this.value_[n]=e.getValueFrom(t)}},addObserver:function(t){if(this.state_!=nt&&3!=this.state_)throw Error("Cannot add observers once started.");if(this.observed_.push(ut,t),this.reportChangesOnOpen_){var e=this.observed_.length/2-1;this.value_[e]=t.open(this.deliver,this)}},startReset:function(){if(this.state_!=it)throw Error("Can only reset while open");this.state_=3,this.disconnect_()},finishReset:function(){if(3!=this.state_)throw Error("Can only finishReset after startReset");return this.state_=it,this.connect_(),this.value_},iterateObjects_:function(t){for(var e,n=0;n<this.observed_.length;n+=2)(e=this.observed_[n])!==ut&&this.observed_[n+1].iterateObjects(e,t)},check_:function(t,e){for(var n,i=0;i<this.observed_.length;i+=2){var r,s=this.observed_[i],a=this.observed_[i+1];if(s===ut){var u=a;r=this.state_===nt?u.open(this.deliver,this):u.discardChanges()}else r=a.getValueFrom(s);e?this.value_[i/2]=r:o(r,this.value_[i/2])||((n=n||[])[i/2]=this.value_[i/2],this.value_[i/2]=r)}return!!n&&(this.report_([this.value_,n,this.observed_]),!0)}}),N.prototype={open:function(t,e){return this.callback_=t,this.target_=e,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(t){if(t=this.getValueFn_(t),!o(t,this.value_)){var e=this.value_;this.value_=t,this.callback_.call(this.target_,this.value_,e)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(t){if(t=this.setValueFn_(t),!this.dontPassThroughSet_&&this.observable_.setValue)return this.observable_.setValue(t)},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var lt={add:!0,update:!0,delete:!0};R.prototype={calcEditDistances:function(t,e,n,i,r,s){var o,a,u=s-r+1,l=n-e+1,h=new Array(u);for(o=0;o<u;o++)h[o]=new Array(l),h[o][0]=o;for(a=0;a<l;a++)h[0][a]=a;for(o=1;o<u;o++)for(a=1;a<l;a++)if(this.equals(t[e+a-1],i[r+o-1]))h[o][a]=h[o-1][a-1];else{var c=h[o-1][a]+1,f=h[o][a-1]+1;h[o][a]=c<f?c:f}return h},spliceOperationsFromEditDistances:function(t){for(var e=t.length-1,n=t[0].length-1,i=t[e][n],r=[];e>0||n>0;)if(0!=e)if(0!=n){var s,o=t[e-1][n-1],a=t[e-1][n],u=t[e][n-1];(s=a<u?a<o?a:o:u<o?u:o)==o?(o==i?r.push(0):(r.push(1),i=o),e--,n--):s==a?(r.push(3),e--,i=a):(r.push(2),n--,i=u)}else r.push(3),e--;else r.push(2),n--;return r.reverse(),r},calcSplices:function(t,e,n,i,r,s){var o=0,a=0,u=Math.min(n-e,s-r);if(0==e&&0==r&&(o=this.sharedPrefix(t,i,u)),n==t.length&&s==i.length&&(a=this.sharedSuffix(t,i,u-o)),e+=o,r+=o,n-=a,s-=a,n-e==0&&s-r==0)return[];var l;if(e==n){for(l=z(e,[],0);r<s;)l.removed.push(i[r++]);return[l]}if(r==s)return[z(e,[],n-e)];for(var h=this.spliceOperationsFromEditDistances(this.calcEditDistances(t,e,n,i,r,s)),c=[],f=e,p=r,d=0;d<h.length;d++)switch(h[d]){case 0:l&&(c.push(l),l=void 0),f++,p++;break;case 1:l||(l=z(f,[],0)),l.addedCount++,f++,l.removed.push(i[p]),p++;break;case 2:l||(l=z(f,[],0)),l.addedCount++,f++;break;case 3:l||(l=z(f,[],0)),l.removed.push(i[p]),p++}return l&&c.push(l),c},sharedPrefix:function(t,e,n){for(var i=0;i<n;i++)if(!this.equals(t[i],e[i]))return i;return n},sharedSuffix:function(t,e,n){for(var i=t.length,r=e.length,s=0;s<n&&this.equals(t[--i],e[--r]);)s++;return s},calculateSplices:function(t,e){return this.calcSplices(t,0,t.length,e,0,e.length)},equals:function(t,e){return t===e}};var ht=new R,ct=t;void 0===n||n.nodeType||(void 0!==e&&e.exports&&(n=e.exports),ct=n),ct.Observer=O,ct.Observer.runEOM_=Y,ct.Observer.observerSentinel_=ut,ct.Observer.hasObjectObserve=B,ct.ArrayObserver=P,ct.ArrayObserver.calculateSplices=function(t,e){return ht.calculateSplices(t,e)},ct.ArraySplice=R,ct.ObjectObserver=A,ct.PathObserver=k,ct.CompoundObserver=E,ct.Path=c,ct.ObserverTransform=N}(void 0!==t&&t&&void 0!==e&&e?t:this||window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],92:[function(t,e,n){"use strict";e.exports=function(t){return t.trim().replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{}],93:[function(t,e,n){!function(i,r){if(void 0!==n){var s=t("underscore");void 0!==e&&e.exports&&(e.exports=r(s)),n=r(s)}else i._.mixin(r(i._))}(this,function(t){return{catenate:function(){var e=arguments;return function(){var n,i=this,r=arguments;return t.each(e,function(t){t&&(n=t.apply(i,r))}),n}}}})},{underscore:"underscore"}],94:[function(t,e,n){!function(i,r){if(void 0!==n){var s=t("underscore");void 0!==e&&e.exports&&(e.exports=r(s)),n=r(s)}else i._.mixin(r(i._))}(this,function(t){return{deepClone:function(e){var n=t.clone(e);return t.each(n,function(e,i){t.isObject(e)&&(n[i]=t.deepClone(e))}),n}}})},{underscore:"underscore"}],95:[function(t,e,n){!function(i,r){if(void 0!==n){var s=t("underscore");void 0!==e&&e.exports&&(e.exports=r(s)),n=r(s)}else i._.mixin(r(i._))}(this,function(t){var e=function(t){return"["==t.charAt(0)&&"]"==t.charAt(t.length-1)},n=function(t){return"{"==t.charAt(0)&&"}"==t.charAt(t.length-1)};return{parse:function(t){if(""==t)return t;if("true"==t)t=!0;else if("false"==t)t=!1;else if("null"==t)t=null;else if("undefined"==t)t=void 0;else if(isNaN(t)||""==t){if(e(t)||n(t))try{t=JSON.parse(t)}catch(t){}}else t=parseFloat(t);return t}}})},{underscore:"underscore"}],96:[function(t,e,n){!function(i,r){if(void 0!==n){var s=t("underscore");void 0!==e&&e.exports&&(e.exports=r(s)),n=r(s)}else i._.mixin(r(i._))}(this,function(t){return{path:function(e,n){var i=n.split("."),r=e[i.shift()];return t.each(i,function(t){r=r[t]}),r}}})},{underscore:"underscore"}],97:[function(t,e,n){!function(i,r){if(void 0!==n){var s=t("underscore");s.mixin(t("underscore.path")),void 0!==e&&e.exports&&(e.exports=r(s)),n=r(s)}else i._.mixin(r(i._))}(this,function(t){return{pathExtend:function(e){return t.each([].splice.apply(arguments,[1]),function(n){if(n)for(var i in n){var r=i.split(".");if(1==r.length)e[i]=n[i];else{var s=r.pop();t.path(e,r.join("."))[s]=n[i]}}}),e}}})},{underscore:"underscore","underscore.path":96}],98:[function(t,e,n){!function(i,r){if(void 0!==n){var s=t("underscore");void 0!==e&&e.exports&&(e.exports=r(s)),n=r(s)}else i._.mixin(r(i._))}(this,function(t){return{prefilter:function(t,e){return function(){if(e.apply(this,arguments))return t.apply(this,arguments)}}}})},{underscore:"underscore"}],handlebars:[function(t,e,n){e.exports=window.Handlebars},{}],jquery:[function(t,e,n){e.exports=window.jQuery||window.$},{}],underscore:[function(t,e,n){e.exports=window._},{}]},{},[25]);